{"version":3,"file":"static/js/440.a8a56740.chunk.js","mappings":"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","sources":["../QRCodeStyling/webpack/universalModuleDefinition","../QRCodeStyling/node_modules/qrcode-generator/qrcode.js","../QRCodeStyling/src/tools/merge.ts","../QRCodeStyling/src/tools/downloadURI.ts","../QRCodeStyling/src/tools/toDataUrl.ts","../QRCodeStyling/src/constants/errorCorrectionPercents.ts","../QRCodeStyling/src/figures/dot/QRDot.ts","../QRCodeStyling/src/constants/dotTypes.ts","../QRCodeStyling/src/figures/cornerSquare/QRCornerSquare.ts","../QRCodeStyling/src/constants/cornerSquareTypes.ts","../QRCodeStyling/src/figures/cornerDot/QRCornerDot.ts","../QRCodeStyling/src/constants/cornerDotTypes.ts","../QRCodeStyling/src/constants/shapeTypes.ts","../QRCodeStyling/src/core/QRSVG.ts","../QRCodeStyling/src/tools/calculateImageSize.ts","../QRCodeStyling/src/constants/gradientTypes.ts","../QRCodeStyling/src/constants/drawTypes.ts","../QRCodeStyling/src/constants/qrTypes.ts","../QRCodeStyling/src/core/QROptions.ts","../QRCodeStyling/src/constants/errorCorrectionLevels.ts","../QRCodeStyling/src/tools/sanitizeOptions.ts","../QRCodeStyling/src/index.ts","../QRCodeStyling/src/core/QRCodeStyling.ts","../QRCodeStyling/src/tools/getMode.ts","../QRCodeStyling/src/constants/modes.ts","../QRCodeStyling/webpack/bootstrap","../QRCodeStyling/webpack/startup","../QRCodeStyling/webpack/runtime/compat get default export","../QRCodeStyling/webpack/runtime/define property getters","../QRCodeStyling/webpack/runtime/hasOwnProperty shorthand","../node_modules/@perawallet/connect/dist/App-428f5096.js","../node_modules/@evanhahn/lottie-web-light/index.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"QRCodeStyling\"] = factory();\n\telse\n\t\troot[\"QRCodeStyling\"] = factory();\n})(self, function() {\nreturn ","//---------------------------------------------------------------------\n//\n// QR Code Generator for JavaScript\n//\n// Copyright (c) 2009 Kazuhiko Arase\n//\n// URL: http://www.d-project.com/\n//\n// Licensed under the MIT license:\n//  http://www.opensource.org/licenses/mit-license.php\n//\n// The word 'QR Code' is registered trademark of\n// DENSO WAVE INCORPORATED\n//  http://www.denso-wave.com/qrcode/faqpatent-e.html\n//\n//---------------------------------------------------------------------\n\nvar qrcode = function() {\n\n  //---------------------------------------------------------------------\n  // qrcode\n  //---------------------------------------------------------------------\n\n  /**\n   * qrcode\n   * @param typeNumber 1 to 40\n   * @param errorCorrectionLevel 'L','M','Q','H'\n   */\n  var qrcode = function(typeNumber, errorCorrectionLevel) {\n\n    var PAD0 = 0xEC;\n    var PAD1 = 0x11;\n\n    var _typeNumber = typeNumber;\n    var _errorCorrectionLevel = QRErrorCorrectionLevel[errorCorrectionLevel];\n    var _modules = null;\n    var _moduleCount = 0;\n    var _dataCache = null;\n    var _dataList = [];\n\n    var _this = {};\n\n    var makeImpl = function(test, maskPattern) {\n\n      _moduleCount = _typeNumber * 4 + 17;\n      _modules = function(moduleCount) {\n        var modules = new Array(moduleCount);\n        for (var row = 0; row < moduleCount; row += 1) {\n          modules[row] = new Array(moduleCount);\n          for (var col = 0; col < moduleCount; col += 1) {\n            modules[row][col] = null;\n          }\n        }\n        return modules;\n      }(_moduleCount);\n\n      setupPositionProbePattern(0, 0);\n      setupPositionProbePattern(_moduleCount - 7, 0);\n      setupPositionProbePattern(0, _moduleCount - 7);\n      setupPositionAdjustPattern();\n      setupTimingPattern();\n      setupTypeInfo(test, maskPattern);\n\n      if (_typeNumber >= 7) {\n        setupTypeNumber(test);\n      }\n\n      if (_dataCache == null) {\n        _dataCache = createData(_typeNumber, _errorCorrectionLevel, _dataList);\n      }\n\n      mapData(_dataCache, maskPattern);\n    };\n\n    var setupPositionProbePattern = function(row, col) {\n\n      for (var r = -1; r <= 7; r += 1) {\n\n        if (row + r <= -1 || _moduleCount <= row + r) continue;\n\n        for (var c = -1; c <= 7; c += 1) {\n\n          if (col + c <= -1 || _moduleCount <= col + c) continue;\n\n          if ( (0 <= r && r <= 6 && (c == 0 || c == 6) )\n              || (0 <= c && c <= 6 && (r == 0 || r == 6) )\n              || (2 <= r && r <= 4 && 2 <= c && c <= 4) ) {\n            _modules[row + r][col + c] = true;\n          } else {\n            _modules[row + r][col + c] = false;\n          }\n        }\n      }\n    };\n\n    var getBestMaskPattern = function() {\n\n      var minLostPoint = 0;\n      var pattern = 0;\n\n      for (var i = 0; i < 8; i += 1) {\n\n        makeImpl(true, i);\n\n        var lostPoint = QRUtil.getLostPoint(_this);\n\n        if (i == 0 || minLostPoint > lostPoint) {\n          minLostPoint = lostPoint;\n          pattern = i;\n        }\n      }\n\n      return pattern;\n    };\n\n    var setupTimingPattern = function() {\n\n      for (var r = 8; r < _moduleCount - 8; r += 1) {\n        if (_modules[r][6] != null) {\n          continue;\n        }\n        _modules[r][6] = (r % 2 == 0);\n      }\n\n      for (var c = 8; c < _moduleCount - 8; c += 1) {\n        if (_modules[6][c] != null) {\n          continue;\n        }\n        _modules[6][c] = (c % 2 == 0);\n      }\n    };\n\n    var setupPositionAdjustPattern = function() {\n\n      var pos = QRUtil.getPatternPosition(_typeNumber);\n\n      for (var i = 0; i < pos.length; i += 1) {\n\n        for (var j = 0; j < pos.length; j += 1) {\n\n          var row = pos[i];\n          var col = pos[j];\n\n          if (_modules[row][col] != null) {\n            continue;\n          }\n\n          for (var r = -2; r <= 2; r += 1) {\n\n            for (var c = -2; c <= 2; c += 1) {\n\n              if (r == -2 || r == 2 || c == -2 || c == 2\n                  || (r == 0 && c == 0) ) {\n                _modules[row + r][col + c] = true;\n              } else {\n                _modules[row + r][col + c] = false;\n              }\n            }\n          }\n        }\n      }\n    };\n\n    var setupTypeNumber = function(test) {\n\n      var bits = QRUtil.getBCHTypeNumber(_typeNumber);\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[Math.floor(i / 3)][i % 3 + _moduleCount - 8 - 3] = mod;\n      }\n\n      for (var i = 0; i < 18; i += 1) {\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n        _modules[i % 3 + _moduleCount - 8 - 3][Math.floor(i / 3)] = mod;\n      }\n    };\n\n    var setupTypeInfo = function(test, maskPattern) {\n\n      var data = (_errorCorrectionLevel << 3) | maskPattern;\n      var bits = QRUtil.getBCHTypeInfo(data);\n\n      // vertical\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 6) {\n          _modules[i][8] = mod;\n        } else if (i < 8) {\n          _modules[i + 1][8] = mod;\n        } else {\n          _modules[_moduleCount - 15 + i][8] = mod;\n        }\n      }\n\n      // horizontal\n      for (var i = 0; i < 15; i += 1) {\n\n        var mod = (!test && ( (bits >> i) & 1) == 1);\n\n        if (i < 8) {\n          _modules[8][_moduleCount - i - 1] = mod;\n        } else if (i < 9) {\n          _modules[8][15 - i - 1 + 1] = mod;\n        } else {\n          _modules[8][15 - i - 1] = mod;\n        }\n      }\n\n      // fixed module\n      _modules[_moduleCount - 8][8] = (!test);\n    };\n\n    var mapData = function(data, maskPattern) {\n\n      var inc = -1;\n      var row = _moduleCount - 1;\n      var bitIndex = 7;\n      var byteIndex = 0;\n      var maskFunc = QRUtil.getMaskFunction(maskPattern);\n\n      for (var col = _moduleCount - 1; col > 0; col -= 2) {\n\n        if (col == 6) col -= 1;\n\n        while (true) {\n\n          for (var c = 0; c < 2; c += 1) {\n\n            if (_modules[row][col - c] == null) {\n\n              var dark = false;\n\n              if (byteIndex < data.length) {\n                dark = ( ( (data[byteIndex] >>> bitIndex) & 1) == 1);\n              }\n\n              var mask = maskFunc(row, col - c);\n\n              if (mask) {\n                dark = !dark;\n              }\n\n              _modules[row][col - c] = dark;\n              bitIndex -= 1;\n\n              if (bitIndex == -1) {\n                byteIndex += 1;\n                bitIndex = 7;\n              }\n            }\n          }\n\n          row += inc;\n\n          if (row < 0 || _moduleCount <= row) {\n            row -= inc;\n            inc = -inc;\n            break;\n          }\n        }\n      }\n    };\n\n    var createBytes = function(buffer, rsBlocks) {\n\n      var offset = 0;\n\n      var maxDcCount = 0;\n      var maxEcCount = 0;\n\n      var dcdata = new Array(rsBlocks.length);\n      var ecdata = new Array(rsBlocks.length);\n\n      for (var r = 0; r < rsBlocks.length; r += 1) {\n\n        var dcCount = rsBlocks[r].dataCount;\n        var ecCount = rsBlocks[r].totalCount - dcCount;\n\n        maxDcCount = Math.max(maxDcCount, dcCount);\n        maxEcCount = Math.max(maxEcCount, ecCount);\n\n        dcdata[r] = new Array(dcCount);\n\n        for (var i = 0; i < dcdata[r].length; i += 1) {\n          dcdata[r][i] = 0xff & buffer.getBuffer()[i + offset];\n        }\n        offset += dcCount;\n\n        var rsPoly = QRUtil.getErrorCorrectPolynomial(ecCount);\n        var rawPoly = qrPolynomial(dcdata[r], rsPoly.getLength() - 1);\n\n        var modPoly = rawPoly.mod(rsPoly);\n        ecdata[r] = new Array(rsPoly.getLength() - 1);\n        for (var i = 0; i < ecdata[r].length; i += 1) {\n          var modIndex = i + modPoly.getLength() - ecdata[r].length;\n          ecdata[r][i] = (modIndex >= 0)? modPoly.getAt(modIndex) : 0;\n        }\n      }\n\n      var totalCodeCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalCodeCount += rsBlocks[i].totalCount;\n      }\n\n      var data = new Array(totalCodeCount);\n      var index = 0;\n\n      for (var i = 0; i < maxDcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < dcdata[r].length) {\n            data[index] = dcdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      for (var i = 0; i < maxEcCount; i += 1) {\n        for (var r = 0; r < rsBlocks.length; r += 1) {\n          if (i < ecdata[r].length) {\n            data[index] = ecdata[r][i];\n            index += 1;\n          }\n        }\n      }\n\n      return data;\n    };\n\n    var createData = function(typeNumber, errorCorrectionLevel, dataList) {\n\n      var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, errorCorrectionLevel);\n\n      var buffer = qrBitBuffer();\n\n      for (var i = 0; i < dataList.length; i += 1) {\n        var data = dataList[i];\n        buffer.put(data.getMode(), 4);\n        buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n        data.write(buffer);\n      }\n\n      // calc num max data.\n      var totalDataCount = 0;\n      for (var i = 0; i < rsBlocks.length; i += 1) {\n        totalDataCount += rsBlocks[i].dataCount;\n      }\n\n      if (buffer.getLengthInBits() > totalDataCount * 8) {\n        throw 'code length overflow. ('\n          + buffer.getLengthInBits()\n          + '>'\n          + totalDataCount * 8\n          + ')';\n      }\n\n      // end code\n      if (buffer.getLengthInBits() + 4 <= totalDataCount * 8) {\n        buffer.put(0, 4);\n      }\n\n      // padding\n      while (buffer.getLengthInBits() % 8 != 0) {\n        buffer.putBit(false);\n      }\n\n      // padding\n      while (true) {\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD0, 8);\n\n        if (buffer.getLengthInBits() >= totalDataCount * 8) {\n          break;\n        }\n        buffer.put(PAD1, 8);\n      }\n\n      return createBytes(buffer, rsBlocks);\n    };\n\n    _this.addData = function(data, mode) {\n\n      mode = mode || 'Byte';\n\n      var newData = null;\n\n      switch(mode) {\n      case 'Numeric' :\n        newData = qrNumber(data);\n        break;\n      case 'Alphanumeric' :\n        newData = qrAlphaNum(data);\n        break;\n      case 'Byte' :\n        newData = qr8BitByte(data);\n        break;\n      case 'Kanji' :\n        newData = qrKanji(data);\n        break;\n      default :\n        throw 'mode:' + mode;\n      }\n\n      _dataList.push(newData);\n      _dataCache = null;\n    };\n\n    _this.isDark = function(row, col) {\n      if (row < 0 || _moduleCount <= row || col < 0 || _moduleCount <= col) {\n        throw row + ',' + col;\n      }\n      return _modules[row][col];\n    };\n\n    _this.getModuleCount = function() {\n      return _moduleCount;\n    };\n\n    _this.make = function() {\n      if (_typeNumber < 1) {\n        var typeNumber = 1;\n\n        for (; typeNumber < 40; typeNumber++) {\n          var rsBlocks = QRRSBlock.getRSBlocks(typeNumber, _errorCorrectionLevel);\n          var buffer = qrBitBuffer();\n\n          for (var i = 0; i < _dataList.length; i++) {\n            var data = _dataList[i];\n            buffer.put(data.getMode(), 4);\n            buffer.put(data.getLength(), QRUtil.getLengthInBits(data.getMode(), typeNumber) );\n            data.write(buffer);\n          }\n\n          var totalDataCount = 0;\n          for (var i = 0; i < rsBlocks.length; i++) {\n            totalDataCount += rsBlocks[i].dataCount;\n          }\n\n          if (buffer.getLengthInBits() <= totalDataCount * 8) {\n            break;\n          }\n        }\n\n        _typeNumber = typeNumber;\n      }\n\n      makeImpl(false, getBestMaskPattern() );\n    };\n\n    _this.createTableTag = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var qrHtml = '';\n\n      qrHtml += '<table style=\"';\n      qrHtml += ' border-width: 0px; border-style: none;';\n      qrHtml += ' border-collapse: collapse;';\n      qrHtml += ' padding: 0px; margin: ' + margin + 'px;';\n      qrHtml += '\">';\n      qrHtml += '<tbody>';\n\n      for (var r = 0; r < _this.getModuleCount(); r += 1) {\n\n        qrHtml += '<tr>';\n\n        for (var c = 0; c < _this.getModuleCount(); c += 1) {\n          qrHtml += '<td style=\"';\n          qrHtml += ' border-width: 0px; border-style: none;';\n          qrHtml += ' border-collapse: collapse;';\n          qrHtml += ' padding: 0px; margin: 0px;';\n          qrHtml += ' width: ' + cellSize + 'px;';\n          qrHtml += ' height: ' + cellSize + 'px;';\n          qrHtml += ' background-color: ';\n          qrHtml += _this.isDark(r, c)? '#000000' : '#ffffff';\n          qrHtml += ';';\n          qrHtml += '\"/>';\n        }\n\n        qrHtml += '</tr>';\n      }\n\n      qrHtml += '</tbody>';\n      qrHtml += '</table>';\n\n      return qrHtml;\n    };\n\n    _this.createSvgTag = function(cellSize, margin, alt, title) {\n\n      var opts = {};\n      if (typeof arguments[0] == 'object') {\n        // Called by options.\n        opts = arguments[0];\n        // overwrite cellSize and margin.\n        cellSize = opts.cellSize;\n        margin = opts.margin;\n        alt = opts.alt;\n        title = opts.title;\n      }\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      // Compose alt property surrogate\n      alt = (typeof alt === 'string') ? {text: alt} : alt || {};\n      alt.text = alt.text || null;\n      alt.id = (alt.text) ? alt.id || 'qrcode-description' : null;\n\n      // Compose title property surrogate\n      title = (typeof title === 'string') ? {text: title} : title || {};\n      title.text = title.text || null;\n      title.id = (title.text) ? title.id || 'qrcode-title' : null;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var c, mc, r, mr, qrSvg='', rect;\n\n      rect = 'l' + cellSize + ',0 0,' + cellSize +\n        ' -' + cellSize + ',0 0,-' + cellSize + 'z ';\n\n      qrSvg += '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\"';\n      qrSvg += !opts.scalable ? ' width=\"' + size + 'px\" height=\"' + size + 'px\"' : '';\n      qrSvg += ' viewBox=\"0 0 ' + size + ' ' + size + '\" ';\n      qrSvg += ' preserveAspectRatio=\"xMinYMin meet\"';\n      qrSvg += (title.text || alt.text) ? ' role=\"img\" aria-labelledby=\"' +\n          escapeXml([title.id, alt.id].join(' ').trim() ) + '\"' : '';\n      qrSvg += '>';\n      qrSvg += (title.text) ? '<title id=\"' + escapeXml(title.id) + '\">' +\n          escapeXml(title.text) + '</title>' : '';\n      qrSvg += (alt.text) ? '<description id=\"' + escapeXml(alt.id) + '\">' +\n          escapeXml(alt.text) + '</description>' : '';\n      qrSvg += '<rect width=\"100%\" height=\"100%\" fill=\"white\" cx=\"0\" cy=\"0\"/>';\n      qrSvg += '<path d=\"';\n\n      for (r = 0; r < _this.getModuleCount(); r += 1) {\n        mr = r * cellSize + margin;\n        for (c = 0; c < _this.getModuleCount(); c += 1) {\n          if (_this.isDark(r, c) ) {\n            mc = c*cellSize+margin;\n            qrSvg += 'M' + mc + ',' + mr + rect;\n          }\n        }\n      }\n\n      qrSvg += '\" stroke=\"transparent\" fill=\"black\"/>';\n      qrSvg += '</svg>';\n\n      return qrSvg;\n    };\n\n    _this.createDataURL = function(cellSize, margin) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      return createDataURL(size, size, function(x, y) {\n        if (min <= x && x < max && min <= y && y < max) {\n          var c = Math.floor( (x - min) / cellSize);\n          var r = Math.floor( (y - min) / cellSize);\n          return _this.isDark(r, c)? 0 : 1;\n        } else {\n          return 1;\n        }\n      } );\n    };\n\n    _this.createImgTag = function(cellSize, margin, alt) {\n\n      cellSize = cellSize || 2;\n      margin = (typeof margin == 'undefined')? cellSize * 4 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n\n      var img = '';\n      img += '<img';\n      img += '\\u0020src=\"';\n      img += _this.createDataURL(cellSize, margin);\n      img += '\"';\n      img += '\\u0020width=\"';\n      img += size;\n      img += '\"';\n      img += '\\u0020height=\"';\n      img += size;\n      img += '\"';\n      if (alt) {\n        img += '\\u0020alt=\"';\n        img += escapeXml(alt);\n        img += '\"';\n      }\n      img += '/>';\n\n      return img;\n    };\n\n    var escapeXml = function(s) {\n      var escaped = '';\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charAt(i);\n        switch(c) {\n        case '<': escaped += '&lt;'; break;\n        case '>': escaped += '&gt;'; break;\n        case '&': escaped += '&amp;'; break;\n        case '\"': escaped += '&quot;'; break;\n        default : escaped += c; break;\n        }\n      }\n      return escaped;\n    };\n\n    var _createHalfASCII = function(margin) {\n      var cellSize = 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r1, r2, p;\n\n      var blocks = {\n        '': '',\n        ' ': '',\n        ' ': '',\n        '  ': ' '\n      };\n\n      var blocksLastLineNoMargin = {\n        '': '',\n        ' ': '',\n        ' ': ' ',\n        '  ': ' '\n      };\n\n      var ascii = '';\n      for (y = 0; y < size; y += 2) {\n        r1 = Math.floor((y - min) / cellSize);\n        r2 = Math.floor((y + 1 - min) / cellSize);\n        for (x = 0; x < size; x += 1) {\n          p = '';\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r1, Math.floor((x - min) / cellSize))) {\n            p = ' ';\n          }\n\n          if (min <= x && x < max && min <= y+1 && y+1 < max && _this.isDark(r2, Math.floor((x - min) / cellSize))) {\n            p += ' ';\n          }\n          else {\n            p += '';\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          ascii += (margin < 1 && y+1 >= max) ? blocksLastLineNoMargin[p] : blocks[p];\n        }\n\n        ascii += '\\n';\n      }\n\n      if (size % 2 && margin > 0) {\n        return ascii.substring(0, ascii.length - size - 1) + Array(size+1).join('');\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.createASCII = function(cellSize, margin) {\n      cellSize = cellSize || 1;\n\n      if (cellSize < 2) {\n        return _createHalfASCII(margin);\n      }\n\n      cellSize -= 1;\n      margin = (typeof margin == 'undefined')? cellSize * 2 : margin;\n\n      var size = _this.getModuleCount() * cellSize + margin * 2;\n      var min = margin;\n      var max = size - margin;\n\n      var y, x, r, p;\n\n      var white = Array(cellSize+1).join('');\n      var black = Array(cellSize+1).join('  ');\n\n      var ascii = '';\n      var line = '';\n      for (y = 0; y < size; y += 1) {\n        r = Math.floor( (y - min) / cellSize);\n        line = '';\n        for (x = 0; x < size; x += 1) {\n          p = 1;\n\n          if (min <= x && x < max && min <= y && y < max && _this.isDark(r, Math.floor((x - min) / cellSize))) {\n            p = 0;\n          }\n\n          // Output 2 characters per pixel, to create full square. 1 character per pixels gives only half width of square.\n          line += p ? white : black;\n        }\n\n        for (r = 0; r < cellSize; r += 1) {\n          ascii += line + '\\n';\n        }\n      }\n\n      return ascii.substring(0, ascii.length-1);\n    };\n\n    _this.renderTo2dContext = function(context, cellSize) {\n      cellSize = cellSize || 2;\n      var length = _this.getModuleCount();\n      for (var row = 0; row < length; row++) {\n        for (var col = 0; col < length; col++) {\n          context.fillStyle = _this.isDark(row, col) ? 'black' : 'white';\n          context.fillRect(row * cellSize, col * cellSize, cellSize, cellSize);\n        }\n      }\n    }\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrcode.stringToBytes\n  //---------------------------------------------------------------------\n\n  qrcode.stringToBytesFuncs = {\n    'default' : function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        bytes.push(c & 0xff);\n      }\n      return bytes;\n    }\n  };\n\n  qrcode.stringToBytes = qrcode.stringToBytesFuncs['default'];\n\n  //---------------------------------------------------------------------\n  // qrcode.createStringToBytes\n  //---------------------------------------------------------------------\n\n  /**\n   * @param unicodeData base64 string of byte array.\n   * [16bit Unicode],[16bit Bytes], ...\n   * @param numChars\n   */\n  qrcode.createStringToBytes = function(unicodeData, numChars) {\n\n    // create conversion map.\n\n    var unicodeMap = function() {\n\n      var bin = base64DecodeInputStream(unicodeData);\n      var read = function() {\n        var b = bin.read();\n        if (b == -1) throw 'eof';\n        return b;\n      };\n\n      var count = 0;\n      var unicodeMap = {};\n      while (true) {\n        var b0 = bin.read();\n        if (b0 == -1) break;\n        var b1 = read();\n        var b2 = read();\n        var b3 = read();\n        var k = String.fromCharCode( (b0 << 8) | b1);\n        var v = (b2 << 8) | b3;\n        unicodeMap[k] = v;\n        count += 1;\n      }\n      if (count != numChars) {\n        throw count + ' != ' + numChars;\n      }\n\n      return unicodeMap;\n    }();\n\n    var unknownChar = '?'.charCodeAt(0);\n\n    return function(s) {\n      var bytes = [];\n      for (var i = 0; i < s.length; i += 1) {\n        var c = s.charCodeAt(i);\n        if (c < 128) {\n          bytes.push(c);\n        } else {\n          var b = unicodeMap[s.charAt(i)];\n          if (typeof b == 'number') {\n            if ( (b & 0xff) == b) {\n              // 1byte\n              bytes.push(b);\n            } else {\n              // 2bytes\n              bytes.push(b >>> 8);\n              bytes.push(b & 0xff);\n            }\n          } else {\n            bytes.push(unknownChar);\n          }\n        }\n      }\n      return bytes;\n    };\n  };\n\n  //---------------------------------------------------------------------\n  // QRMode\n  //---------------------------------------------------------------------\n\n  var QRMode = {\n    MODE_NUMBER :    1 << 0,\n    MODE_ALPHA_NUM : 1 << 1,\n    MODE_8BIT_BYTE : 1 << 2,\n    MODE_KANJI :     1 << 3\n  };\n\n  //---------------------------------------------------------------------\n  // QRErrorCorrectionLevel\n  //---------------------------------------------------------------------\n\n  var QRErrorCorrectionLevel = {\n    L : 1,\n    M : 0,\n    Q : 3,\n    H : 2\n  };\n\n  //---------------------------------------------------------------------\n  // QRMaskPattern\n  //---------------------------------------------------------------------\n\n  var QRMaskPattern = {\n    PATTERN000 : 0,\n    PATTERN001 : 1,\n    PATTERN010 : 2,\n    PATTERN011 : 3,\n    PATTERN100 : 4,\n    PATTERN101 : 5,\n    PATTERN110 : 6,\n    PATTERN111 : 7\n  };\n\n  //---------------------------------------------------------------------\n  // QRUtil\n  //---------------------------------------------------------------------\n\n  var QRUtil = function() {\n\n    var PATTERN_POSITION_TABLE = [\n      [],\n      [6, 18],\n      [6, 22],\n      [6, 26],\n      [6, 30],\n      [6, 34],\n      [6, 22, 38],\n      [6, 24, 42],\n      [6, 26, 46],\n      [6, 28, 50],\n      [6, 30, 54],\n      [6, 32, 58],\n      [6, 34, 62],\n      [6, 26, 46, 66],\n      [6, 26, 48, 70],\n      [6, 26, 50, 74],\n      [6, 30, 54, 78],\n      [6, 30, 56, 82],\n      [6, 30, 58, 86],\n      [6, 34, 62, 90],\n      [6, 28, 50, 72, 94],\n      [6, 26, 50, 74, 98],\n      [6, 30, 54, 78, 102],\n      [6, 28, 54, 80, 106],\n      [6, 32, 58, 84, 110],\n      [6, 30, 58, 86, 114],\n      [6, 34, 62, 90, 118],\n      [6, 26, 50, 74, 98, 122],\n      [6, 30, 54, 78, 102, 126],\n      [6, 26, 52, 78, 104, 130],\n      [6, 30, 56, 82, 108, 134],\n      [6, 34, 60, 86, 112, 138],\n      [6, 30, 58, 86, 114, 142],\n      [6, 34, 62, 90, 118, 146],\n      [6, 30, 54, 78, 102, 126, 150],\n      [6, 24, 50, 76, 102, 128, 154],\n      [6, 28, 54, 80, 106, 132, 158],\n      [6, 32, 58, 84, 110, 136, 162],\n      [6, 26, 54, 82, 110, 138, 166],\n      [6, 30, 58, 86, 114, 142, 170]\n    ];\n    var G15 = (1 << 10) | (1 << 8) | (1 << 5) | (1 << 4) | (1 << 2) | (1 << 1) | (1 << 0);\n    var G18 = (1 << 12) | (1 << 11) | (1 << 10) | (1 << 9) | (1 << 8) | (1 << 5) | (1 << 2) | (1 << 0);\n    var G15_MASK = (1 << 14) | (1 << 12) | (1 << 10) | (1 << 4) | (1 << 1);\n\n    var _this = {};\n\n    var getBCHDigit = function(data) {\n      var digit = 0;\n      while (data != 0) {\n        digit += 1;\n        data >>>= 1;\n      }\n      return digit;\n    };\n\n    _this.getBCHTypeInfo = function(data) {\n      var d = data << 10;\n      while (getBCHDigit(d) - getBCHDigit(G15) >= 0) {\n        d ^= (G15 << (getBCHDigit(d) - getBCHDigit(G15) ) );\n      }\n      return ( (data << 10) | d) ^ G15_MASK;\n    };\n\n    _this.getBCHTypeNumber = function(data) {\n      var d = data << 12;\n      while (getBCHDigit(d) - getBCHDigit(G18) >= 0) {\n        d ^= (G18 << (getBCHDigit(d) - getBCHDigit(G18) ) );\n      }\n      return (data << 12) | d;\n    };\n\n    _this.getPatternPosition = function(typeNumber) {\n      return PATTERN_POSITION_TABLE[typeNumber - 1];\n    };\n\n    _this.getMaskFunction = function(maskPattern) {\n\n      switch (maskPattern) {\n\n      case QRMaskPattern.PATTERN000 :\n        return function(i, j) { return (i + j) % 2 == 0; };\n      case QRMaskPattern.PATTERN001 :\n        return function(i, j) { return i % 2 == 0; };\n      case QRMaskPattern.PATTERN010 :\n        return function(i, j) { return j % 3 == 0; };\n      case QRMaskPattern.PATTERN011 :\n        return function(i, j) { return (i + j) % 3 == 0; };\n      case QRMaskPattern.PATTERN100 :\n        return function(i, j) { return (Math.floor(i / 2) + Math.floor(j / 3) ) % 2 == 0; };\n      case QRMaskPattern.PATTERN101 :\n        return function(i, j) { return (i * j) % 2 + (i * j) % 3 == 0; };\n      case QRMaskPattern.PATTERN110 :\n        return function(i, j) { return ( (i * j) % 2 + (i * j) % 3) % 2 == 0; };\n      case QRMaskPattern.PATTERN111 :\n        return function(i, j) { return ( (i * j) % 3 + (i + j) % 2) % 2 == 0; };\n\n      default :\n        throw 'bad maskPattern:' + maskPattern;\n      }\n    };\n\n    _this.getErrorCorrectPolynomial = function(errorCorrectLength) {\n      var a = qrPolynomial([1], 0);\n      for (var i = 0; i < errorCorrectLength; i += 1) {\n        a = a.multiply(qrPolynomial([1, QRMath.gexp(i)], 0) );\n      }\n      return a;\n    };\n\n    _this.getLengthInBits = function(mode, type) {\n\n      if (1 <= type && type < 10) {\n\n        // 1 - 9\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 10;\n        case QRMode.MODE_ALPHA_NUM : return 9;\n        case QRMode.MODE_8BIT_BYTE : return 8;\n        case QRMode.MODE_KANJI     : return 8;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 27) {\n\n        // 10 - 26\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 12;\n        case QRMode.MODE_ALPHA_NUM : return 11;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 10;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else if (type < 41) {\n\n        // 27 - 40\n\n        switch(mode) {\n        case QRMode.MODE_NUMBER    : return 14;\n        case QRMode.MODE_ALPHA_NUM : return 13;\n        case QRMode.MODE_8BIT_BYTE : return 16;\n        case QRMode.MODE_KANJI     : return 12;\n        default :\n          throw 'mode:' + mode;\n        }\n\n      } else {\n        throw 'type:' + type;\n      }\n    };\n\n    _this.getLostPoint = function(qrcode) {\n\n      var moduleCount = qrcode.getModuleCount();\n\n      var lostPoint = 0;\n\n      // LEVEL1\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount; col += 1) {\n\n          var sameCount = 0;\n          var dark = qrcode.isDark(row, col);\n\n          for (var r = -1; r <= 1; r += 1) {\n\n            if (row + r < 0 || moduleCount <= row + r) {\n              continue;\n            }\n\n            for (var c = -1; c <= 1; c += 1) {\n\n              if (col + c < 0 || moduleCount <= col + c) {\n                continue;\n              }\n\n              if (r == 0 && c == 0) {\n                continue;\n              }\n\n              if (dark == qrcode.isDark(row + r, col + c) ) {\n                sameCount += 1;\n              }\n            }\n          }\n\n          if (sameCount > 5) {\n            lostPoint += (3 + sameCount - 5);\n          }\n        }\n      };\n\n      // LEVEL2\n\n      for (var row = 0; row < moduleCount - 1; row += 1) {\n        for (var col = 0; col < moduleCount - 1; col += 1) {\n          var count = 0;\n          if (qrcode.isDark(row, col) ) count += 1;\n          if (qrcode.isDark(row + 1, col) ) count += 1;\n          if (qrcode.isDark(row, col + 1) ) count += 1;\n          if (qrcode.isDark(row + 1, col + 1) ) count += 1;\n          if (count == 0 || count == 4) {\n            lostPoint += 3;\n          }\n        }\n      }\n\n      // LEVEL3\n\n      for (var row = 0; row < moduleCount; row += 1) {\n        for (var col = 0; col < moduleCount - 6; col += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row, col + 1)\n              &&  qrcode.isDark(row, col + 2)\n              &&  qrcode.isDark(row, col + 3)\n              &&  qrcode.isDark(row, col + 4)\n              && !qrcode.isDark(row, col + 5)\n              &&  qrcode.isDark(row, col + 6) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount - 6; row += 1) {\n          if (qrcode.isDark(row, col)\n              && !qrcode.isDark(row + 1, col)\n              &&  qrcode.isDark(row + 2, col)\n              &&  qrcode.isDark(row + 3, col)\n              &&  qrcode.isDark(row + 4, col)\n              && !qrcode.isDark(row + 5, col)\n              &&  qrcode.isDark(row + 6, col) ) {\n            lostPoint += 40;\n          }\n        }\n      }\n\n      // LEVEL4\n\n      var darkCount = 0;\n\n      for (var col = 0; col < moduleCount; col += 1) {\n        for (var row = 0; row < moduleCount; row += 1) {\n          if (qrcode.isDark(row, col) ) {\n            darkCount += 1;\n          }\n        }\n      }\n\n      var ratio = Math.abs(100 * darkCount / moduleCount / moduleCount - 50) / 5;\n      lostPoint += ratio * 10;\n\n      return lostPoint;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // QRMath\n  //---------------------------------------------------------------------\n\n  var QRMath = function() {\n\n    var EXP_TABLE = new Array(256);\n    var LOG_TABLE = new Array(256);\n\n    // initialize tables\n    for (var i = 0; i < 8; i += 1) {\n      EXP_TABLE[i] = 1 << i;\n    }\n    for (var i = 8; i < 256; i += 1) {\n      EXP_TABLE[i] = EXP_TABLE[i - 4]\n        ^ EXP_TABLE[i - 5]\n        ^ EXP_TABLE[i - 6]\n        ^ EXP_TABLE[i - 8];\n    }\n    for (var i = 0; i < 255; i += 1) {\n      LOG_TABLE[EXP_TABLE[i] ] = i;\n    }\n\n    var _this = {};\n\n    _this.glog = function(n) {\n\n      if (n < 1) {\n        throw 'glog(' + n + ')';\n      }\n\n      return LOG_TABLE[n];\n    };\n\n    _this.gexp = function(n) {\n\n      while (n < 0) {\n        n += 255;\n      }\n\n      while (n >= 256) {\n        n -= 255;\n      }\n\n      return EXP_TABLE[n];\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrPolynomial\n  //---------------------------------------------------------------------\n\n  function qrPolynomial(num, shift) {\n\n    if (typeof num.length == 'undefined') {\n      throw num.length + '/' + shift;\n    }\n\n    var _num = function() {\n      var offset = 0;\n      while (offset < num.length && num[offset] == 0) {\n        offset += 1;\n      }\n      var _num = new Array(num.length - offset + shift);\n      for (var i = 0; i < num.length - offset; i += 1) {\n        _num[i] = num[i + offset];\n      }\n      return _num;\n    }();\n\n    var _this = {};\n\n    _this.getAt = function(index) {\n      return _num[index];\n    };\n\n    _this.getLength = function() {\n      return _num.length;\n    };\n\n    _this.multiply = function(e) {\n\n      var num = new Array(_this.getLength() + e.getLength() - 1);\n\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        for (var j = 0; j < e.getLength(); j += 1) {\n          num[i + j] ^= QRMath.gexp(QRMath.glog(_this.getAt(i) ) + QRMath.glog(e.getAt(j) ) );\n        }\n      }\n\n      return qrPolynomial(num, 0);\n    };\n\n    _this.mod = function(e) {\n\n      if (_this.getLength() - e.getLength() < 0) {\n        return _this;\n      }\n\n      var ratio = QRMath.glog(_this.getAt(0) ) - QRMath.glog(e.getAt(0) );\n\n      var num = new Array(_this.getLength() );\n      for (var i = 0; i < _this.getLength(); i += 1) {\n        num[i] = _this.getAt(i);\n      }\n\n      for (var i = 0; i < e.getLength(); i += 1) {\n        num[i] ^= QRMath.gexp(QRMath.glog(e.getAt(i) ) + ratio);\n      }\n\n      // recursive call\n      return qrPolynomial(num, 0).mod(e);\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // QRRSBlock\n  //---------------------------------------------------------------------\n\n  var QRRSBlock = function() {\n\n    var RS_BLOCK_TABLE = [\n\n      // L\n      // M\n      // Q\n      // H\n\n      // 1\n      [1, 26, 19],\n      [1, 26, 16],\n      [1, 26, 13],\n      [1, 26, 9],\n\n      // 2\n      [1, 44, 34],\n      [1, 44, 28],\n      [1, 44, 22],\n      [1, 44, 16],\n\n      // 3\n      [1, 70, 55],\n      [1, 70, 44],\n      [2, 35, 17],\n      [2, 35, 13],\n\n      // 4\n      [1, 100, 80],\n      [2, 50, 32],\n      [2, 50, 24],\n      [4, 25, 9],\n\n      // 5\n      [1, 134, 108],\n      [2, 67, 43],\n      [2, 33, 15, 2, 34, 16],\n      [2, 33, 11, 2, 34, 12],\n\n      // 6\n      [2, 86, 68],\n      [4, 43, 27],\n      [4, 43, 19],\n      [4, 43, 15],\n\n      // 7\n      [2, 98, 78],\n      [4, 49, 31],\n      [2, 32, 14, 4, 33, 15],\n      [4, 39, 13, 1, 40, 14],\n\n      // 8\n      [2, 121, 97],\n      [2, 60, 38, 2, 61, 39],\n      [4, 40, 18, 2, 41, 19],\n      [4, 40, 14, 2, 41, 15],\n\n      // 9\n      [2, 146, 116],\n      [3, 58, 36, 2, 59, 37],\n      [4, 36, 16, 4, 37, 17],\n      [4, 36, 12, 4, 37, 13],\n\n      // 10\n      [2, 86, 68, 2, 87, 69],\n      [4, 69, 43, 1, 70, 44],\n      [6, 43, 19, 2, 44, 20],\n      [6, 43, 15, 2, 44, 16],\n\n      // 11\n      [4, 101, 81],\n      [1, 80, 50, 4, 81, 51],\n      [4, 50, 22, 4, 51, 23],\n      [3, 36, 12, 8, 37, 13],\n\n      // 12\n      [2, 116, 92, 2, 117, 93],\n      [6, 58, 36, 2, 59, 37],\n      [4, 46, 20, 6, 47, 21],\n      [7, 42, 14, 4, 43, 15],\n\n      // 13\n      [4, 133, 107],\n      [8, 59, 37, 1, 60, 38],\n      [8, 44, 20, 4, 45, 21],\n      [12, 33, 11, 4, 34, 12],\n\n      // 14\n      [3, 145, 115, 1, 146, 116],\n      [4, 64, 40, 5, 65, 41],\n      [11, 36, 16, 5, 37, 17],\n      [11, 36, 12, 5, 37, 13],\n\n      // 15\n      [5, 109, 87, 1, 110, 88],\n      [5, 65, 41, 5, 66, 42],\n      [5, 54, 24, 7, 55, 25],\n      [11, 36, 12, 7, 37, 13],\n\n      // 16\n      [5, 122, 98, 1, 123, 99],\n      [7, 73, 45, 3, 74, 46],\n      [15, 43, 19, 2, 44, 20],\n      [3, 45, 15, 13, 46, 16],\n\n      // 17\n      [1, 135, 107, 5, 136, 108],\n      [10, 74, 46, 1, 75, 47],\n      [1, 50, 22, 15, 51, 23],\n      [2, 42, 14, 17, 43, 15],\n\n      // 18\n      [5, 150, 120, 1, 151, 121],\n      [9, 69, 43, 4, 70, 44],\n      [17, 50, 22, 1, 51, 23],\n      [2, 42, 14, 19, 43, 15],\n\n      // 19\n      [3, 141, 113, 4, 142, 114],\n      [3, 70, 44, 11, 71, 45],\n      [17, 47, 21, 4, 48, 22],\n      [9, 39, 13, 16, 40, 14],\n\n      // 20\n      [3, 135, 107, 5, 136, 108],\n      [3, 67, 41, 13, 68, 42],\n      [15, 54, 24, 5, 55, 25],\n      [15, 43, 15, 10, 44, 16],\n\n      // 21\n      [4, 144, 116, 4, 145, 117],\n      [17, 68, 42],\n      [17, 50, 22, 6, 51, 23],\n      [19, 46, 16, 6, 47, 17],\n\n      // 22\n      [2, 139, 111, 7, 140, 112],\n      [17, 74, 46],\n      [7, 54, 24, 16, 55, 25],\n      [34, 37, 13],\n\n      // 23\n      [4, 151, 121, 5, 152, 122],\n      [4, 75, 47, 14, 76, 48],\n      [11, 54, 24, 14, 55, 25],\n      [16, 45, 15, 14, 46, 16],\n\n      // 24\n      [6, 147, 117, 4, 148, 118],\n      [6, 73, 45, 14, 74, 46],\n      [11, 54, 24, 16, 55, 25],\n      [30, 46, 16, 2, 47, 17],\n\n      // 25\n      [8, 132, 106, 4, 133, 107],\n      [8, 75, 47, 13, 76, 48],\n      [7, 54, 24, 22, 55, 25],\n      [22, 45, 15, 13, 46, 16],\n\n      // 26\n      [10, 142, 114, 2, 143, 115],\n      [19, 74, 46, 4, 75, 47],\n      [28, 50, 22, 6, 51, 23],\n      [33, 46, 16, 4, 47, 17],\n\n      // 27\n      [8, 152, 122, 4, 153, 123],\n      [22, 73, 45, 3, 74, 46],\n      [8, 53, 23, 26, 54, 24],\n      [12, 45, 15, 28, 46, 16],\n\n      // 28\n      [3, 147, 117, 10, 148, 118],\n      [3, 73, 45, 23, 74, 46],\n      [4, 54, 24, 31, 55, 25],\n      [11, 45, 15, 31, 46, 16],\n\n      // 29\n      [7, 146, 116, 7, 147, 117],\n      [21, 73, 45, 7, 74, 46],\n      [1, 53, 23, 37, 54, 24],\n      [19, 45, 15, 26, 46, 16],\n\n      // 30\n      [5, 145, 115, 10, 146, 116],\n      [19, 75, 47, 10, 76, 48],\n      [15, 54, 24, 25, 55, 25],\n      [23, 45, 15, 25, 46, 16],\n\n      // 31\n      [13, 145, 115, 3, 146, 116],\n      [2, 74, 46, 29, 75, 47],\n      [42, 54, 24, 1, 55, 25],\n      [23, 45, 15, 28, 46, 16],\n\n      // 32\n      [17, 145, 115],\n      [10, 74, 46, 23, 75, 47],\n      [10, 54, 24, 35, 55, 25],\n      [19, 45, 15, 35, 46, 16],\n\n      // 33\n      [17, 145, 115, 1, 146, 116],\n      [14, 74, 46, 21, 75, 47],\n      [29, 54, 24, 19, 55, 25],\n      [11, 45, 15, 46, 46, 16],\n\n      // 34\n      [13, 145, 115, 6, 146, 116],\n      [14, 74, 46, 23, 75, 47],\n      [44, 54, 24, 7, 55, 25],\n      [59, 46, 16, 1, 47, 17],\n\n      // 35\n      [12, 151, 121, 7, 152, 122],\n      [12, 75, 47, 26, 76, 48],\n      [39, 54, 24, 14, 55, 25],\n      [22, 45, 15, 41, 46, 16],\n\n      // 36\n      [6, 151, 121, 14, 152, 122],\n      [6, 75, 47, 34, 76, 48],\n      [46, 54, 24, 10, 55, 25],\n      [2, 45, 15, 64, 46, 16],\n\n      // 37\n      [17, 152, 122, 4, 153, 123],\n      [29, 74, 46, 14, 75, 47],\n      [49, 54, 24, 10, 55, 25],\n      [24, 45, 15, 46, 46, 16],\n\n      // 38\n      [4, 152, 122, 18, 153, 123],\n      [13, 74, 46, 32, 75, 47],\n      [48, 54, 24, 14, 55, 25],\n      [42, 45, 15, 32, 46, 16],\n\n      // 39\n      [20, 147, 117, 4, 148, 118],\n      [40, 75, 47, 7, 76, 48],\n      [43, 54, 24, 22, 55, 25],\n      [10, 45, 15, 67, 46, 16],\n\n      // 40\n      [19, 148, 118, 6, 149, 119],\n      [18, 75, 47, 31, 76, 48],\n      [34, 54, 24, 34, 55, 25],\n      [20, 45, 15, 61, 46, 16]\n    ];\n\n    var qrRSBlock = function(totalCount, dataCount) {\n      var _this = {};\n      _this.totalCount = totalCount;\n      _this.dataCount = dataCount;\n      return _this;\n    };\n\n    var _this = {};\n\n    var getRsBlockTable = function(typeNumber, errorCorrectionLevel) {\n\n      switch(errorCorrectionLevel) {\n      case QRErrorCorrectionLevel.L :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 0];\n      case QRErrorCorrectionLevel.M :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 1];\n      case QRErrorCorrectionLevel.Q :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 2];\n      case QRErrorCorrectionLevel.H :\n        return RS_BLOCK_TABLE[(typeNumber - 1) * 4 + 3];\n      default :\n        return undefined;\n      }\n    };\n\n    _this.getRSBlocks = function(typeNumber, errorCorrectionLevel) {\n\n      var rsBlock = getRsBlockTable(typeNumber, errorCorrectionLevel);\n\n      if (typeof rsBlock == 'undefined') {\n        throw 'bad rs block @ typeNumber:' + typeNumber +\n            '/errorCorrectionLevel:' + errorCorrectionLevel;\n      }\n\n      var length = rsBlock.length / 3;\n\n      var list = [];\n\n      for (var i = 0; i < length; i += 1) {\n\n        var count = rsBlock[i * 3 + 0];\n        var totalCount = rsBlock[i * 3 + 1];\n        var dataCount = rsBlock[i * 3 + 2];\n\n        for (var j = 0; j < count; j += 1) {\n          list.push(qrRSBlock(totalCount, dataCount) );\n        }\n      }\n\n      return list;\n    };\n\n    return _this;\n  }();\n\n  //---------------------------------------------------------------------\n  // qrBitBuffer\n  //---------------------------------------------------------------------\n\n  var qrBitBuffer = function() {\n\n    var _buffer = [];\n    var _length = 0;\n\n    var _this = {};\n\n    _this.getBuffer = function() {\n      return _buffer;\n    };\n\n    _this.getAt = function(index) {\n      var bufIndex = Math.floor(index / 8);\n      return ( (_buffer[bufIndex] >>> (7 - index % 8) ) & 1) == 1;\n    };\n\n    _this.put = function(num, length) {\n      for (var i = 0; i < length; i += 1) {\n        _this.putBit( ( (num >>> (length - i - 1) ) & 1) == 1);\n      }\n    };\n\n    _this.getLengthInBits = function() {\n      return _length;\n    };\n\n    _this.putBit = function(bit) {\n\n      var bufIndex = Math.floor(_length / 8);\n      if (_buffer.length <= bufIndex) {\n        _buffer.push(0);\n      }\n\n      if (bit) {\n        _buffer[bufIndex] |= (0x80 >>> (_length % 8) );\n      }\n\n      _length += 1;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrNumber\n  //---------------------------------------------------------------------\n\n  var qrNumber = function(data) {\n\n    var _mode = QRMode.MODE_NUMBER;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _data;\n\n      var i = 0;\n\n      while (i + 2 < data.length) {\n        buffer.put(strToNum(data.substring(i, i + 3) ), 10);\n        i += 3;\n      }\n\n      if (i < data.length) {\n        if (data.length - i == 1) {\n          buffer.put(strToNum(data.substring(i, i + 1) ), 4);\n        } else if (data.length - i == 2) {\n          buffer.put(strToNum(data.substring(i, i + 2) ), 7);\n        }\n      }\n    };\n\n    var strToNum = function(s) {\n      var num = 0;\n      for (var i = 0; i < s.length; i += 1) {\n        num = num * 10 + chatToNum(s.charAt(i) );\n      }\n      return num;\n    };\n\n    var chatToNum = function(c) {\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      }\n      throw 'illegal char :' + c;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrAlphaNum\n  //---------------------------------------------------------------------\n\n  var qrAlphaNum = function(data) {\n\n    var _mode = QRMode.MODE_ALPHA_NUM;\n    var _data = data;\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _data.length;\n    };\n\n    _this.write = function(buffer) {\n\n      var s = _data;\n\n      var i = 0;\n\n      while (i + 1 < s.length) {\n        buffer.put(\n          getCode(s.charAt(i) ) * 45 +\n          getCode(s.charAt(i + 1) ), 11);\n        i += 2;\n      }\n\n      if (i < s.length) {\n        buffer.put(getCode(s.charAt(i) ), 6);\n      }\n    };\n\n    var getCode = function(c) {\n\n      if ('0' <= c && c <= '9') {\n        return c.charCodeAt(0) - '0'.charCodeAt(0);\n      } else if ('A' <= c && c <= 'Z') {\n        return c.charCodeAt(0) - 'A'.charCodeAt(0) + 10;\n      } else {\n        switch (c) {\n        case ' ' : return 36;\n        case '$' : return 37;\n        case '%' : return 38;\n        case '*' : return 39;\n        case '+' : return 40;\n        case '-' : return 41;\n        case '.' : return 42;\n        case '/' : return 43;\n        case ':' : return 44;\n        default :\n          throw 'illegal char :' + c;\n        }\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qr8BitByte\n  //---------------------------------------------------------------------\n\n  var qr8BitByte = function(data) {\n\n    var _mode = QRMode.MODE_8BIT_BYTE;\n    var _data = data;\n    var _bytes = qrcode.stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return _bytes.length;\n    };\n\n    _this.write = function(buffer) {\n      for (var i = 0; i < _bytes.length; i += 1) {\n        buffer.put(_bytes[i], 8);\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // qrKanji\n  //---------------------------------------------------------------------\n\n  var qrKanji = function(data) {\n\n    var _mode = QRMode.MODE_KANJI;\n    var _data = data;\n\n    var stringToBytes = qrcode.stringToBytesFuncs['SJIS'];\n    if (!stringToBytes) {\n      throw 'sjis not supported.';\n    }\n    !function(c, code) {\n      // self test for sjis support.\n      var test = stringToBytes(c);\n      if (test.length != 2 || ( (test[0] << 8) | test[1]) != code) {\n        throw 'sjis not supported.';\n      }\n    }('\\u53cb', 0x9746);\n\n    var _bytes = stringToBytes(data);\n\n    var _this = {};\n\n    _this.getMode = function() {\n      return _mode;\n    };\n\n    _this.getLength = function(buffer) {\n      return ~~(_bytes.length / 2);\n    };\n\n    _this.write = function(buffer) {\n\n      var data = _bytes;\n\n      var i = 0;\n\n      while (i + 1 < data.length) {\n\n        var c = ( (0xff & data[i]) << 8) | (0xff & data[i + 1]);\n\n        if (0x8140 <= c && c <= 0x9FFC) {\n          c -= 0x8140;\n        } else if (0xE040 <= c && c <= 0xEBBF) {\n          c -= 0xC140;\n        } else {\n          throw 'illegal char at ' + (i + 1) + '/' + c;\n        }\n\n        c = ( (c >>> 8) & 0xff) * 0xC0 + (c & 0xff);\n\n        buffer.put(c, 13);\n\n        i += 2;\n      }\n\n      if (i < data.length) {\n        throw 'illegal char at ' + (i + 1);\n      }\n    };\n\n    return _this;\n  };\n\n  //=====================================================================\n  // GIF Support etc.\n  //\n\n  //---------------------------------------------------------------------\n  // byteArrayOutputStream\n  //---------------------------------------------------------------------\n\n  var byteArrayOutputStream = function() {\n\n    var _bytes = [];\n\n    var _this = {};\n\n    _this.writeByte = function(b) {\n      _bytes.push(b & 0xff);\n    };\n\n    _this.writeShort = function(i) {\n      _this.writeByte(i);\n      _this.writeByte(i >>> 8);\n    };\n\n    _this.writeBytes = function(b, off, len) {\n      off = off || 0;\n      len = len || b.length;\n      for (var i = 0; i < len; i += 1) {\n        _this.writeByte(b[i + off]);\n      }\n    };\n\n    _this.writeString = function(s) {\n      for (var i = 0; i < s.length; i += 1) {\n        _this.writeByte(s.charCodeAt(i) );\n      }\n    };\n\n    _this.toByteArray = function() {\n      return _bytes;\n    };\n\n    _this.toString = function() {\n      var s = '';\n      s += '[';\n      for (var i = 0; i < _bytes.length; i += 1) {\n        if (i > 0) {\n          s += ',';\n        }\n        s += _bytes[i];\n      }\n      s += ']';\n      return s;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64EncodeOutputStream\n  //---------------------------------------------------------------------\n\n  var base64EncodeOutputStream = function() {\n\n    var _buffer = 0;\n    var _buflen = 0;\n    var _length = 0;\n    var _base64 = '';\n\n    var _this = {};\n\n    var writeEncoded = function(b) {\n      _base64 += String.fromCharCode(encode(b & 0x3f) );\n    };\n\n    var encode = function(n) {\n      if (n < 0) {\n        // error.\n      } else if (n < 26) {\n        return 0x41 + n;\n      } else if (n < 52) {\n        return 0x61 + (n - 26);\n      } else if (n < 62) {\n        return 0x30 + (n - 52);\n      } else if (n == 62) {\n        return 0x2b;\n      } else if (n == 63) {\n        return 0x2f;\n      }\n      throw 'n:' + n;\n    };\n\n    _this.writeByte = function(n) {\n\n      _buffer = (_buffer << 8) | (n & 0xff);\n      _buflen += 8;\n      _length += 1;\n\n      while (_buflen >= 6) {\n        writeEncoded(_buffer >>> (_buflen - 6) );\n        _buflen -= 6;\n      }\n    };\n\n    _this.flush = function() {\n\n      if (_buflen > 0) {\n        writeEncoded(_buffer << (6 - _buflen) );\n        _buffer = 0;\n        _buflen = 0;\n      }\n\n      if (_length % 3 != 0) {\n        // padding\n        var padlen = 3 - _length % 3;\n        for (var i = 0; i < padlen; i += 1) {\n          _base64 += '=';\n        }\n      }\n    };\n\n    _this.toString = function() {\n      return _base64;\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // base64DecodeInputStream\n  //---------------------------------------------------------------------\n\n  var base64DecodeInputStream = function(str) {\n\n    var _str = str;\n    var _pos = 0;\n    var _buffer = 0;\n    var _buflen = 0;\n\n    var _this = {};\n\n    _this.read = function() {\n\n      while (_buflen < 8) {\n\n        if (_pos >= _str.length) {\n          if (_buflen == 0) {\n            return -1;\n          }\n          throw 'unexpected end of file./' + _buflen;\n        }\n\n        var c = _str.charAt(_pos);\n        _pos += 1;\n\n        if (c == '=') {\n          _buflen = 0;\n          return -1;\n        } else if (c.match(/^\\s$/) ) {\n          // ignore if whitespace.\n          continue;\n        }\n\n        _buffer = (_buffer << 6) | decode(c.charCodeAt(0) );\n        _buflen += 6;\n      }\n\n      var n = (_buffer >>> (_buflen - 8) ) & 0xff;\n      _buflen -= 8;\n      return n;\n    };\n\n    var decode = function(c) {\n      if (0x41 <= c && c <= 0x5a) {\n        return c - 0x41;\n      } else if (0x61 <= c && c <= 0x7a) {\n        return c - 0x61 + 26;\n      } else if (0x30 <= c && c <= 0x39) {\n        return c - 0x30 + 52;\n      } else if (c == 0x2b) {\n        return 62;\n      } else if (c == 0x2f) {\n        return 63;\n      } else {\n        throw 'c:' + c;\n      }\n    };\n\n    return _this;\n  };\n\n  //---------------------------------------------------------------------\n  // gifImage (B/W)\n  //---------------------------------------------------------------------\n\n  var gifImage = function(width, height) {\n\n    var _width = width;\n    var _height = height;\n    var _data = new Array(width * height);\n\n    var _this = {};\n\n    _this.setPixel = function(x, y, pixel) {\n      _data[y * _width + x] = pixel;\n    };\n\n    _this.write = function(out) {\n\n      //---------------------------------\n      // GIF Signature\n\n      out.writeString('GIF87a');\n\n      //---------------------------------\n      // Screen Descriptor\n\n      out.writeShort(_width);\n      out.writeShort(_height);\n\n      out.writeByte(0x80); // 2bit\n      out.writeByte(0);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Global Color Map\n\n      // black\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n      out.writeByte(0x00);\n\n      // white\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n      out.writeByte(0xff);\n\n      //---------------------------------\n      // Image Descriptor\n\n      out.writeString(',');\n      out.writeShort(0);\n      out.writeShort(0);\n      out.writeShort(_width);\n      out.writeShort(_height);\n      out.writeByte(0);\n\n      //---------------------------------\n      // Local Color Map\n\n      //---------------------------------\n      // Raster Data\n\n      var lzwMinCodeSize = 2;\n      var raster = getLZWRaster(lzwMinCodeSize);\n\n      out.writeByte(lzwMinCodeSize);\n\n      var offset = 0;\n\n      while (raster.length - offset > 255) {\n        out.writeByte(255);\n        out.writeBytes(raster, offset, 255);\n        offset += 255;\n      }\n\n      out.writeByte(raster.length - offset);\n      out.writeBytes(raster, offset, raster.length - offset);\n      out.writeByte(0x00);\n\n      //---------------------------------\n      // GIF Terminator\n      out.writeString(';');\n    };\n\n    var bitOutputStream = function(out) {\n\n      var _out = out;\n      var _bitLength = 0;\n      var _bitBuffer = 0;\n\n      var _this = {};\n\n      _this.write = function(data, length) {\n\n        if ( (data >>> length) != 0) {\n          throw 'length over';\n        }\n\n        while (_bitLength + length >= 8) {\n          _out.writeByte(0xff & ( (data << _bitLength) | _bitBuffer) );\n          length -= (8 - _bitLength);\n          data >>>= (8 - _bitLength);\n          _bitBuffer = 0;\n          _bitLength = 0;\n        }\n\n        _bitBuffer = (data << _bitLength) | _bitBuffer;\n        _bitLength = _bitLength + length;\n      };\n\n      _this.flush = function() {\n        if (_bitLength > 0) {\n          _out.writeByte(_bitBuffer);\n        }\n      };\n\n      return _this;\n    };\n\n    var getLZWRaster = function(lzwMinCodeSize) {\n\n      var clearCode = 1 << lzwMinCodeSize;\n      var endCode = (1 << lzwMinCodeSize) + 1;\n      var bitLength = lzwMinCodeSize + 1;\n\n      // Setup LZWTable\n      var table = lzwTable();\n\n      for (var i = 0; i < clearCode; i += 1) {\n        table.add(String.fromCharCode(i) );\n      }\n      table.add(String.fromCharCode(clearCode) );\n      table.add(String.fromCharCode(endCode) );\n\n      var byteOut = byteArrayOutputStream();\n      var bitOut = bitOutputStream(byteOut);\n\n      // clear code\n      bitOut.write(clearCode, bitLength);\n\n      var dataIndex = 0;\n\n      var s = String.fromCharCode(_data[dataIndex]);\n      dataIndex += 1;\n\n      while (dataIndex < _data.length) {\n\n        var c = String.fromCharCode(_data[dataIndex]);\n        dataIndex += 1;\n\n        if (table.contains(s + c) ) {\n\n          s = s + c;\n\n        } else {\n\n          bitOut.write(table.indexOf(s), bitLength);\n\n          if (table.size() < 0xfff) {\n\n            if (table.size() == (1 << bitLength) ) {\n              bitLength += 1;\n            }\n\n            table.add(s + c);\n          }\n\n          s = c;\n        }\n      }\n\n      bitOut.write(table.indexOf(s), bitLength);\n\n      // end code\n      bitOut.write(endCode, bitLength);\n\n      bitOut.flush();\n\n      return byteOut.toByteArray();\n    };\n\n    var lzwTable = function() {\n\n      var _map = {};\n      var _size = 0;\n\n      var _this = {};\n\n      _this.add = function(key) {\n        if (_this.contains(key) ) {\n          throw 'dup key:' + key;\n        }\n        _map[key] = _size;\n        _size += 1;\n      };\n\n      _this.size = function() {\n        return _size;\n      };\n\n      _this.indexOf = function(key) {\n        return _map[key];\n      };\n\n      _this.contains = function(key) {\n        return typeof _map[key] != 'undefined';\n      };\n\n      return _this;\n    };\n\n    return _this;\n  };\n\n  var createDataURL = function(width, height, getPixel) {\n    var gif = gifImage(width, height);\n    for (var y = 0; y < height; y += 1) {\n      for (var x = 0; x < width; x += 1) {\n        gif.setPixel(x, y, getPixel(x, y) );\n      }\n    }\n\n    var b = byteArrayOutputStream();\n    gif.write(b);\n\n    var base64 = base64EncodeOutputStream();\n    var bytes = b.toByteArray();\n    for (var i = 0; i < bytes.length; i += 1) {\n      base64.writeByte(bytes[i]);\n    }\n    base64.flush();\n\n    return 'data:image/gif;base64,' + base64;\n  };\n\n  //---------------------------------------------------------------------\n  // returns qrcode function.\n\n  return qrcode;\n}();\n\n// multibyte support\n!function() {\n\n  qrcode.stringToBytesFuncs['UTF-8'] = function(s) {\n    // http://stackoverflow.com/questions/18729405/how-to-convert-utf8-string-to-byte-array\n    function toUTF8Array(str) {\n      var utf8 = [];\n      for (var i=0; i < str.length; i++) {\n        var charcode = str.charCodeAt(i);\n        if (charcode < 0x80) utf8.push(charcode);\n        else if (charcode < 0x800) {\n          utf8.push(0xc0 | (charcode >> 6),\n              0x80 | (charcode & 0x3f));\n        }\n        else if (charcode < 0xd800 || charcode >= 0xe000) {\n          utf8.push(0xe0 | (charcode >> 12),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n        // surrogate pair\n        else {\n          i++;\n          // UTF-16 encodes 0x10000-0x10FFFF by\n          // subtracting 0x10000 and splitting the\n          // 20 bits of 0x0-0xFFFFF into two halves\n          charcode = 0x10000 + (((charcode & 0x3ff)<<10)\n            | (str.charCodeAt(i) & 0x3ff));\n          utf8.push(0xf0 | (charcode >>18),\n              0x80 | ((charcode>>12) & 0x3f),\n              0x80 | ((charcode>>6) & 0x3f),\n              0x80 | (charcode & 0x3f));\n        }\n      }\n      return utf8;\n    }\n    return toUTF8Array(s);\n  };\n\n}();\n\n(function (factory) {\n  if (typeof define === 'function' && define.amd) {\n      define([], factory);\n  } else if (typeof exports === 'object') {\n      module.exports = factory();\n  }\n}(function () {\n    return qrcode;\n}));\n","import { UnknownObject } from \"../types\";\n\nconst isObject = (obj: Record<string, unknown>): boolean => !!obj && typeof obj === \"object\" && !Array.isArray(obj);\n\nexport default function mergeDeep(target: UnknownObject, ...sources: UnknownObject[]): UnknownObject {\n  if (!sources.length) return target;\n  const source = sources.shift();\n  if (source === undefined || !isObject(target) || !isObject(source)) return target;\n  target = { ...target };\n  Object.keys(source).forEach((key: string): void => {\n    const targetValue = target[key];\n    const sourceValue = source[key];\n\n    if (Array.isArray(targetValue) && Array.isArray(sourceValue)) {\n      target[key] = sourceValue;\n    } else if (isObject(targetValue) && isObject(sourceValue)) {\n      target[key] = mergeDeep(Object.assign({}, targetValue), sourceValue);\n    } else {\n      target[key] = sourceValue;\n    }\n  });\n\n  return mergeDeep(target, ...sources);\n}\n","export default function downloadURI(uri: string, name: string): void {\n  const link = document.createElement(\"a\");\n  link.download = name;\n  link.href = uri;\n  document.body.appendChild(link);\n  link.click();\n  document.body.removeChild(link);\n}\n","export default async function toDataURL(url: string): Promise<string> {\n  return new Promise((resolve) => {\n    const xhr = new XMLHttpRequest();\n    xhr.onload = function () {\n      const reader = new FileReader();\n      reader.onloadend = function () {\n        resolve(reader.result as string);\n      };\n      reader.readAsDataURL(xhr.response);\n    };\n    xhr.open(\"GET\", url);\n    xhr.responseType = \"blob\";\n    xhr.send();\n  });\n}\n","interface ErrorCorrectionPercents {\n  [key: string]: number;\n}\n\nexport default {\n  L: 0.07,\n  M: 0.15,\n  Q: 0.25,\n  H: 0.3\n} as ErrorCorrectionPercents;\n","import dotTypes from \"../../constants/dotTypes\";\nimport { DotType, GetNeighbor, DrawArgs, BasicFigureDrawArgs, RotateFigureArgs } from \"../../types\";\n\nexport default class QRDot {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: DotType;\n\n  constructor({ svg, type }: { svg: SVGElement; type: DotType }) {\n    this._svg = svg;\n    this._type = type;\n  }\n\n  draw(x: number, y: number, size: number, getNeighbor: GetNeighbor): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case dotTypes.dots:\n        drawFunction = this._drawDot;\n        break;\n      case dotTypes.classy:\n        drawFunction = this._drawClassy;\n        break;\n      case dotTypes.classyRounded:\n        drawFunction = this._drawClassyRounded;\n        break;\n      case dotTypes.rounded:\n        drawFunction = this._drawRounded;\n        break;\n      case dotTypes.extraRounded:\n        drawFunction = this._drawExtraRounded;\n        break;\n      case dotTypes.square:\n      default:\n        drawFunction = this._drawSquare;\n    }\n\n    drawFunction.call(this, { x, y, size, getNeighbor });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this._element.setAttribute(\"cx\", String(x + size / 2));\n        this._element.setAttribute(\"cy\", String(y + size / 2));\n        this._element.setAttribute(\"r\", String(size / 2));\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._element.setAttribute(\"x\", String(x));\n        this._element.setAttribute(\"y\", String(y));\n        this._element.setAttribute(\"width\", String(size));\n        this._element.setAttribute(\"height\", String(size));\n      }\n    });\n  }\n\n  //if rotation === 0 - right side is rounded\n  _basicSideRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size / 2}` + //draw line to left bottom corner + half of size right\n            `a ${size / 2} ${size / 2}, 0, 0, 0, 0 ${-size}` // draw rounded corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - top right corner is rounded\n  _basicCornerRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size}` + //draw line to right bottom corner\n            `v ${-size / 2}` + //draw line to right bottom corner + half of size top\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${-size / 2} ${-size / 2}` // draw rounded corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - top right corner is rounded\n  _basicCornerExtraRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to top left position\n            `v ${size}` + //draw line to left bottom corner\n            `h ${size}` + //draw line to right bottom corner\n            `a ${size} ${size}, 0, 0, 0, ${-size} ${-size}` // draw rounded top right corner\n        );\n      }\n    });\n  }\n\n  //if rotation === 0 - left bottom and right top corners are rounded\n  _basicCornersRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` + //go to left top position\n            `v ${size / 2}` + //draw line to left top corner + half of size bottom\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${size / 2} ${size / 2}` + // draw rounded left bottom corner\n            `h ${size / 2}` + //draw line to right bottom corner\n            `v ${-size / 2}` + //draw line to right bottom corner + half of size top\n            `a ${size / 2} ${size / 2}, 0, 0, 0, ${-size / 2} ${-size / 2}` // draw rounded right top corner\n        );\n      }\n    });\n  }\n\n  _drawDot({ x, y, size }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation: 0 });\n  }\n\n  _drawSquare({ x, y, size }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n\n  _drawRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicDot({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount > 2 || (leftNeighbor && rightNeighbor) || (topNeighbor && bottomNeighbor)) {\n      this._basicSquare({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount === 2) {\n      let rotation = 0;\n\n      if (leftNeighbor && topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (topNeighbor && rightNeighbor) {\n        rotation = Math.PI;\n      } else if (rightNeighbor && bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicCornerRounded({ x, y, size, rotation });\n      return;\n    }\n\n    if (neighborsCount === 1) {\n      let rotation = 0;\n\n      if (topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (rightNeighbor) {\n        rotation = Math.PI;\n      } else if (bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicSideRounded({ x, y, size, rotation });\n      return;\n    }\n  }\n\n  _drawExtraRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicDot({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount > 2 || (leftNeighbor && rightNeighbor) || (topNeighbor && bottomNeighbor)) {\n      this._basicSquare({ x, y, size, rotation: 0 });\n      return;\n    }\n\n    if (neighborsCount === 2) {\n      let rotation = 0;\n\n      if (leftNeighbor && topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (topNeighbor && rightNeighbor) {\n        rotation = Math.PI;\n      } else if (rightNeighbor && bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicCornerExtraRounded({ x, y, size, rotation });\n      return;\n    }\n\n    if (neighborsCount === 1) {\n      let rotation = 0;\n\n      if (topNeighbor) {\n        rotation = Math.PI / 2;\n      } else if (rightNeighbor) {\n        rotation = Math.PI;\n      } else if (bottomNeighbor) {\n        rotation = -Math.PI / 2;\n      }\n\n      this._basicSideRounded({ x, y, size, rotation });\n      return;\n    }\n  }\n\n  _drawClassy({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicCornersRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    if (!leftNeighbor && !topNeighbor) {\n      this._basicCornerRounded({ x, y, size, rotation: -Math.PI / 2 });\n      return;\n    }\n\n    if (!rightNeighbor && !bottomNeighbor) {\n      this._basicCornerRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n\n  _drawClassyRounded({ x, y, size, getNeighbor }: DrawArgs): void {\n    const leftNeighbor = getNeighbor ? +getNeighbor(-1, 0) : 0;\n    const rightNeighbor = getNeighbor ? +getNeighbor(1, 0) : 0;\n    const topNeighbor = getNeighbor ? +getNeighbor(0, -1) : 0;\n    const bottomNeighbor = getNeighbor ? +getNeighbor(0, 1) : 0;\n\n    const neighborsCount = leftNeighbor + rightNeighbor + topNeighbor + bottomNeighbor;\n\n    if (neighborsCount === 0) {\n      this._basicCornersRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    if (!leftNeighbor && !topNeighbor) {\n      this._basicCornerExtraRounded({ x, y, size, rotation: -Math.PI / 2 });\n      return;\n    }\n\n    if (!rightNeighbor && !bottomNeighbor) {\n      this._basicCornerExtraRounded({ x, y, size, rotation: Math.PI / 2 });\n      return;\n    }\n\n    this._basicSquare({ x, y, size, rotation: 0 });\n  }\n}\n","import { DotTypes } from \"../types\";\n\nexport default {\n  dots: \"dots\",\n  rounded: \"rounded\",\n  classy: \"classy\",\n  classyRounded: \"classy-rounded\",\n  square: \"square\",\n  extraRounded: \"extra-rounded\"\n} as DotTypes;\n","import cornerSquareTypes from \"../../constants/cornerSquareTypes\";\nimport { CornerSquareType, DrawArgs, BasicFigureDrawArgs, RotateFigureArgs } from \"../../types\";\n\nexport default class QRCornerSquare {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: CornerSquareType;\n\n  constructor({ svg, type }: { svg: SVGElement; type: CornerSquareType }) {\n    this._svg = svg;\n    this._type = type;\n  }\n\n  draw(x: number, y: number, size: number, rotation: number): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case cornerSquareTypes.square:\n        drawFunction = this._drawSquare;\n        break;\n      case cornerSquareTypes.extraRounded:\n        drawFunction = this._drawExtraRounded;\n        break;\n      case cornerSquareTypes.dot:\n      default:\n        drawFunction = this._drawDot;\n    }\n\n    drawFunction.call(this, { x, y, size, rotation });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x + size / 2} ${y}` + // M cx, y //  Move to top of ring\n            `a ${size / 2} ${size / 2} 0 1 0 0.1 0` + // a outerRadius, outerRadius, 0, 1, 0, 1, 0 // Draw outer arc, but don't close it\n            `z` + // Z // Close the outer shape\n            `m 0 ${dotSize}` + // m -1 outerRadius-innerRadius // Move to top point of inner radius\n            `a ${size / 2 - dotSize} ${size / 2 - dotSize} 0 1 1 -0.1 0` + // a innerRadius, innerRadius, 0, 1, 1, -1, 0 // Draw inner arc, but don't close it\n            `Z` // Z // Close the inner ring. Actually will still work without, but inner ring will have one unit missing in stroke\n        );\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y}` +\n            `v ${size}` +\n            `h ${size}` +\n            `v ${-size}` +\n            `z` +\n            `M ${x + dotSize} ${y + dotSize}` +\n            `h ${size - 2 * dotSize}` +\n            `v ${size - 2 * dotSize}` +\n            `h ${-size + 2 * dotSize}` +\n            `z`\n        );\n      }\n    });\n  }\n\n  _basicExtraRounded(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n    const dotSize = size / 7;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"path\");\n        this._element.setAttribute(\"clip-rule\", \"evenodd\");\n        this._element.setAttribute(\n          \"d\",\n          `M ${x} ${y + 2.5 * dotSize}` +\n            `v ${2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${dotSize * 2.5} ${dotSize * 2.5}` +\n            `h ${2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${dotSize * 2.5} ${-dotSize * 2.5}` +\n            `v ${-2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${-dotSize * 2.5} ${-dotSize * 2.5}` +\n            `h ${-2 * dotSize}` +\n            `a ${2.5 * dotSize} ${2.5 * dotSize}, 0, 0, 0, ${-dotSize * 2.5} ${dotSize * 2.5}` +\n            `M ${x + 2.5 * dotSize} ${y + dotSize}` +\n            `h ${2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${dotSize * 1.5} ${dotSize * 1.5}` +\n            `v ${2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${-dotSize * 1.5} ${dotSize * 1.5}` +\n            `h ${-2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${-dotSize * 1.5} ${-dotSize * 1.5}` +\n            `v ${-2 * dotSize}` +\n            `a ${1.5 * dotSize} ${1.5 * dotSize}, 0, 0, 1, ${dotSize * 1.5} ${-dotSize * 1.5}`\n        );\n      }\n    });\n  }\n\n  _drawDot({ x, y, size, rotation }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation });\n  }\n\n  _drawSquare({ x, y, size, rotation }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation });\n  }\n\n  _drawExtraRounded({ x, y, size, rotation }: DrawArgs): void {\n    this._basicExtraRounded({ x, y, size, rotation });\n  }\n}\n","import { CornerSquareTypes } from \"../types\";\n\nexport default {\n  dot: \"dot\",\n  square: \"square\",\n  extraRounded: \"extra-rounded\"\n} as CornerSquareTypes;\n","import cornerDotTypes from \"../../constants/cornerDotTypes\";\nimport { CornerDotType, RotateFigureArgs, BasicFigureDrawArgs, DrawArgs } from \"../../types\";\n\nexport default class QRCornerDot {\n  _element?: SVGElement;\n  _svg: SVGElement;\n  _type: CornerDotType;\n\n  constructor({ svg, type }: { svg: SVGElement; type: CornerDotType }) {\n    this._svg = svg;\n    this._type = type;\n  }\n\n  draw(x: number, y: number, size: number, rotation: number): void {\n    const type = this._type;\n    let drawFunction;\n\n    switch (type) {\n      case cornerDotTypes.square:\n        drawFunction = this._drawSquare;\n        break;\n      case cornerDotTypes.dot:\n      default:\n        drawFunction = this._drawDot;\n    }\n\n    drawFunction.call(this, { x, y, size, rotation });\n  }\n\n  _rotateFigure({ x, y, size, rotation = 0, draw }: RotateFigureArgs): void {\n    const cx = x + size / 2;\n    const cy = y + size / 2;\n\n    draw();\n    this._element?.setAttribute(\"transform\", `rotate(${(180 * rotation) / Math.PI},${cx},${cy})`);\n  }\n\n  _basicDot(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"circle\");\n        this._element.setAttribute(\"cx\", String(x + size / 2));\n        this._element.setAttribute(\"cy\", String(y + size / 2));\n        this._element.setAttribute(\"r\", String(size / 2));\n      }\n    });\n  }\n\n  _basicSquare(args: BasicFigureDrawArgs): void {\n    const { size, x, y } = args;\n\n    this._rotateFigure({\n      ...args,\n      draw: () => {\n        this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._element.setAttribute(\"x\", String(x));\n        this._element.setAttribute(\"y\", String(y));\n        this._element.setAttribute(\"width\", String(size));\n        this._element.setAttribute(\"height\", String(size));\n      }\n    });\n  }\n\n  _drawDot({ x, y, size, rotation }: DrawArgs): void {\n    this._basicDot({ x, y, size, rotation });\n  }\n\n  _drawSquare({ x, y, size, rotation }: DrawArgs): void {\n    this._basicSquare({ x, y, size, rotation });\n  }\n}\n","import { CornerDotTypes } from \"../types\";\n\nexport default {\n  dot: \"dot\",\n  square: \"square\"\n} as CornerDotTypes;\n","import { ShapeTypes } from \"../types\";\n\nexport default {\n  square: \"square\",\n  circle: \"circle\"\n} as ShapeTypes;\n","import calculateImageSize from \"../tools/calculateImageSize\";\nimport toDataUrl from \"../tools/toDataUrl\";\nimport errorCorrectionPercents from \"../constants/errorCorrectionPercents\";\nimport QRDot from \"../figures/dot/QRDot\";\nimport QRCornerSquare from \"../figures/cornerSquare/QRCornerSquare\";\nimport QRCornerDot from \"../figures/cornerDot/QRCornerDot\";\nimport { RequiredOptions } from \"./QROptions\";\nimport gradientTypes from \"../constants/gradientTypes\";\nimport shapeTypes from \"../constants/shapeTypes\";\nimport { QRCode, FilterFunction, Gradient } from \"../types\";\n\nconst squareMask = [\n  [1, 1, 1, 1, 1, 1, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 0, 0, 0, 0, 0, 1],\n  [1, 1, 1, 1, 1, 1, 1]\n];\n\nconst dotMask = [\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 1, 1, 1, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0],\n  [0, 0, 0, 0, 0, 0, 0]\n];\n\nexport default class QRSVG {\n  _element: SVGElement;\n  _defs: SVGElement;\n  _backgroundClipPath?: SVGElement;\n  _dotsClipPath?: SVGElement;\n  _cornersSquareClipPath?: SVGElement;\n  _cornersDotClipPath?: SVGElement;\n  _options: RequiredOptions;\n  _qr?: QRCode;\n  _image?: HTMLImageElement;\n\n  //TODO don't pass all options to this class\n  constructor(options: RequiredOptions) {\n    this._element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"svg\");\n    this._element.setAttribute(\"width\", String(options.width));\n    this._element.setAttribute(\"height\", String(options.height));\n    this._defs = document.createElementNS(\"http://www.w3.org/2000/svg\", \"defs\");\n    this._element.appendChild(this._defs);\n\n    this._options = options;\n  }\n\n  get width(): number {\n    return this._options.width;\n  }\n\n  get height(): number {\n    return this._options.height;\n  }\n\n  getElement(): SVGElement {\n    return this._element;\n  }\n\n  async drawQR(qr: QRCode): Promise<void> {\n    const count = qr.getModuleCount();\n    const minSize = Math.min(this._options.width, this._options.height) - this._options.margin * 2;\n    const realQRSize = this._options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = Math.floor(realQRSize / count);\n    let drawImageSize = {\n      hideXDots: 0,\n      hideYDots: 0,\n      width: 0,\n      height: 0\n    };\n\n    this._qr = qr;\n\n    if (this._options.image) {\n      //We need it to get image size\n      await this.loadImage();\n      if (!this._image) return;\n      const { imageOptions, qrOptions } = this._options;\n      const coverLevel = imageOptions.imageSize * errorCorrectionPercents[qrOptions.errorCorrectionLevel];\n      const maxHiddenDots = Math.floor(coverLevel * count * count);\n\n      drawImageSize = calculateImageSize({\n        originalWidth: this._image.width,\n        originalHeight: this._image.height,\n        maxHiddenDots,\n        maxHiddenAxisDots: count - 14,\n        dotSize\n      });\n    }\n\n    this.drawBackground();\n    this.drawDots((i: number, j: number): boolean => {\n      if (this._options.imageOptions.hideBackgroundDots) {\n        if (\n          i >= (count - drawImageSize.hideXDots) / 2 &&\n          i < (count + drawImageSize.hideXDots) / 2 &&\n          j >= (count - drawImageSize.hideYDots) / 2 &&\n          j < (count + drawImageSize.hideYDots) / 2\n        ) {\n          return false;\n        }\n      }\n\n      if (squareMask[i]?.[j] || squareMask[i - count + 7]?.[j] || squareMask[i]?.[j - count + 7]) {\n        return false;\n      }\n\n      if (dotMask[i]?.[j] || dotMask[i - count + 7]?.[j] || dotMask[i]?.[j - count + 7]) {\n        return false;\n      }\n\n      return true;\n    });\n    this.drawCorners();\n\n    if (this._options.image) {\n      await this.drawImage({ width: drawImageSize.width, height: drawImageSize.height, count, dotSize });\n    }\n  }\n\n  drawBackground(): void {\n    const element = this._element;\n    const options = this._options;\n\n    if (element) {\n      const gradientOptions = options.backgroundOptions?.gradient;\n      const color = options.backgroundOptions?.color;\n\n      if (gradientOptions || color) {\n        this._createColor({\n          options: gradientOptions,\n          color: color,\n          additionalRotation: 0,\n          x: 0,\n          y: 0,\n          height: options.height,\n          width: options.width,\n          name: \"background-color\"\n        });\n      }\n\n      if (options.backgroundOptions?.round) {\n        const size = Math.min(options.width, options.height);\n        const element = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n        this._backgroundClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        this._backgroundClipPath.setAttribute(\"id\", \"clip-path-background-color\");\n        this._defs.appendChild(this._backgroundClipPath);\n\n        element.setAttribute(\"x\", String((options.width - size) / 2));\n        element.setAttribute(\"y\", String((options.height - size) / 2));\n        element.setAttribute(\"width\", String(size));\n        element.setAttribute(\"height\", String(size));\n        element.setAttribute(\"rx\", String((size / 2) * options.backgroundOptions.round));\n\n        this._backgroundClipPath.appendChild(element);\n      }\n    }\n  }\n\n  drawDots(filter?: FilterFunction): void {\n    if (!this._qr) {\n      throw \"QR code is not defined\";\n    }\n\n    const options = this._options;\n    const count = this._qr.getModuleCount();\n\n    if (count > options.width || count > options.height) {\n      throw \"The canvas is too small.\";\n    }\n\n    const minSize = Math.min(options.width, options.height) - options.margin * 2;\n    const realQRSize = options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = Math.floor(realQRSize / count);\n    const xBeginning = Math.floor((options.width - count * dotSize) / 2);\n    const yBeginning = Math.floor((options.height - count * dotSize) / 2);\n    const dot = new QRDot({ svg: this._element, type: options.dotsOptions.type });\n\n    this._dotsClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n    this._dotsClipPath.setAttribute(\"id\", \"clip-path-dot-color\");\n    this._defs.appendChild(this._dotsClipPath);\n\n    this._createColor({\n      options: options.dotsOptions?.gradient,\n      color: options.dotsOptions.color,\n      additionalRotation: 0,\n      x: 0,\n      y: 0,\n      height: options.height,\n      width: options.width,\n      name: \"dot-color\"\n    });\n\n    for (let i = 0; i < count; i++) {\n      for (let j = 0; j < count; j++) {\n        if (filter && !filter(i, j)) {\n          continue;\n        }\n        if (!this._qr?.isDark(i, j)) {\n          continue;\n        }\n\n        dot.draw(\n          xBeginning + i * dotSize,\n          yBeginning + j * dotSize,\n          dotSize,\n          (xOffset: number, yOffset: number): boolean => {\n            if (i + xOffset < 0 || j + yOffset < 0 || i + xOffset >= count || j + yOffset >= count) return false;\n            if (filter && !filter(i + xOffset, j + yOffset)) return false;\n            return !!this._qr && this._qr.isDark(i + xOffset, j + yOffset);\n          }\n        );\n\n        if (dot._element && this._dotsClipPath) {\n          this._dotsClipPath.appendChild(dot._element);\n        }\n      }\n    }\n\n    if (options.shape === shapeTypes.circle) {\n      const additionalDots = Math.floor((minSize / dotSize - count) / 2);\n      const fakeCount = count + additionalDots * 2;\n      const xFakeBeginning = xBeginning - additionalDots * dotSize;\n      const yFakeBeginning = yBeginning - additionalDots * dotSize;\n      const fakeMatrix: number[][] = [];\n      const center = Math.floor(fakeCount / 2);\n\n      for (let i = 0; i < fakeCount; i++) {\n        fakeMatrix[i] = [];\n        for (let j = 0; j < fakeCount; j++) {\n          if (\n            i >= additionalDots - 1 &&\n            i <= fakeCount - additionalDots &&\n            j >= additionalDots - 1 &&\n            j <= fakeCount - additionalDots\n          ) {\n            fakeMatrix[i][j] = 0;\n            continue;\n          }\n\n          if (Math.sqrt((i - center) * (i - center) + (j - center) * (j - center)) > center) {\n            fakeMatrix[i][j] = 0;\n            continue;\n          }\n\n          //Get random dots from QR code to show it outside of QR code\n          fakeMatrix[i][j] = this._qr.isDark(\n            j - 2 * additionalDots < 0 ? j : j >= count ? j - 2 * additionalDots : j - additionalDots,\n            i - 2 * additionalDots < 0 ? i : i >= count ? i - 2 * additionalDots : i - additionalDots\n          )\n            ? 1\n            : 0;\n        }\n      }\n\n      for (let i = 0; i < fakeCount; i++) {\n        for (let j = 0; j < fakeCount; j++) {\n          if (!fakeMatrix[i][j]) continue;\n\n          dot.draw(\n            xFakeBeginning + i * dotSize,\n            yFakeBeginning + j * dotSize,\n            dotSize,\n            (xOffset: number, yOffset: number): boolean => {\n              return !!fakeMatrix[i + xOffset]?.[j + yOffset];\n            }\n          );\n          if (dot._element && this._dotsClipPath) {\n            this._dotsClipPath.appendChild(dot._element);\n          }\n        }\n      }\n    }\n  }\n\n  drawCorners(): void {\n    if (!this._qr) {\n      throw \"QR code is not defined\";\n    }\n\n    const element = this._element;\n    const options = this._options;\n\n    if (!element) {\n      throw \"Element code is not defined\";\n    }\n\n    const count = this._qr.getModuleCount();\n    const minSize = Math.min(options.width, options.height) - options.margin * 2;\n    const realQRSize = options.shape === shapeTypes.circle ? minSize / Math.sqrt(2) : minSize;\n    const dotSize = Math.floor(realQRSize / count);\n    const cornersSquareSize = dotSize * 7;\n    const cornersDotSize = dotSize * 3;\n    const xBeginning = Math.floor((options.width - count * dotSize) / 2);\n    const yBeginning = Math.floor((options.height - count * dotSize) / 2);\n\n    [\n      [0, 0, 0],\n      [1, 0, Math.PI / 2],\n      [0, 1, -Math.PI / 2]\n    ].forEach(([column, row, rotation]) => {\n      const x = xBeginning + column * dotSize * (count - 7);\n      const y = yBeginning + row * dotSize * (count - 7);\n      let cornersSquareClipPath = this._dotsClipPath;\n      let cornersDotClipPath = this._dotsClipPath;\n\n      if (options.cornersSquareOptions?.gradient || options.cornersSquareOptions?.color) {\n        cornersSquareClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        cornersSquareClipPath.setAttribute(\"id\", `clip-path-corners-square-color-${column}-${row}`);\n        this._defs.appendChild(cornersSquareClipPath);\n        this._cornersSquareClipPath = this._cornersDotClipPath = cornersDotClipPath = cornersSquareClipPath;\n\n        this._createColor({\n          options: options.cornersSquareOptions?.gradient,\n          color: options.cornersSquareOptions?.color,\n          additionalRotation: rotation,\n          x,\n          y,\n          height: cornersSquareSize,\n          width: cornersSquareSize,\n          name: `corners-square-color-${column}-${row}`\n        });\n      }\n\n      if (options.cornersSquareOptions?.type) {\n        const cornersSquare = new QRCornerSquare({ svg: this._element, type: options.cornersSquareOptions.type });\n\n        cornersSquare.draw(x, y, cornersSquareSize, rotation);\n\n        if (cornersSquare._element && cornersSquareClipPath) {\n          cornersSquareClipPath.appendChild(cornersSquare._element);\n        }\n      } else {\n        const dot = new QRDot({ svg: this._element, type: options.dotsOptions.type });\n\n        for (let i = 0; i < squareMask.length; i++) {\n          for (let j = 0; j < squareMask[i].length; j++) {\n            if (!squareMask[i]?.[j]) {\n              continue;\n            }\n\n            dot.draw(\n              x + i * dotSize,\n              y + j * dotSize,\n              dotSize,\n              (xOffset: number, yOffset: number): boolean => !!squareMask[i + xOffset]?.[j + yOffset]\n            );\n\n            if (dot._element && cornersSquareClipPath) {\n              cornersSquareClipPath.appendChild(dot._element);\n            }\n          }\n        }\n      }\n\n      if (options.cornersDotOptions?.gradient || options.cornersDotOptions?.color) {\n        cornersDotClipPath = document.createElementNS(\"http://www.w3.org/2000/svg\", \"clipPath\");\n        cornersDotClipPath.setAttribute(\"id\", `clip-path-corners-dot-color-${column}-${row}`);\n        this._defs.appendChild(cornersDotClipPath);\n        this._cornersDotClipPath = cornersDotClipPath;\n\n        this._createColor({\n          options: options.cornersDotOptions?.gradient,\n          color: options.cornersDotOptions?.color,\n          additionalRotation: rotation,\n          x: x + dotSize * 2,\n          y: y + dotSize * 2,\n          height: cornersDotSize,\n          width: cornersDotSize,\n          name: `corners-dot-color-${column}-${row}`\n        });\n      }\n\n      if (options.cornersDotOptions?.type) {\n        const cornersDot = new QRCornerDot({ svg: this._element, type: options.cornersDotOptions.type });\n\n        cornersDot.draw(x + dotSize * 2, y + dotSize * 2, cornersDotSize, rotation);\n\n        if (cornersDot._element && cornersDotClipPath) {\n          cornersDotClipPath.appendChild(cornersDot._element);\n        }\n      } else {\n        const dot = new QRDot({ svg: this._element, type: options.dotsOptions.type });\n\n        for (let i = 0; i < dotMask.length; i++) {\n          for (let j = 0; j < dotMask[i].length; j++) {\n            if (!dotMask[i]?.[j]) {\n              continue;\n            }\n\n            dot.draw(\n              x + i * dotSize,\n              y + j * dotSize,\n              dotSize,\n              (xOffset: number, yOffset: number): boolean => !!dotMask[i + xOffset]?.[j + yOffset]\n            );\n\n            if (dot._element && cornersDotClipPath) {\n              cornersDotClipPath.appendChild(dot._element);\n            }\n          }\n        }\n      }\n    });\n  }\n\n  loadImage(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      const options = this._options;\n      const image = new Image();\n\n      if (!options.image) {\n        return reject(\"Image is not defined\");\n      }\n\n      if (typeof options.imageOptions.crossOrigin === \"string\") {\n        image.crossOrigin = options.imageOptions.crossOrigin;\n      }\n\n      this._image = image;\n      image.onload = (): void => {\n        resolve();\n      };\n      image.src = options.image;\n    });\n  }\n\n  async drawImage({\n    width,\n    height,\n    count,\n    dotSize\n  }: {\n    width: number;\n    height: number;\n    count: number;\n    dotSize: number;\n  }): Promise<void> {\n    const options = this._options;\n    const xBeginning = Math.floor((options.width - count * dotSize) / 2);\n    const yBeginning = Math.floor((options.height - count * dotSize) / 2);\n    const dx = xBeginning + options.imageOptions.margin + (count * dotSize - width) / 2;\n    const dy = yBeginning + options.imageOptions.margin + (count * dotSize - height) / 2;\n    const dw = width - options.imageOptions.margin * 2;\n    const dh = height - options.imageOptions.margin * 2;\n\n    const image = document.createElementNS(\"http://www.w3.org/2000/svg\", \"image\");\n    image.setAttribute(\"x\", String(dx));\n    image.setAttribute(\"y\", String(dy));\n    image.setAttribute(\"width\", `${dw}px`);\n    image.setAttribute(\"height\", `${dh}px`);\n\n    const imageUrl = await toDataUrl(options.image || \"\");\n\n    image.setAttribute(\"href\", imageUrl || \"\");\n\n    this._element.appendChild(image);\n  }\n\n  _createColor({\n    options,\n    color,\n    additionalRotation,\n    x,\n    y,\n    height,\n    width,\n    name\n  }: {\n    options?: Gradient;\n    color?: string;\n    additionalRotation: number;\n    x: number;\n    y: number;\n    height: number;\n    width: number;\n    name: string;\n  }): void {\n    const size = width > height ? width : height;\n    const rect = document.createElementNS(\"http://www.w3.org/2000/svg\", \"rect\");\n    rect.setAttribute(\"x\", String(x));\n    rect.setAttribute(\"y\", String(y));\n    rect.setAttribute(\"height\", String(height));\n    rect.setAttribute(\"width\", String(width));\n    rect.setAttribute(\"clip-path\", `url('#clip-path-${name}')`);\n\n    if (options) {\n      let gradient: SVGElement;\n      if (options.type === gradientTypes.radial) {\n        gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"radialGradient\");\n        gradient.setAttribute(\"id\", name);\n        gradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\");\n        gradient.setAttribute(\"fx\", String(x + width / 2));\n        gradient.setAttribute(\"fy\", String(y + height / 2));\n        gradient.setAttribute(\"cx\", String(x + width / 2));\n        gradient.setAttribute(\"cy\", String(y + height / 2));\n        gradient.setAttribute(\"r\", String(size / 2));\n      } else {\n        const rotation = ((options.rotation || 0) + additionalRotation) % (2 * Math.PI);\n        const positiveRotation = (rotation + 2 * Math.PI) % (2 * Math.PI);\n        let x0 = x + width / 2;\n        let y0 = y + height / 2;\n        let x1 = x + width / 2;\n        let y1 = y + height / 2;\n\n        if (\n          (positiveRotation >= 0 && positiveRotation <= 0.25 * Math.PI) ||\n          (positiveRotation > 1.75 * Math.PI && positiveRotation <= 2 * Math.PI)\n        ) {\n          x0 = x0 - width / 2;\n          y0 = y0 - (height / 2) * Math.tan(rotation);\n          x1 = x1 + width / 2;\n          y1 = y1 + (height / 2) * Math.tan(rotation);\n        } else if (positiveRotation > 0.25 * Math.PI && positiveRotation <= 0.75 * Math.PI) {\n          y0 = y0 - height / 2;\n          x0 = x0 - width / 2 / Math.tan(rotation);\n          y1 = y1 + height / 2;\n          x1 = x1 + width / 2 / Math.tan(rotation);\n        } else if (positiveRotation > 0.75 * Math.PI && positiveRotation <= 1.25 * Math.PI) {\n          x0 = x0 + width / 2;\n          y0 = y0 + (height / 2) * Math.tan(rotation);\n          x1 = x1 - width / 2;\n          y1 = y1 - (height / 2) * Math.tan(rotation);\n        } else if (positiveRotation > 1.25 * Math.PI && positiveRotation <= 1.75 * Math.PI) {\n          y0 = y0 + height / 2;\n          x0 = x0 + width / 2 / Math.tan(rotation);\n          y1 = y1 - height / 2;\n          x1 = x1 - width / 2 / Math.tan(rotation);\n        }\n\n        gradient = document.createElementNS(\"http://www.w3.org/2000/svg\", \"linearGradient\");\n        gradient.setAttribute(\"id\", name);\n        gradient.setAttribute(\"gradientUnits\", \"userSpaceOnUse\");\n        gradient.setAttribute(\"x1\", String(Math.round(x0)));\n        gradient.setAttribute(\"y1\", String(Math.round(y0)));\n        gradient.setAttribute(\"x2\", String(Math.round(x1)));\n        gradient.setAttribute(\"y2\", String(Math.round(y1)));\n      }\n\n      options.colorStops.forEach(({ offset, color }: { offset: number; color: string }) => {\n        const stop = document.createElementNS(\"http://www.w3.org/2000/svg\", \"stop\");\n        stop.setAttribute(\"offset\", `${100 * offset}%`);\n        stop.setAttribute(\"stop-color\", color);\n        gradient.appendChild(stop);\n      });\n\n      rect.setAttribute(\"fill\", `url('#${name}')`);\n      this._defs.appendChild(gradient);\n    } else if (color) {\n      rect.setAttribute(\"fill\", color);\n    }\n\n    this._element.appendChild(rect);\n  }\n}\n","interface ImageSizeOptions {\n  originalHeight: number;\n  originalWidth: number;\n  maxHiddenDots: number;\n  maxHiddenAxisDots?: number;\n  dotSize: number;\n}\n\ninterface ImageSizeResult {\n  height: number;\n  width: number;\n  hideYDots: number;\n  hideXDots: number;\n}\n\nexport default function calculateImageSize({\n  originalHeight,\n  originalWidth,\n  maxHiddenDots,\n  maxHiddenAxisDots,\n  dotSize\n}: ImageSizeOptions): ImageSizeResult {\n  const hideDots = { x: 0, y: 0 };\n  const imageSize = { x: 0, y: 0 };\n\n  if (originalHeight <= 0 || originalWidth <= 0 || maxHiddenDots <= 0 || dotSize <= 0) {\n    return {\n      height: 0,\n      width: 0,\n      hideYDots: 0,\n      hideXDots: 0\n    };\n  }\n\n  const k = originalHeight / originalWidth;\n\n  //Getting the maximum possible axis hidden dots\n  hideDots.x = Math.floor(Math.sqrt(maxHiddenDots / k));\n  //The count of hidden dot's can't be less than 1\n  if (hideDots.x <= 0) hideDots.x = 1;\n  //Check the limit of the maximum allowed axis hidden dots\n  if (maxHiddenAxisDots && maxHiddenAxisDots < hideDots.x) hideDots.x = maxHiddenAxisDots;\n  //The count of dots should be odd\n  if (hideDots.x % 2 === 0) hideDots.x--;\n  imageSize.x = hideDots.x * dotSize;\n  //Calculate opposite axis hidden dots based on axis value.\n  //The value will be odd.\n  //We use ceil to prevent dots covering by the image.\n  hideDots.y = 1 + 2 * Math.ceil((hideDots.x * k - 1) / 2);\n  imageSize.y = Math.round(imageSize.x * k);\n  //If the result dots count is bigger than max - then decrease size and calculate again\n  if (hideDots.y * hideDots.x > maxHiddenDots || (maxHiddenAxisDots && maxHiddenAxisDots < hideDots.y)) {\n    if (maxHiddenAxisDots && maxHiddenAxisDots < hideDots.y) {\n      hideDots.y = maxHiddenAxisDots;\n      if (hideDots.y % 2 === 0) hideDots.x--;\n    } else {\n      hideDots.y -= 2;\n    }\n    imageSize.y = hideDots.y * dotSize;\n    hideDots.x = 1 + 2 * Math.ceil((hideDots.y / k - 1) / 2);\n    imageSize.x = Math.round(imageSize.y / k);\n  }\n\n  return {\n    height: imageSize.y,\n    width: imageSize.x,\n    hideYDots: hideDots.y,\n    hideXDots: hideDots.x\n  };\n}\n","import { GradientTypes } from \"../types\";\n\nexport default {\n  radial: \"radial\",\n  linear: \"linear\"\n} as GradientTypes;\n","import { DrawTypes } from \"../types\";\n\nexport default {\n  canvas: \"canvas\",\n  svg: \"svg\"\n} as DrawTypes;\n","import { TypeNumber } from \"../types\";\n\ninterface TypesMap {\n  [key: number]: TypeNumber;\n}\n\nconst qrTypes: TypesMap = {};\n\nfor (let type = 0; type <= 40; type++) {\n  qrTypes[type] = type as TypeNumber;\n}\n\n// 0 types is autodetect\n\n// types = {\n//     0: 0,\n//     1: 1,\n//     ...\n//     40: 40\n// }\n\nexport default qrTypes;\n","import qrTypes from \"../constants/qrTypes\";\nimport drawTypes from \"../constants/drawTypes\";\nimport shapeTypes from \"../constants/shapeTypes\";\nimport errorCorrectionLevels from \"../constants/errorCorrectionLevels\";\nimport { ShapeType, DotType, Options, TypeNumber, ErrorCorrectionLevel, Mode, DrawType, Gradient } from \"../types\";\n\nexport interface RequiredOptions extends Options {\n  type: DrawType;\n  shape: ShapeType;\n  width: number;\n  height: number;\n  margin: number;\n  data: string;\n  qrOptions: {\n    typeNumber: TypeNumber;\n    mode?: Mode;\n    errorCorrectionLevel: ErrorCorrectionLevel;\n  };\n  imageOptions: {\n    hideBackgroundDots: boolean;\n    imageSize: number;\n    crossOrigin?: string;\n    margin: number;\n  };\n  dotsOptions: {\n    type: DotType;\n    color: string;\n    gradient?: Gradient;\n  };\n  backgroundOptions: {\n    round: number;\n    color: string;\n    gradient?: Gradient;\n  };\n}\n\nconst defaultOptions: RequiredOptions = {\n  type: drawTypes.canvas,\n  shape: shapeTypes.square,\n  width: 300,\n  height: 300,\n  data: \"\",\n  margin: 0,\n  qrOptions: {\n    typeNumber: qrTypes[0],\n    mode: undefined,\n    errorCorrectionLevel: errorCorrectionLevels.Q\n  },\n  imageOptions: {\n    hideBackgroundDots: true,\n    imageSize: 0.4,\n    crossOrigin: undefined,\n    margin: 0\n  },\n  dotsOptions: {\n    type: \"square\",\n    color: \"#000\"\n  },\n  backgroundOptions: {\n    round: 0,\n    color: \"#fff\"\n  }\n};\n\nexport default defaultOptions;\n","import { ErrorCorrectionLevel } from \"../types\";\n\ninterface ErrorCorrectionLevels {\n  [key: string]: ErrorCorrectionLevel;\n}\n\nexport default {\n  L: \"L\",\n  M: \"M\",\n  Q: \"Q\",\n  H: \"H\"\n} as ErrorCorrectionLevels;\n","import { RequiredOptions } from \"../core/QROptions\";\nimport { Gradient } from \"../types\";\n\nfunction sanitizeGradient(gradient: Gradient): Gradient {\n  const newGradient = { ...gradient };\n\n  if (!newGradient.colorStops || !newGradient.colorStops.length) {\n    throw \"Field 'colorStops' is required in gradient\";\n  }\n\n  if (newGradient.rotation) {\n    newGradient.rotation = Number(newGradient.rotation);\n  } else {\n    newGradient.rotation = 0;\n  }\n\n  newGradient.colorStops = newGradient.colorStops.map((colorStop: { offset: number; color: string }) => ({\n    ...colorStop,\n    offset: Number(colorStop.offset)\n  }));\n\n  return newGradient;\n}\n\nexport default function sanitizeOptions(options: RequiredOptions): RequiredOptions {\n  const newOptions = { ...options };\n\n  newOptions.width = Number(newOptions.width);\n  newOptions.height = Number(newOptions.height);\n  newOptions.margin = Number(newOptions.margin);\n  newOptions.imageOptions = {\n    ...newOptions.imageOptions,\n    hideBackgroundDots: Boolean(newOptions.imageOptions.hideBackgroundDots),\n    imageSize: Number(newOptions.imageOptions.imageSize),\n    margin: Number(newOptions.imageOptions.margin)\n  };\n\n  if (newOptions.margin > Math.min(newOptions.width, newOptions.height)) {\n    newOptions.margin = Math.min(newOptions.width, newOptions.height);\n  }\n\n  newOptions.dotsOptions = {\n    ...newOptions.dotsOptions\n  };\n  if (newOptions.dotsOptions.gradient) {\n    newOptions.dotsOptions.gradient = sanitizeGradient(newOptions.dotsOptions.gradient);\n  }\n\n  if (newOptions.cornersSquareOptions) {\n    newOptions.cornersSquareOptions = {\n      ...newOptions.cornersSquareOptions\n    };\n    if (newOptions.cornersSquareOptions.gradient) {\n      newOptions.cornersSquareOptions.gradient = sanitizeGradient(newOptions.cornersSquareOptions.gradient);\n    }\n  }\n\n  if (newOptions.cornersDotOptions) {\n    newOptions.cornersDotOptions = {\n      ...newOptions.cornersDotOptions\n    };\n    if (newOptions.cornersDotOptions.gradient) {\n      newOptions.cornersDotOptions.gradient = sanitizeGradient(newOptions.cornersDotOptions.gradient);\n    }\n  }\n\n  if (newOptions.backgroundOptions) {\n    newOptions.backgroundOptions = {\n      ...newOptions.backgroundOptions\n    };\n    if (newOptions.backgroundOptions.gradient) {\n      newOptions.backgroundOptions.gradient = sanitizeGradient(newOptions.backgroundOptions.gradient);\n    }\n  }\n\n  return newOptions;\n}\n","import QRCodeStyling from \"./core/QRCodeStyling\";\nimport dotTypes from \"./constants/dotTypes\";\nimport cornerDotTypes from \"./constants/cornerDotTypes\";\nimport cornerSquareTypes from \"./constants/cornerSquareTypes\";\nimport errorCorrectionLevels from \"./constants/errorCorrectionLevels\";\nimport errorCorrectionPercents from \"./constants/errorCorrectionPercents\";\nimport modes from \"./constants/modes\";\nimport qrTypes from \"./constants/qrTypes\";\nimport drawTypes from \"./constants/drawTypes\";\nimport shapeTypes from \"./constants/shapeTypes\";\nimport gradientTypes from \"./constants/gradientTypes\";\n\nexport * from \"./types\";\n\nexport {\n  dotTypes,\n  cornerDotTypes,\n  cornerSquareTypes,\n  errorCorrectionLevels,\n  errorCorrectionPercents,\n  modes,\n  qrTypes,\n  drawTypes,\n  shapeTypes,\n  gradientTypes\n};\n\nexport default QRCodeStyling;\n","import getMode from \"../tools/getMode\";\nimport mergeDeep from \"../tools/merge\";\nimport downloadURI from \"../tools/downloadURI\";\nimport QRSVG from \"./QRSVG\";\nimport drawTypes from \"../constants/drawTypes\";\n\nimport defaultOptions, { RequiredOptions } from \"./QROptions\";\nimport sanitizeOptions from \"../tools/sanitizeOptions\";\nimport { FileExtension, QRCode, Options, DownloadOptions, ExtensionFunction } from \"../types\";\nimport qrcode from \"qrcode-generator\";\n\nexport default class QRCodeStyling {\n  _options: RequiredOptions;\n  _container?: HTMLElement;\n  _canvas?: HTMLCanvasElement;\n  _svg?: SVGElement;\n  _qr?: QRCode;\n  _extension?: ExtensionFunction;\n  _canvasDrawingPromise?: Promise<void>;\n  _svgDrawingPromise?: Promise<void>;\n\n  constructor(options?: Partial<Options>) {\n    this._options = options ? sanitizeOptions(mergeDeep(defaultOptions, options) as RequiredOptions) : defaultOptions;\n    this.update();\n  }\n\n  static _clearContainer(container?: HTMLElement): void {\n    if (container) {\n      container.innerHTML = \"\";\n    }\n  }\n\n  _setupSvg(): void {\n    if (!this._qr) {\n      return;\n    }\n    const qrSVG = new QRSVG(this._options);\n\n    this._svg = qrSVG.getElement();\n    this._svgDrawingPromise = qrSVG.drawQR(this._qr).then(() => {\n      if (!this._svg) return;\n      this._extension?.(qrSVG.getElement(), this._options);\n    });\n  }\n\n  _setupCanvas(): void {\n    if (!this._qr) {\n      return;\n    }\n\n    this._canvas = document.createElement(\"canvas\");\n    this._canvas.width = this._options.width;\n    this._canvas.height = this._options.height;\n\n    this._setupSvg();\n    this._canvasDrawingPromise = this._svgDrawingPromise?.then(() => {\n      if (!this._svg) return;\n\n      const svg = this._svg;\n      const xml = new XMLSerializer().serializeToString(svg);\n      const svg64 = btoa(xml);\n      const image64 = \"data:image/svg+xml;base64,\" + svg64;\n      const image = new Image();\n\n      return new Promise((resolve) => {\n        image.onload = (): void => {\n          this._canvas?.getContext(\"2d\")?.drawImage(image, 0, 0);\n          resolve();\n        };\n\n        image.src = image64;\n      });\n    });\n  }\n\n  async _getElement(extension: FileExtension = \"png\"): Promise<SVGElement | HTMLCanvasElement | undefined> {\n    if (!this._qr) throw \"QR code is empty\";\n\n    if (extension.toLowerCase() === \"svg\") {\n      if (!this._svg || !this._svgDrawingPromise) {\n        this._setupSvg();\n      }\n      await this._svgDrawingPromise;\n      return this._svg;\n    } else {\n      if (!this._canvas || !this._canvasDrawingPromise) {\n        this._setupCanvas();\n      }\n      await this._canvasDrawingPromise;\n      return this._canvas;\n    }\n  }\n\n  update(options?: Partial<Options>): void {\n    QRCodeStyling._clearContainer(this._container);\n    this._options = options ? sanitizeOptions(mergeDeep(this._options, options) as RequiredOptions) : this._options;\n\n    if (!this._options.data) {\n      return;\n    }\n\n    this._qr = qrcode(this._options.qrOptions.typeNumber, this._options.qrOptions.errorCorrectionLevel);\n    this._qr.addData(this._options.data, this._options.qrOptions.mode || getMode(this._options.data));\n    this._qr.make();\n\n    if (this._options.type === drawTypes.canvas) {\n      this._setupCanvas();\n    } else {\n      this._setupSvg();\n    }\n\n    this.append(this._container);\n  }\n\n  append(container?: HTMLElement): void {\n    if (!container) {\n      return;\n    }\n\n    if (typeof container.appendChild !== \"function\") {\n      throw \"Container should be a single DOM node\";\n    }\n\n    if (this._options.type === drawTypes.canvas) {\n      if (this._canvas) {\n        container.appendChild(this._canvas);\n      }\n    } else {\n      if (this._svg) {\n        container.appendChild(this._svg);\n      }\n    }\n\n    this._container = container;\n  }\n\n  applyExtension(extension: ExtensionFunction): void {\n    if (!extension) {\n      throw \"Extension function should be defined.\";\n    }\n\n    this._extension = extension;\n    this.update();\n  }\n\n  deleteExtension(): void {\n    this._extension = undefined;\n    this.update();\n  }\n\n  async getRawData(extension: FileExtension = \"png\"): Promise<Blob | null> {\n    if (!this._qr) throw \"QR code is empty\";\n    const element = await this._getElement(extension);\n\n    if (!element) {\n      return null;\n    }\n\n    if (extension.toLowerCase() === \"svg\") {\n      const serializer = new XMLSerializer();\n      const source = serializer.serializeToString(element);\n\n      return new Blob(['<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source], { type: \"image/svg+xml\" });\n    } else {\n      return new Promise((resolve) => (element as HTMLCanvasElement).toBlob(resolve, `image/${extension}`, 1));\n    }\n  }\n\n  async download(downloadOptions?: Partial<DownloadOptions> | string): Promise<void> {\n    if (!this._qr) throw \"QR code is empty\";\n    let extension = \"png\" as FileExtension;\n    let name = \"qr\";\n\n    //TODO remove deprecated code in the v2\n    if (typeof downloadOptions === \"string\") {\n      extension = downloadOptions as FileExtension;\n      console.warn(\n        \"Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument\"\n      );\n    } else if (typeof downloadOptions === \"object\" && downloadOptions !== null) {\n      if (downloadOptions.name) {\n        name = downloadOptions.name;\n      }\n      if (downloadOptions.extension) {\n        extension = downloadOptions.extension;\n      }\n    }\n\n    const element = await this._getElement(extension);\n\n    if (!element) {\n      return;\n    }\n\n    if (extension.toLowerCase() === \"svg\") {\n      const serializer = new XMLSerializer();\n      let source = serializer.serializeToString(element);\n\n      source = '<?xml version=\"1.0\" standalone=\"no\"?>\\r\\n' + source;\n      const url = \"data:image/svg+xml;charset=utf-8,\" + encodeURIComponent(source);\n      downloadURI(url, `${name}.svg`);\n    } else {\n      const url = (element as HTMLCanvasElement).toDataURL(`image/${extension}`);\n      downloadURI(url, `${name}.${extension}`);\n    }\n  }\n}\n","import modes from \"../constants/modes\";\nimport { Mode } from \"../types\";\n\nexport default function getMode(data: string): Mode {\n  switch (true) {\n    case /^[0-9]*$/.test(data):\n      return modes.numeric;\n    case /^[0-9A-Z $%*+\\-./:]*$/.test(data):\n      return modes.alphanumeric;\n    default:\n      return modes.byte;\n  }\n}\n","import { Mode } from \"../types\";\n\ninterface Modes {\n  [key: string]: Mode;\n}\n\nexport default {\n  numeric: \"Numeric\",\n  alphanumeric: \"Alphanumeric\",\n  byte: \"Byte\",\n  kanji: \"Kanji\"\n} as Modes;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// module exports must be returned from runtime so entry inlining is disabled\n// startup\n// Load entry module and return exports\nreturn __webpack_require__(676);\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => module['default'] :\n\t\t() => module;\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop)","import{i as e,P as n,r as t,a,d as o,b as l,c as i,e as r,f as d,g as c,h as p,j as s}from\"./index-87e811df.js\";import m from\"qr-code-styling\";import w from\"@evanhahn/lottie-web-light\";import\"@walletconnect/client\";import\"algosdk\";import\"bowser\";function h(e,n){void 0===n&&(n={});var t=n.insertAt;if(e&&\"undefined\"!=typeof document){var a=document.head||document.getElementsByTagName(\"head\")[0],o=document.createElement(\"style\");o.type=\"text/css\",\"top\"===t&&a.firstChild?a.insertBefore(o,a.firstChild):a.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}var g=\".pera-wallet-modal-header {\\n  position: absolute;\\n  top: -44px;\\n  right: 0px;\\n  left: 0;\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n}\\n.pera-wallet-modal-header--mobile {\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-end;\\n  position: static;\\n}\\n.pera-wallet-modal-header--mobile .pera-wallet-modal-header__close-button {\\n  width: 24px;\\n  height: 24px;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n  border: unset;\\n  box-shadow: unset;\\n}\\n\\n.pera-wallet-modal-header__brand {\\n  display: flex;\\n  align-items: center;\\n  gap: 10px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  line-height: 24px;\\n  letter-spacing: -0.1px;\\n  color: #ffffff;\\n}\\n\\n.pera-wallet-modal-header__brand-text {\\n  display: flex;\\n  align-items: center;\\n  gap: 6px;\\n}\\n\\n.pera-wallet-modal-header__version-number {\\n  color: #9d9dae;\\n  font-size: 12px;\\n  font-weight: 400;\\n  line-height: 18px;\\n  letter-spacing: 0.01;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal-header__close-button {\\n  width: 32px;\\n  height: 32px;\\n  margin: 0;\\n  padding: 0;\\n  background: rgba(44, 53, 89, 0.1);\\n  border-radius: 8px;\\n}\\n\\n.pera-wallet-modal-header__close-button__close-icon {\\n  width: 20px;\\n  height: 20px;\\n}\";h(g);const x=document.createElement(\"template\"),f=e()?\"pera-wallet-modal-header pera-wallet-modal-header--mobile\":\"pera-wallet-modal-header pera-wallet-modal-header--desktop\";x.innerHTML=`\\n  <div class=\"${f}\">\\n      ${e()?\"\":\"<div class=\\\"pera-wallet-modal-header__brand\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='24' height='24' rx='4.8' fill='%23FFEE55'/%3e%3cpath d='M13.0408 5.92462C13.413 7.46693 13.2872 8.8236 12.7597 8.95482C12.2322 9.08605 11.5028 7.94214 11.1306 6.39983C10.7583 4.85752 10.8842 3.50085 11.4117 3.36963C11.9391 3.2384 12.6685 4.38231 13.0408 5.92462Z' fill='black'/%3e%3cpath d='M19.1876 7.25063C18.3632 6.37689 16.7231 6.61371 15.5243 7.77959C14.3254 8.94547 14.0219 10.5989 14.8463 11.4727C15.6707 12.3464 17.3108 12.1096 18.5097 10.9437C19.7085 9.77781 20.012 8.12438 19.1876 7.25063Z' fill='black'/%3e%3cpath d='M12.6308 20.6297C13.1583 20.4985 13.2656 19.0651 12.8705 17.4281C12.4754 15.7911 11.7275 14.5705 11.2 14.7017C10.6725 14.8329 10.5652 16.2663 10.9603 17.9033C11.3554 19.5403 12.1033 20.7609 12.6308 20.6297Z' fill='black'/%3e%3cpath d='M7.25371 8.05056C8.77551 8.49933 9.8875 9.28664 9.73741 9.80906C9.58731 10.3315 8.23197 10.3912 6.71016 9.94242C5.18836 9.49364 4.07637 8.70633 4.22646 8.18391C4.37656 7.66149 5.7319 7.60178 7.25371 8.05056Z' fill='black'/%3e%3cpath d='M17.1309 13.9497C18.7461 14.4261 19.9338 15.2357 19.7837 15.7581C19.6336 16.2806 18.2025 16.3179 16.5873 15.8416C14.9721 15.3653 13.7844 14.5556 13.9345 14.0332C14.0846 13.5108 15.5157 13.4734 17.1309 13.9497Z' fill='black'/%3e%3cpath d='M8.96609 12.8536C8.5887 12.4624 7.35088 13.0318 6.20133 14.1253C5.05177 15.2188 4.42581 16.4225 4.80319 16.8137C5.18058 17.2048 6.4184 16.6355 7.56796 15.542C8.71751 14.4484 9.34347 13.2448 8.96609 12.8536Z' fill='black'/%3e%3c/svg%3e\\\" />\\n\\n              <div class=\\\"pera-wallet-modal-header__brand-text\\\">\\n                <span>Pera Connect</span>\\n\\n                <span class=\\\"pera-wallet-modal-header__version-number\\\">v1.4.2</span>\\n              </div>\\n            </div>\\n            \"} \\n\\n      <button\\n        id=\"pera-wallet-modal-header-close-button\"\\n        class=\"pera-wallet-button pera-wallet-modal-header__close-button\">\\n        <img\\n          class=\"pera-wallet-modal-header__close-button__close-icon\"\\n          src=\"${e()?\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='%232C3559' stroke-width='2'/%3e%3c/svg%3e\":\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18 6L12 12M12 12L6 18M12 12L18 18M12 12L6 6' stroke='white' stroke-width='2'/%3e%3c/svg%3e\"}\"\\n        />\\n      </button>\\n    </div>\\n`;class u extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=g,this.shadowRoot.append(x.content.cloneNode(!0),e),this.onClose()}}onClose(){var e;const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-modal-header-close-button\"),o=this.getAttribute(\"modal-id\");a&&o===n&&a.addEventListener(\"click\",(()=>{t(n)}))}}var _=\"data:image/svg+xml,%3csvg fill='none' height='80' width='80' xmlns='http://www.w3.org/2000/svg'%3e%3cpath clip-rule='evenodd' d='M39.9 80V68.99h-9.8V80h-.2V68.99h-3.5a6.503 6.503 0 0 1-6.247-4.7 6.514 6.514 0 0 1-4.445-4.444 6.503 6.503 0 0 1-4.695-6.246v-3.5H0v-.2h11.013v-9.8H0v-.2h11.013v-9.8H0v-.2h11.013v-3.5a6.503 6.503 0 0 1 4.694-6.246 6.513 6.513 0 0 1 4.447-4.447 6.503 6.503 0 0 1 6.246-4.696h3.5V0h.2v11.011h9.8V0h.2v11.011h9.8V0h.2v11.011h3.5a6.503 6.503 0 0 1 6.247 4.697 6.514 6.514 0 0 1 4.443 4.444 6.503 6.503 0 0 1 4.701 6.248v3.5H80v.2H68.991v9.8H80v.2H68.991v9.8H80v.2H68.991v3.5a6.503 6.503 0 0 1-4.701 6.248 6.514 6.514 0 0 1-4.443 4.442 6.503 6.503 0 0 1-6.247 4.7h-3.5V80h-.2V68.99h-9.8V80zm28.89-40.1a28.728 28.728 0 0 0-1.746-9.8h-2.5v9.8h4.247zm-4.246.2h4.247a28.729 28.729 0 0 1-1.747 9.8h-2.5zm-.2-.2v-9.8H60.1v9.8zm-4.244.2h4.244v9.8H60.1zm-.2-.2a19.807 19.807 0 0 0-2.633-9.8H50.1v9.8zm-9.8.2h9.8a19.807 19.807 0 0 1-2.633 9.8H50.1zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-9.8v9.8zm-9.8.2h9.8v9.8h-9.8zm-.2-.2v-9.8h-7.167a19.807 19.807 0 0 0-2.633 9.8zm-9.8.2h9.8v9.8h-7.167a19.807 19.807 0 0 1-2.633-9.8zm-.2-.2v-9.8h-4.245v9.8zm-4.245.2H19.9v9.8h-4.245zm-.2-.2v-9.8H12.96a28.726 28.726 0 0 0-1.748 9.8h4.242zm-4.242.2h4.242v9.8H12.96a28.726 28.726 0 0 1-1.748-9.8zm0 13.5v-3.5h1.608a28.876 28.876 0 0 0 2.634 5.327v2.617c0 .543.066 1.07.192 1.575a6.303 6.303 0 0 1-4.434-6.019zm4.242 1.449a28.674 28.674 0 0 1-2.42-4.949h2.42zm.2.32V50.1H19.9v9.8h-.702a28.915 28.915 0 0 1-3.543-4.53zM20.1 59.9v-9.8h2.518a20.2 20.2 0 0 0 7.282 7.282V59.9zm0-10h2.403a19.966 19.966 0 0 1-2.403-7.053zm9.8 7.25a20 20 0 0 1-7.05-7.05h7.05zm.2.117V50.1h9.8v9.8a19.807 19.807 0 0 1-9.8-2.633zm10 2.633v-9.8h9.8v7.167a19.807 19.807 0 0 1-9.8 2.633zm10-2.75V50.1h7.05a20 20 0 0 1-7.05 7.05zm0 .232a20.2 20.2 0 0 0 7.282-7.282H59.9v9.8h-9.8zm7.397-7.482H59.9v-7.053a19.966 19.966 0 0 1-2.403 7.053zm2.603 10v-9.8h4.244v5.28a28.91 28.91 0 0 1-3.538 4.52zm4.444-4.841V50.1h2.426a28.67 28.67 0 0 1-2.426 4.959zm0 .378a28.881 28.881 0 0 0 2.64-5.337h1.607v3.5a6.303 6.303 0 0 1-4.44 6.021 6.514 6.514 0 0 0 .193-1.577zm2.713-5.537h1.534v-6.477a28.817 28.817 0 0 1-1.534 6.477zm-56.044 0h1.535a28.807 28.807 0 0 1-1.535-6.477zm57.578-20v-3.5a6.303 6.303 0 0 0-4.44-6.02c.126.504.193 1.031.193 1.575v2.608a28.877 28.877 0 0 1 2.639 5.337zm-1.534.2h1.534v6.477a28.815 28.815 0 0 0-1.534-6.477zm-.288-.2a28.673 28.673 0 0 0-2.425-4.958V29.9zm-2.625 0v-5.279a28.911 28.911 0 0 0-3.538-4.521H60.1v9.8zm-4.444 0v-9.8h-9.8v2.518a20.2 20.2 0 0 1 7.282 7.282zm-2.403.2H59.9v7.053a19.966 19.966 0 0 0-2.403-7.053zm-.347-.2a20 20 0 0 0-7.05-7.05v7.05zm-7.25 0v-7.167a19.807 19.807 0 0 0-9.8-2.633v9.8zm-10 0v-9.8a19.807 19.807 0 0 0-9.8 2.633V29.9zm-10 0v-7.05a20 20 0 0 0-7.05 7.05zm-7.282 0a20.2 20.2 0 0 1 7.282-7.282V20.1h-9.8v9.8zm-2.518.2h2.403a19.966 19.966 0 0 0-2.403 7.053zm-.2-.2v-9.8h-.701a28.915 28.915 0 0 0-3.544 4.53v5.27zm-4.445 0v-4.948a28.665 28.665 0 0 0-2.42 4.948zm-2.634 0a28.874 28.874 0 0 1 2.634-5.327v-2.618c0-.543.066-1.07.191-1.574a6.303 6.303 0 0 0-4.433 6.019v3.5zm-1.608.2h1.535a28.81 28.81 0 0 0-1.535 6.477zM36.58 68.79H30.1v-1.536c2.06.749 4.23 1.27 6.479 1.535zm3.321-.001a28.726 28.726 0 0 1-9.8-1.748v-2.497h9.8zm-10-1.822v-2.423h-4.953a28.678 28.678 0 0 0 4.953 2.423zm10-2.623h-9.8V60.1h9.8zm-10 0V60.1h-9.8v.702a28.915 28.915 0 0 0 4.526 3.542H29.9zm7.254-4.444H30.1v-2.403a19.966 19.966 0 0 0 7.053 2.403zm0-39.8a19.966 19.966 0 0 0-7.054 2.403V20.1h7.053zm2.746-.2h-9.8v-4.245h9.8zm-10 0v-4.245h-5.27a28.907 28.907 0 0 0-4.53 3.544v.701zm10-4.445h-9.8V12.96a28.729 28.729 0 0 1 9.8-1.749zm-10 0v-2.421a28.668 28.668 0 0 0-4.95 2.42h4.95zm6.679-4.244a28.81 28.81 0 0 0-6.479 1.536V11.21h6.479zm-6.679 1.61v-1.61h-3.5a6.303 6.303 0 0 0-6.02 4.436 6.514 6.514 0 0 1 1.575-.192h2.617A28.877 28.877 0 0 1 29.9 12.82zm0 55.968V67.18a28.878 28.878 0 0 1-5.331-2.636h-2.614c-.543 0-1.07-.067-1.575-.192a6.303 6.303 0 0 0 6.02 4.437zm20.2 0h3.5a6.303 6.303 0 0 0 6.02-4.438 6.513 6.513 0 0 1-1.576.193h-2.608a28.879 28.879 0 0 1-5.336 2.638zm-.2-1.534v1.534h-6.475a28.808 28.808 0 0 0 6.475-1.534zm.2-.287a28.671 28.671 0 0 0 4.957-2.424H50.1v2.424zm-.2-2.424v2.499a28.728 28.728 0 0 1-9.8 1.746v-4.245zm.2-.2h5.278a28.914 28.914 0 0 0 4.522-3.538V60.1h-9.8zm-.2-4.244v4.244h-9.8V60.1zm0-2.603V59.9h-7.053a19.966 19.966 0 0 0 7.053-2.403zm0-37.397v2.403a19.966 19.966 0 0 0-7.053-2.403H49.9zm.2-.2h9.8v-.705a28.911 28.911 0 0 0-4.526-3.54H50.1V19.9zm-.2-4.245V19.9h-9.8v-4.245h9.8zm.2-.2h4.954a28.676 28.676 0 0 0-4.954-2.423zm-.2-2.497v2.497h-9.8V11.21a28.75 28.75 0 0 1 9.8 1.747zm.2-.14a28.877 28.877 0 0 1 5.332 2.637h2.612c.543 0 1.071.066 1.576.192a6.303 6.303 0 0 0-6.02-4.436h-3.5zm-.2-1.607v1.534a28.812 28.812 0 0 0-6.475-1.534H49.9zm-34.245 44.53v2.303c0 .567.075 1.117.215 1.64a6.309 6.309 0 0 0 1.643.216h1.41a29.118 29.118 0 0 1-3.268-4.16zm3.458 4.359h-1.6a6.513 6.513 0 0 1-1.578-.193 6.315 6.315 0 0 0 4.157 4.157 6.517 6.517 0 0 1-.192-1.575v-1.602a29.35 29.35 0 0 1-.787-.787zm.787.509a29.029 29.029 0 0 1-.508-.509h.508zm.2.469v1.411c0 .567.075 1.117.215 1.64.523.14 1.073.215 1.64.215h2.3a29.118 29.118 0 0 1-4.155-3.266zm35.649 3.266h2.295c.567 0 1.117-.075 1.64-.216a6.286 6.286 0 0 0 .216-1.639v-1.407a29.116 29.116 0 0 1-4.151 3.262zm4.35-3.454v1.598a6.53 6.53 0 0 1-.192 1.574 6.314 6.314 0 0 0 4.155-4.154 6.509 6.509 0 0 1-1.572.191h-1.6a29.08 29.08 0 0 1-.791.791zm.982-.991h1.41c.565 0 1.114-.075 1.636-.215a6.31 6.31 0 0 0 .216-1.641V55.75a29.113 29.113 0 0 1-3.262 4.15zm3.262-35.65v-2.295c0-.568-.075-1.117-.216-1.64a6.307 6.307 0 0 0-1.637-.215h-1.41a29.112 29.112 0 0 1 3.263 4.15zM60.89 19.9h1.6c.542 0 1.069.066 1.573.192a6.314 6.314 0 0 0-4.156-4.157 6.51 6.51 0 0 1 .192 1.576v1.598c.269.259.532.522.79.791zm-.991-.981V17.51a6.31 6.31 0 0 0-.216-1.64 6.308 6.308 0 0 0-1.64-.216h-2.299a29.108 29.108 0 0 1 4.155 3.264zm-35.641-3.264h-2.304a6.31 6.31 0 0 0-1.639.215 6.306 6.306 0 0 0-.216 1.641v1.412a29.115 29.115 0 0 1 4.159-3.268zM19.9 19.113v-1.602c0-.543.067-1.072.193-1.577a6.315 6.315 0 0 0-4.159 4.16 6.518 6.518 0 0 1 1.58-.194h1.6c.257-.267.519-.53.786-.787zm-.508.787h.508v-.508c-.171.167-.34.337-.508.508zm-.47.2h-1.409a6.31 6.31 0 0 0-1.643.216 6.308 6.308 0 0 0-.215 1.639v2.305a29.107 29.107 0 0 1 3.268-4.16zm41.178-.712c.173.168.344.34.512.512H60.1zm.513 40.712c-.169.173-.34.344-.513.513V60.1z' fill='%2394a3b8' fill-rule='evenodd'/%3e%3crect fill='black' height='80' rx='16' width='80'/%3e%3cpath d='M43.47 19.752c1.24 5.14.821 9.663-.937 10.1-1.758.438-4.19-3.375-5.43-8.517-1.241-5.14-.822-9.663.936-10.1 1.759-.438 4.19 3.376 5.43 8.517zm20.49 4.42c-2.749-2.913-8.216-2.123-12.212 1.763s-5.008 9.398-2.26 12.31 8.215 2.123 12.211-1.763 5.008-9.398 2.26-12.31zM42.102 68.769c1.758-.438 2.116-5.216.8-10.673-1.318-5.456-3.81-9.525-5.57-9.088-1.757.438-2.115 5.216-.798 10.672 1.317 5.457 3.81 9.526 5.568 9.089zM24.18 26.838c5.073 1.496 8.78 4.12 8.28 5.862-.5 1.741-5.019 1.94-10.091.444-5.073-1.496-8.78-4.12-8.28-5.861.501-1.742 5.019-1.941 10.092-.445zm32.924 19.664c5.384 1.588 9.343 4.286 8.843 6.028-.5 1.741-5.27 1.866-10.654.278-5.385-1.588-9.343-4.286-8.843-6.028.5-1.741 5.27-1.866 10.654-.278zm-27.216-3.654c-1.258-1.304-5.384.594-9.215 4.24-3.832 3.644-5.919 7.656-4.66 8.96 1.257 1.304 5.383-.594 9.215-4.239s5.918-7.657 4.66-8.96z' fill='%23fe5'/%3e%3c/svg%3e\",b=\".pera-wallet-download-qr-code-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: fit-content;\\n  margin: 26px auto 0;\\n  padding: 10px;\\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\\n  border-radius: 24px;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-download-qr-code-wrapper {\\n    margin-top: 51px;\\n  }\\n}\";h(b);const v=document.createElement(\"template\");v.innerHTML='\\n  <div id=\"pera-wallet-download-qr-code-wrapper\" class=\"pera-wallet-download-qr-code-wrapper\"></div>  \\n';class C extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=b,this.shadowRoot.append(v.content.cloneNode(!0),e)}}connectedCallback(){var e;const n=new m({width:205,height:205,type:\"svg\",data:a,image:_,dotsOptions:{color:\"#000\",type:\"extra-rounded\"},imageOptions:{crossOrigin:\"anonymous\",margin:10},cornersSquareOptions:{type:\"extra-rounded\"},cornersDotOptions:{type:\"dot\"}}),t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-download-qr-code-wrapper\");t&&n.append(t)}}var k=\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M8.5 19L15.5 12L8.5 5' stroke='%233C3C49' stroke-width='2'/%3e%3c/svg%3e\",y=\".pera-wallet-connect-modal-desktop-mode {\\n  display: grid;\\n  grid-template-columns: 205px auto;\\n  gap: 70px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view {\\n  display: block;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\\n  height: 364px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item--web-wallet {\\n  display: none;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-toggle {\\n  padding: 26px 24px 12px;\\n  border-radius: 24px 24px 0 0;\\n  transition: all ease-in 0.2s;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-item__content {\\n  height: 434px;\\n  border-radius: 0 0 24px 24px;\\n  transition: height ease-in 0.2s;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-accordion-item .pera-wallet-accordion-icon {\\n  transform: rotate(90deg);\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable .pera-wallet-connect-modal-desktop-mode__download-pera-description {\\n  margin-top: 50px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--default .pera-wallet-connect-modal-desktop-mode__download-view {\\n  display: none;\\n}\\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__default-view {\\n  display: none;\\n}\\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view {\\n  display: block;\\n}\\n.pera-wallet-connect-modal-desktop-mode--download .pera-wallet-connect-modal-desktop-mode__download-view .pera-wallet-connect-modal-download-pera-view__footer a {\\n  display: flex;\\n  cursor: pointer;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact {\\n  grid-template-columns: unset;\\n  gap: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet {\\n  padding: 28px 40px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\\n  box-shadow: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__description {\\n  margin-bottom: 16px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet .pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\\n  width: 172px;\\n  height: 40px;\\n  margin: 0 auto;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\\n  height: 100%;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view {\\n  overflow: hidden;\\n  border-radius: 24px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item {\\n  margin-bottom: 0;\\n  border-radius: 0;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item:not(:last-child) {\\n  border-bottom: 1px solid #e6e8ee;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item #pera-wallet-iframe {\\n  height: 100%;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle {\\n  padding: 20px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__text, .pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__content-with-label__text {\\n  color: #626268;\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-toggle__bold-color {\\n  font-weight: 600;\\n  color: #1a1a1a;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\\n  height: 265px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-container {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-top: 14px;\\n  padding: 0 20px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-description,\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {\\n  margin: 0;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-modal-desktop-mode__download-pera-button {\\n  font-weight: 500;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper {\\n  margin: 4px auto 0;\\n  padding: 0;\\n  box-shadow: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--compact .pera-wallet-connect-modal-desktop-mode__default-view .pera-wallet-connect-qr-code-wrapper svg {\\n  padding: 8px;\\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\\n  border-radius: 12px;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account {\\n  width: 100%;\\n  height: 100%;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account.pera-wallet-connect-modal-desktop-mode--default {\\n  overflow: hidden;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\\n  position: unset;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account .pera-wallet-accordion {\\n  overflow: hidden;\\n}\\n.pera-wallet-connect-modal-desktop-mode--select-account #pera-wallet-iframe {\\n  position: absolute;\\n  top: 0;\\n  left: 0;\\n  z-index: 3;\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 16px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__accordion__description,\\n.pera-wallet-connect-modal-desktop-mode__connect-button-wrapper {\\n  padding: 0 40px 20px 64px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: space-between;\\n  height: calc(100% - 88px);\\n  padding: 48px 52px 40px;\\n  margin: 0 auto;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 72px;\\n  height: 72px;\\n  margin: 0 auto 16px;\\n  background: #ffffff;\\n  border-radius: 50%;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.1), 0px 10px 16px rgba(20, 37, 63, 0.06);\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet__description {\\n  margin: 0 auto 32px;\\n  font-size: 14px;\\n  line-height: 24px;\\n  letter-spacing: -0.1px;\\n  text-align: center;\\n  color: #6a6a81;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n  width: 100%;\\n  padding: 14px 0;\\n  color: #ffffff;\\n  background-color: #6b46fe;\\n  border-radius: 12px;\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.1;\\n  border: none;\\n  outline: none;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__web-wallet-iframe {\\n  position: relative;\\n  width: fit-content;\\n  margin: 0 auto;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__connect-button {\\n  display: block;\\n  width: 100%;\\n  height: 48px;\\n  border: unset;\\n  border-radius: 6px;\\n  background-color: #333333;\\n  color: white;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 13px;\\n}\\n\\n.pera-wallet-connect-qr-code-wrapper {\\n  width: fit-content;\\n  margin: 24px auto 0;\\n  padding: 10px;\\n  box-shadow: 0px 20px 60px rgba(26, 35, 91, 0.15), 0px 4px 12px rgba(26, 35, 91, 0.05), 0px 1px 4px rgba(26, 35, 91, 0.06);\\n  border-radius: 24px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__download-pera-description {\\n  color: #838aa6;\\n  text-align: center;\\n  margin: 32px 0 12px;\\n  font-size: 13px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.04px;\\n}\\n\\n.pera-wallet-connect-modal-desktop-mode__download-pera-button {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n  margin: 0 auto;\\n  padding: 0;\\n  color: #6b46fe;\\n  background-color: transparent;\\n  outline: none;\\n  border: none;\\n  font-weight: 600;\\n  font-size: 13px;\\n  line-height: 20px;\\n  letter-spacing: 0.01px;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__back-button {\\n  display: flex;\\n  align-items: center;\\n  gap: 16px;\\n  margin-bottom: 14px;\\n  padding: 12px 24px;\\n  color: #3c3c49;\\n  background-color: #ffffff;\\n  outline: none;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border: unset;\\n  border-radius: 24px;\\n  font-size: 14px;\\n  font-weight: 600;\\n  line-height: 24px;\\n  letter-spacing: -0.1px;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view {\\n  padding: 32px 37px 28px;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border-radius: 24px;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__title {\\n  margin-bottom: 8px;\\n  color: #3c3c49;\\n  font-weight: 600;\\n  font-size: 15px;\\n  line-height: 18px;\\n  text-align: center;\\n  letter-spacing: -0.13px;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__footer {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 12px;\\n  margin-top: 53px;\\n}\\n\\n.pera-wallet-connect-modal-download-pera-view__footer__button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n  padding: 8px 16px;\\n  color: #6a6a81;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  text-decoration: none;\\n  border-radius: 12px;\\n  font-weight: 500;\\n  font-size: 13px;\\n  line-height: 200%;\\n  letter-spacing: -0.04px;\\n  cursor: pointer;\\n}\\n\\n#pera-wallet-iframe {\\n  width: 285px;\\n  height: 376px;\\n  margin: 0 auto;\\n  border: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-connect-modal-desktop-mode {\\n    grid-template-columns: 1fr;\\n    gap: 24px;\\n  }\\n  .pera-wallet-connect-qr-code-wrapper {\\n    margin-top: 16px;\\n  }\\n  .pera-wallet-connect-modal-download-pera-view {\\n    padding: 24px;\\n  }\\n  .pera-wallet-download-qr-code-wrapper {\\n    margin-top: 32px;\\n  }\\n  .pera-wallet-connect-modal-download-pera-view__footer {\\n    margin-top: 40px;\\n  }\\n}\";h(y);var L=\".pera-wallet-accordion-item {\\n  background-color: #ffffff;\\n  border-radius: 24px;\\n  box-shadow: 0px 1px 4px rgba(0, 0, 0, 0.02), 0px 4px 12px rgba(0, 0, 0, 0.03);\\n}\\n.pera-wallet-accordion-item:not(:last-of-type) {\\n  margin-bottom: 20px;\\n}\\n.pera-wallet-accordion-item:not(:last-of-type) .pera-wallet-accordion-panel {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n.pera-wallet-accordion-item .pera-wallet-accordion-item__content {\\n  height: 0;\\n  overflow: hidden;\\n  color: #69708d;\\n  background-color: #ffffff;\\n  font-size: 13px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.04px;\\n  transition: height ease-in 0.2s;\\n}\\n.pera-wallet-accordion-item--active .pera-wallet-accordion-toggle {\\n  padding: 26px 24px 12px;\\n  border-radius: 24px 24px 0 0;\\n  transition: all ease-in 0.2s;\\n}\\n.pera-wallet-accordion-item--active .pera-wallet-accordion-item__content {\\n  border-radius: 0 0 24px 24px;\\n  transition: height ease-in 0.2s;\\n}\\n.pera-wallet-accordion-item--active .pera-wallet-accordion-icon {\\n  transform: rotate(90deg);\\n}\\n\\n.pera-wallet-accordion-toggle {\\n  position: relative;\\n  display: flex;\\n  align-items: center;\\n  gap: 16px;\\n  padding: 12px 24px;\\n  color: #2c3559;\\n  background-color: #ffffff;\\n  border: none;\\n  border-radius: 24px;\\n  outline: none;\\n  cursor: pointer;\\n  font-size: 16px;\\n  line-height: 18px;\\n  letter-spacing: -0.1px;\\n  font-weight: 600;\\n  transition: all ease-in 0.2s;\\n}\\n.pera-wallet-accordion-toggle__text, .pera-wallet-accordion-toggle__content-with-label__text {\\n  color: #626268;\\n}\\n\\n.pera-wallet-accordion-icon {\\n  transition: all ease-in 0.2s;\\n}\\n\\n.pera-wallet-accordion-toggle__bold-color {\\n  color: #1A1A1A;\\n  font-weight: 600;\\n}\\n\\n.pera-wallet-accordion-toggle__content-with-label {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n}\\n\\n.pera-wallet-accordion-toggle__label {\\n  padding: 4px 9px;\\n  color: #1C786C;\\n  background: #E0FAEE;\\n  border-radius: 12px;\\n  font-size: 11px;\\n  font-weight: 600;\\n  line-height: 18px;\\n  letter-spacing: 0.01px;\\n}\\n\\n.pera-wallet-accordion-toggle__button {\\n  position: absolute;\\n  z-index: 2;\\n  width: 100%;\\n  height: 100%;\\n  background: transparent;\\n  box-shadow: none;\\n  outline: none;\\n  border: none;\\n  cursor: pointer;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-accordion-toggle {\\n    font-size: 14px;\\n    font-weight: 500;\\n    line-height: 24px;\\n    letter-spacing: -0.1px;\\n  }\\n}\";h(L);const M=document.createElement(\"template\"),z=document.createElement(\"style\"),E=document.createElement(\"style\");z.textContent=y,E.textContent=L;M.innerHTML=\"\\n  <div id=\\\"pera-wallet-connect-modal-desktop-mode\\\" class=\\\"pera-wallet-connect-modal-desktop-mode pera-wallet-connect-modal-desktop-mode--default\\\">\\n      <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>\\n\\n      <div class=\\\"pera-wallet-connect-modal-desktop-mode__default-view\\\"></div>\\n       \\n\\n      <div class=\\\"pera-wallet-connect-modal-desktop-mode__download-view\\\">\\n        <button\\n          id=\\\"pera-wallet-connect-modal-download-pera-view-back-button\\\"\\n          class=\\\"pera-wallet-connect-modal-download-pera-view__back-button\\\">\\n          <img\\n            src=\\\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M10.7071 6.29387C11.0976 6.68439 11.0976 7.31756 10.7071 7.70808L7.41421 11.001L19 11.001C19.5523 11.001 20 11.4487 20 12.001C20 12.5533 19.5523 13.001 19 13.001L7.41421 13.001L10.7071 16.2939C11.0976 16.6844 11.0976 17.3176 10.7071 17.7081C10.3166 18.0986 9.68342 18.0986 9.29289 17.7081L4.29289 12.7081C4.10536 12.5205 4 12.2662 4 12.001C4 11.7358 4.10536 11.4814 4.29289 11.2939L9.29289 6.29387C9.68342 5.90335 10.3166 5.90335 10.7071 6.29387Z' fill='%233C3C49'/%3e%3c/svg%3e\\\"\\n            alt=\\\"Back Arrow\\\"\\n          />\\n\\n          Back\\n        </button>\\n\\n        <div class=\\\"pera-wallet-connect-modal-download-pera-view\\\">\\n          <h1 class=\\\"pera-wallet-connect-modal-download-pera-view__title\\\">\\n            Download Pera Wallet\\n          </h1>\\n\\n          <pera-wallet-download-qr-code></pera-wallet-download-qr-code>\\n\\n          <div class=\\\"pera-wallet-connect-modal-download-pera-view__footer\\\">\\n            <a\\n              href=\\\"https://apps.apple.com/us/app/algorand-wallet/id1459898525\\\"\\n              target=\\\"_blank\\\"\\n              rel=\\\"noopener noreferrer\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M25.6308 20.3011C25.6416 19.4664 25.8633 18.6481 26.2753 17.9221C26.6873 17.1962 27.2763 16.5863 27.9873 16.1491C27.5356 15.5039 26.9397 14.973 26.2469 14.5984C25.554 14.2239 24.7834 14.016 23.9963 13.9914C22.317 13.8151 20.6891 14.9962 19.8333 14.9962C18.9611 14.9962 17.6436 14.0089 16.2249 14.0381C15.3072 14.0677 14.4128 14.3346 13.6289 14.8126C12.8451 15.2906 12.1984 15.9636 11.7519 16.7659C9.81789 20.1144 11.2605 25.0354 13.1132 27.742C14.0401 29.0674 15.1233 30.5478 16.5408 30.4953C17.9278 30.4378 18.4458 29.6108 20.1202 29.6108C21.779 29.6108 22.265 30.4953 23.7112 30.4619C25.1995 30.4378 26.1372 29.1307 27.0316 27.7928C27.6976 26.8484 28.2101 25.8047 28.55 24.7003C27.6853 24.3345 26.9474 23.7224 26.4283 22.9401C25.9092 22.1578 25.6318 21.2399 25.6308 20.3011ZM22.8993 12.2113C23.7108 11.2371 24.1106 9.98492 24.0138 8.7207C22.7739 8.85092 21.6287 9.44347 20.8062 10.3803C20.404 10.838 20.096 11.3704 19.8998 11.9472C19.7035 12.5239 19.6229 13.1337 19.6625 13.7417C20.2826 13.7481 20.8961 13.6137 21.4568 13.3486C22.0175 13.0835 22.5107 12.6946 22.8993 12.2113Z' fill='white'/%3e%3c/svg%3e\\\" alt=\\\"App Store icon\\\" />\\n            </a>\\n\\n            <a\\n              href=\\\"https://play.google.com/store/apps/details?id=com.algorand.android\\\"\\n              target=\\\"_blank\\\"\\n              rel=\\\"noopener noreferrer\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='40' height='40' viewBox='0 0 40 40' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='40' height='40' rx='12' fill='black'/%3e%3cpath d='M12.41 9.7719C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922V10.8671V29.1294V29.0091C11.9683 29.5202 12.1099 29.9149 12.3497 30.169L12.4109 30.2277V30.228C12.6051 30.4035 12.854 30.4966 13.1393 30.4963C13.418 30.4963 13.7316 30.4073 14.0626 30.2194L26.0264 23.4107L30.1359 21.0717C30.6578 20.7748 30.9508 20.3917 30.9998 20.0014V19.9998C30.9508 19.6087 30.6578 19.2259 30.1359 18.9289L26.0261 16.5902L14.0627 9.78154C13.731 9.59325 13.4171 9.50391 13.1376 9.50391C12.8527 9.50391 12.6041 9.59677 12.41 9.7719H12.41Z' fill='%2300C1FF'/%3e%3cpath d='M12.411 30.2285L12.3497 30.1698C12.1099 29.9157 11.9683 29.5209 11.9683 29.0098V29.1301V10.8724V10.993C11.9683 10.4396 12.1334 10.0226 12.41 9.77268L22.622 20.0009L12.411 30.2285Z' fill='url(%23paint0_linear_173_14441)'/%3e%3cpath d='M26.0256 23.4102L22.6211 19.9996L26.0253 16.5896L30.1351 18.9283C30.657 19.2253 30.95 19.6081 30.9989 19.9993V20.0008C30.95 20.3911 30.657 20.7742 30.1351 21.0712L26.0256 23.4101' fill='url(%23paint1_linear_173_14441)'/%3e%3cpath d='M13.1374 30.4961C12.8522 30.4964 12.6033 30.4032 12.4092 30.2277V30.2275L22.6202 19.9999L26.0246 23.4104L14.0608 30.2191C13.7298 30.4071 13.4162 30.4961 13.1374 30.4961Z' fill='url(%23paint2_linear_173_14441)'/%3e%3cpath d='M22.6212 20.002L12.4092 9.7737C12.6033 9.59858 12.8519 9.50571 13.1368 9.50571C13.4163 9.50571 13.7302 9.59501 14.0618 9.78335L26.0253 16.592L22.6212 20.002' fill='url(%23paint3_linear_173_14441)'/%3e%3cpath d='M13.1394 30.6172C12.8542 30.6172 12.6049 30.524 12.4108 30.3486L12.4105 30.3489C12.4097 30.3481 12.4088 30.3473 12.4079 30.3466L12.3548 30.2947C12.3531 30.2931 12.3516 30.2912 12.3496 30.2893L12.4108 30.2279C12.6049 30.4034 12.8538 30.4966 13.1392 30.4962C13.4179 30.4962 13.7315 30.4073 14.0625 30.2193L26.0263 23.4106L26.1029 23.4874L26.0253 23.5316L14.0625 30.3398C13.7608 30.5111 13.4739 30.6004 13.2147 30.6153C13.1896 30.6165 13.1645 30.6171 13.1394 30.6172' fill='url(%23paint4_linear_173_14441)'/%3e%3cpath d='M12.3497 30.2891C12.1099 30.0349 11.9683 29.6406 11.9683 29.1292V29.0089C11.9683 29.52 12.1099 29.9146 12.3497 30.1688L12.4109 30.2275L12.3497 30.2891Z' fill='url(%23paint5_linear_173_14441)'/%3e%3cpath d='M26.1025 23.4882L26.0259 23.4114L30.1349 21.0727C30.6568 20.7758 30.9498 20.3927 30.9987 20.0025C30.9987 20.1457 30.9668 20.2889 30.9035 20.4282C30.7756 20.7091 30.5194 20.9744 30.135 21.1934L26.1025 23.4883' fill='url(%23paint6_linear_173_14441)'/%3e%3cpath d='M30.9991 20C30.9501 19.6089 30.6571 19.2261 30.1353 18.9291L26.0259 16.5907L26.1025 16.5139H26.1029L30.1353 18.8088C30.7106 19.1365 30.9987 19.5682 30.9991 20Z' fill='url(%23paint7_linear_173_14441)'/%3e%3cpath d='M11.9683 10.9922V10.8661C11.9683 10.8206 11.9695 10.7761 11.9718 10.7329V10.7309C11.9718 10.7303 11.9718 10.7297 11.972 10.729V10.7242C11.9969 10.284 12.1334 9.94066 12.3497 9.71139L12.4099 9.77198C12.1334 10.0219 11.9683 10.4388 11.9683 10.9922Z' fill='url(%23paint8_linear_173_14441)'/%3e%3cpath d='M26.026 16.5898L14.0625 9.78115C13.7308 9.59285 13.417 9.50355 13.1375 9.50355C12.8525 9.50355 12.6039 9.59642 12.4099 9.77154L12.3496 9.71091C12.3684 9.69096 12.388 9.67172 12.4082 9.65322C12.4089 9.65255 12.4099 9.65188 12.4105 9.65125C12.6031 9.47747 12.849 9.3846 13.1314 9.38293H13.1375C13.417 9.38293 13.7308 9.47227 14.0625 9.66064L26.1029 16.5128L26.1026 16.513L26.026 16.5898Z' fill='url(%23paint9_linear_173_14441)'/%3e%3cdefs%3e%3clinearGradient id='paint0_linear_173_14441' x1='18.4943' y1='10.6794' x2='9.69389' y2='19.494' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2300A0FF'/%3e%3cstop offset='0.00657' stop-color='%2300A1FF'/%3e%3cstop offset='0.2601' stop-color='%2300BEFF'/%3e%3cstop offset='0.5122' stop-color='%2300D2FF'/%3e%3cstop offset='0.7604' stop-color='%2300DFFF'/%3e%3cstop offset='1' stop-color='%2300E3FF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint1_linear_173_14441' x1='31.6348' y1='19.9407' x2='11.691' y2='19.9407' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE000'/%3e%3cstop offset='0.4087' stop-color='%23FFBD00'/%3e%3cstop offset='0.7754' stop-color='orange'/%3e%3cstop offset='1' stop-color='%23FF9C00'/%3e%3c/linearGradient%3e%3clinearGradient id='paint2_linear_173_14441' x1='24.2172' y1='23.2425' x2='9.30414' y2='38.0705' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FF3A44'/%3e%3cstop offset='1' stop-color='%23C31162'/%3e%3c/linearGradient%3e%3clinearGradient id='paint3_linear_173_14441' x1='9.77725' y1='8.25731' x2='16.4237' y2='14.876' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2332A071'/%3e%3cstop offset='0.0685' stop-color='%232DA771'/%3e%3cstop offset='0.4762' stop-color='%2315CF74'/%3e%3cstop offset='0.8009' stop-color='%2306E775'/%3e%3cstop offset='1' stop-color='%2300F076'/%3e%3c/linearGradient%3e%3clinearGradient id='paint4_linear_173_14441' x1='24.2114' y1='25.6084' x2='12.2683' y2='37.5709' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23CC2E36'/%3e%3cstop offset='1' stop-color='%239C0E4E'/%3e%3c/linearGradient%3e%3clinearGradient id='paint5_linear_173_14441' x1='13.3285' y1='10.6804' x2='5.57625' y2='18.4453' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23008DE0'/%3e%3cstop offset='0.00657' stop-color='%23008DE0'/%3e%3cstop offset='0.2601' stop-color='%2300A7E0'/%3e%3cstop offset='0.5122' stop-color='%2300B8E0'/%3e%3cstop offset='0.7604' stop-color='%2300C4E0'/%3e%3cstop offset='1' stop-color='%2300C7E0'/%3e%3c/linearGradient%3e%3clinearGradient id='paint6_linear_173_14441' x1='31.6346' y1='20.0018' x2='11.6929' y2='20.0018' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23E0C500'/%3e%3cstop offset='0.4087' stop-color='%23E0A600'/%3e%3cstop offset='0.7754' stop-color='%23E09100'/%3e%3cstop offset='1' stop-color='%23E08900'/%3e%3c/linearGradient%3e%3clinearGradient id='paint7_linear_173_14441' x1='31.6349' y1='20.0008' x2='11.6933' y2='20.0008' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%23FFE840'/%3e%3cstop offset='0.4087' stop-color='%23FFCE40'/%3e%3cstop offset='0.7754' stop-color='%23FFBC40'/%3e%3cstop offset='1' stop-color='%23FFB540'/%3e%3c/linearGradient%3e%3clinearGradient id='paint8_linear_173_14441' x1='13.3201' y1='10.6927' x2='5.8533' y2='17.8475' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2340B8FF'/%3e%3cstop offset='0.00657' stop-color='%2340B9FF'/%3e%3cstop offset='0.2601' stop-color='%2340CEFF'/%3e%3cstop offset='0.5122' stop-color='%2340DDFF'/%3e%3cstop offset='0.7604' stop-color='%2340E7FF'/%3e%3cstop offset='1' stop-color='%2340EAFF'/%3e%3c/linearGradient%3e%3clinearGradient id='paint9_linear_173_14441' x1='9.76302' y1='10.4182' x2='15.0961' y2='15.76' gradientUnits='userSpaceOnUse'%3e%3cstop stop-color='%2365B895'/%3e%3cstop offset='0.0685' stop-color='%2362BD95'/%3e%3cstop offset='0.4762' stop-color='%2350DB97'/%3e%3cstop offset='0.8009' stop-color='%2344ED98'/%3e%3cstop offset='1' stop-color='%2340F498'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e\\\" alt=\\\"Play Store icon\\\" />\\n            </a>\\n\\n            <a\\n              class=\\\"pera-wallet-connect-modal-download-pera-view__footer__button\\\"\\n              href=\\\"https://perawallet.s3-eu-west-3.amazonaws.com/android-releases/app-pera-prod-release-bitrise-signed.apk\\\"\\n              target=\\\"_blank\\\"\\n              rel=\\\"noopener noreferrer\\\">\\n              <img src=\\\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M3 14V20C3 20.5523 3.44772 21 4 21H20C20.5523 21 21 20.5523 21 20V14' stroke='%232C3559' stroke-width='1.5'/%3e%3cpath d='M11.9998 16V3M11.9998 16L7.47803 11.4783M11.9998 16L16.5215 11.4783' stroke='%232C3559' stroke-width='1.5'/%3e%3c/svg%3e\\\" alt=\\\"Download icon\\\" />\\n\\n              Download APK File\\n            </a>\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  \";class Z extends HTMLElement{constructor(){var e;if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){this.shadowRoot.append(M.content.cloneNode(!0),z,E),this.shadowRoot.addEventListener(\"click\",(e=>{this.handleAccordion(e)}));if(\"true\"===this.getAttribute(\"compact-mode\")){const e=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-desktop-mode\");null==e||e.classList.add(\"pera-wallet-connect-modal-desktop-mode--compact\")}const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(\".pera-wallet-connect-modal-desktop-mode__default-view\"),t=\"true\"===this.getAttribute(\"promote-mobile\"),{webWalletOption:a,mobileWalletOption:o}=function(e){const n=`\\n  <div id=\"web-wallet-option\" class=\"pera-wallet-accordion-item ${e?\"\":\"pera-wallet-accordion-item--active\"}  pera-wallet-accordion-item--web-wallet\">\\n            <a class=\"pera-wallet-accordion-toggle\">\\n              <button class=\"pera-wallet-accordion-toggle__button\"></button>\\n  \\n              <img src=\"${k}\" class=\"pera-wallet-accordion-icon\" />\\n  \\n              <div class=\"pera-wallet-accordion-toggle__content-with-label\">\\n                <div class=\"pera-wallet-accordion-toggle__content-with-label__text\">\\n                  Connect With\\n  \\n                  <span class=\"pera-wallet-accordion-toggle__bold-color\">\\n                    Pera Web\\n                  </span>\\n                </div>\\n  \\n                <span id=\"pera-web-new-label\" class=\"pera-wallet-accordion-toggle__label\">NEW</span>\\n              </div>\\n            </a>\\n  \\n            <div class=\"pera-wallet-accordion-item__content\">\\n              <div class=\"pera-wallet-connect-modal-desktop-mode__web-wallet\"><div>\\n              \\n              <div\\n                class=\"pera-wallet-connect-modal-desktop-mode__web-wallet__logo-wrapper\">\\n                <img src=\"data:image/svg+xml,%3csvg width='44' height='44' viewBox='0 0 44 44' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='3.5' y='7.5' width='36' height='26' rx='5.5' stroke='%236B46FE' stroke-width='3'/%3e%3cpath d='M22.4973 14.5237C22.8556 16.041 22.7344 17.3757 22.2267 17.5048C21.719 17.6339 21.0169 16.5085 20.6586 14.9912C20.3003 13.4739 20.4214 12.1392 20.9292 12.0101C21.4369 11.881 22.1389 13.0064 22.4973 14.5237Z' fill='%236B46FE'/%3e%3cpath d='M28.4139 15.8282C27.6204 14.9686 26.0417 15.2016 24.8877 16.3486C23.7338 17.4956 23.4417 19.1222 24.2352 19.9818C25.0287 20.8414 26.6074 20.6084 27.7613 19.4614C28.9153 18.3144 29.2074 16.6878 28.4139 15.8282Z' fill='%236B46FE'/%3e%3cpath d='M22.1027 28.9905C22.6104 28.8614 22.7137 27.4512 22.3334 25.8407C21.9531 24.2303 21.2332 23.0294 20.7254 23.1585C20.2177 23.2876 20.1144 24.6978 20.4947 26.3083C20.875 27.9187 21.5949 29.1196 22.1027 28.9905Z' fill='%236B46FE'/%3e%3cpath d='M16.9269 16.6152C18.3917 17.0567 19.4621 17.8312 19.3176 18.3452C19.1731 18.8591 17.8686 18.9179 16.4037 18.4764C14.9389 18.0349 13.8686 17.2603 14.0131 16.7464C14.1575 16.2324 15.4621 16.1737 16.9269 16.6152Z' fill='%236B46FE'/%3e%3cpath d='M26.4342 22.4188C27.9889 22.8874 29.1322 23.6839 28.9877 24.1979C28.8432 24.7118 27.4657 24.7486 25.911 24.28C24.3563 23.8114 23.213 23.0148 23.3575 22.5009C23.502 21.9869 24.8795 21.9502 26.4342 22.4188Z' fill='%236B46FE'/%3e%3cpath d='M18.5752 21.3404C18.2119 20.9555 17.0205 21.5157 15.914 22.5915C14.8075 23.6673 14.2049 24.8514 14.5682 25.2363C14.9314 25.6211 16.1229 25.061 17.2294 23.9852C18.3359 22.9094 18.9384 21.7253 18.5752 21.3404Z' fill='%236B46FE'/%3e%3cpath d='M16 39C21 39.0001 23.5 39.0001 28 39' stroke='%236B46FE' stroke-width='3' stroke-linecap='round'/%3e%3c/svg%3e\" />\\n              </div>\\n  \\n              <p\\n                class=\"pera-wallet-connect-modal-desktop-mode__web-wallet__description\">\\n                Connect with Pera Web to continue\\n              </p>\\n            </div>\\n  \\n            <button\\n              id=\"pera-wallet-connect-web-wallet-launch-button\"\\n              class=\"pera-wallet-connect-modal-desktop-mode__web-wallet__launch-button\">\\n              Launch Pera Web\\n  \\n              <img src=\"data:image/svg+xml,%3csvg width='20' height='20' viewBox='0 0 20 20' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M13.0892 9.41009C13.4147 9.73553 13.4147 10.2632 13.0892 10.5886L8.08924 15.5886C7.7638 15.914 7.23616 15.914 6.91072 15.5886C6.58529 15.2632 6.58529 14.7355 6.91072 14.4101L11.3215 9.99935L6.91073 5.5886C6.58529 5.26317 6.58529 4.73553 6.91073 4.41009C7.23616 4.08466 7.7638 4.08466 8.08924 4.41009L13.0892 9.41009Z' fill='white'/%3e%3c/svg%3e\" />\\n            </button>\\n          </div>`,t=`\\n  <div id=\"mobile-wallet-option\" class=\"pera-wallet-accordion-item ${e?\"pera-wallet-accordion-item--active\":\"\"}\">\\n            <a class=\"pera-wallet-accordion-toggle\">\\n            <button class=\"pera-wallet-accordion-toggle__button\"></button>\\n  \\n              <img src=\"${k}\" class=\"pera-wallet-accordion-icon\" />\\n  \\n              <div class=\"pera-wallet-accordion-toggle__text\">\\n                Connect with\\n  \\n                <span class=\"pera-wallet-accordion-toggle__bold-color\">\\n                  Pera Mobile\\n                </span>\\n              </div>\\n            </a>\\n  \\n            <div class=\"pera-wallet-accordion-item__content\">\\n              <div id=\"pera-wallet-connect-modal-connect-qr-code\" class=\"pera-wallet-connect-qr-code-wrapper\"></div>\\n  \\n              <div class=\"pera-wallet-connect-modal-desktop-mode__download-pera-container\">\\n                <p\\n                  class=\"pera-wallet-connect-modal-desktop-mode__download-pera-description\">\\n                    Dont have Pera Wallet app?\\n                </p>\\n  \\n                <button\\n                  id=\"pera-wallet-connect-modal-desktop-mode-download-pera-button\"\\n                  class=\"pera-wallet-connect-modal-desktop-mode__download-pera-button\">\\n                  <img src=\"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3crect x='2' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='2' y='9.33203' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3crect x='9.33325' y='2' width='4.66667' height='4.66667' rx='1.2' stroke='%236B46FE' stroke-width='1.5'/%3e%3cpath d='M8.70581 9.5293H10.9411' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 12.668L14.6667 12.668' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M13.1765 14L14.6667 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M11.686 14L13.1762 14' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M12.4314 9.5293H14.6667' stroke='%236B46FE' stroke-width='1.66667' stroke-linejoin='round'/%3e%3cpath d='M8.70581 10.2754H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.7656H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 12.5117H11.6862' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 13.2539H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M8.70581 14H10.196' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3cpath d='M10.196 11.0195H12.4313' stroke='%236B46FE' stroke-width='1.25' stroke-linejoin='round'/%3e%3c/svg%3e\" alt=\"QR Icon\" />\\n  \\n                  Download Pera Wallet\\n                </button>\\n              </div>\\n            </div>\\n          </div>`;return{mobileWalletOption:document.createRange().createContextualFragment(t),webWalletOption:document.createRange().createContextualFragment(n)}}(t);t?(null==n||n.appendChild(o),null==n||n.appendChild(a)):(null==n||n.appendChild(a),null==n||n.appendChild(o))}}connectedCallback(){var e;const n=this.getAttribute(\"should-display-new-badge\"),t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-web-new-label\");\"false\"===n&&(null==t||t.setAttribute(\"style\",\"display:none\")),this.handleChangeView()}handleChangeView(){var e,n,t;const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-desktop-mode-download-pera-button\"),o=null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById(\"pera-wallet-connect-modal-download-pera-view-back-button\"),l=null===(t=this.shadowRoot)||void 0===t?void 0:t.getElementById(\"pera-wallet-connect-web-wallet-launch-button\");a&&a.addEventListener(\"click\",(()=>{this.onClickDownload()})),o&&o.addEventListener(\"click\",(()=>{this.onClickBack()})),l&&l.addEventListener(\"click\",(()=>{this.webWalletConnect()})),this.renderQRCode(),this.checkWebWalletAvaliability()}webWalletConnect(){\"true\"===this.getAttribute(\"is-web-wallet-avaliable\")&&window.onWebWalletConnect()}handleAccordion(e){var n,t;if(e.target instanceof Element){if(!e.target.classList.contains(\"pera-wallet-accordion-toggle__button\"))return;if(this.shadowRoot&&(null===(n=e.target.parentElement)||void 0===n?void 0:n.parentElement)){const n=null===(t=e.target.parentElement)||void 0===t?void 0:t.parentElement;if(!n)return;if(n.classList.contains(\"pera-wallet-accordion-item--active\"))return;const a=this.shadowRoot.querySelectorAll(\".pera-wallet-accordion-item.pera-wallet-accordion-item--active\");for(let e=0;e<a.length;e++)a[e].classList.remove(\"pera-wallet-accordion-item--active\");n.classList.toggle(\"pera-wallet-accordion-item--active\")}}}renderQRCode(){var e;const n=this.getAttribute(\"is-web-wallet-avaliable\"),t=\"true\"===this.getAttribute(\"compact-mode\"),a=\"true\"===this.getAttribute(\"single-account\");let o=this.getAttribute(\"uri\");a&&(o=`${o}&singleAccount=true`);let l=\"false\"===n?250:205;if(t&&(l=190),o){const n=new m({width:l,height:l,type:\"svg\",data:o,image:_,dotsOptions:{color:\"#000\",type:\"extra-rounded\"},imageOptions:{crossOrigin:\"anonymous\",margin:8},cornersSquareOptions:{type:\"extra-rounded\"},cornersDotOptions:{type:\"dot\"}}),t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-connect-qr-code\");t&&n.append(t)}}onClickDownload(){if(this.shadowRoot){const e=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-desktop-mode\");e&&(e.classList.remove(\"pera-wallet-connect-modal-desktop-mode--default\"),e.classList.add(\"pera-wallet-connect-modal-desktop-mode--download\"))}}onClickBack(){if(this.shadowRoot){const e=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-desktop-mode\");e&&(e.classList.add(\"pera-wallet-connect-modal-desktop-mode--default\"),e.classList.remove(\"pera-wallet-connect-modal-desktop-mode--download\"))}}checkWebWalletAvaliability(){var e;if(\"false\"===this.getAttribute(\"is-web-wallet-avaliable\")){const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(\".pera-wallet-connect-modal-desktop-mode__default-view\");null==n||n.classList.add(\"pera-wallet-connect-modal-desktop-mode__default-view--web-wallet-not-avaliable\")}}}function H(e=!0){let n=r;const t=o();return e&&t&&(n=`${n}?browser=${encodeURIComponent(t)}`),n}var B=\".pera-wallet-connect-modal-touch-screen-mode {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  gap: 46px;\\n  padding: 4px;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode--pending-message-view {\\n  gap: 56px;\\n  grid-template-rows: auto 48px;\\n  height: 100%;\\n  padding-bottom: 70px;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button,\\n.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {\\n  display: block;\\n  padding: 14px;\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button {\\n  margin-bottom: 32px;\\n  background-color: #6b46fe;\\n  color: #ffffff;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button {\\n  margin-bottom: 20px;\\n  color: #6a6a81;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box {\\n  position: relative;\\n  margin-bottom: 32px;\\n  border-top: 1px solid #e6e8ee;\\n}\\n\\n.pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text {\\n  position: absolute;\\n  top: -25px;\\n  right: calc(50% - 56px);\\n  width: 116px;\\n  color: #69708d;\\n  background-color: #ffffff;\\n  font-size: 13px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.04px;\\n  text-align: center;\\n}\";h(B);const F=document.createElement(\"template\");class A extends HTMLElement{constructor(){var e;if(super(),this.attachShadow({mode:\"open\"}),F.innerHTML='\\n  <div class=\"pera-wallet-connect-modal-touch-screen-mode\">\\n    <pera-wallet-connect-modal-information-section></pera-wallet-connect-modal-information-section>\\n\\n    <div>\\n      <a\\n        id=\"pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button\"\\n        class=\"pera-wallet-connect-modal-touch-screen-mode__launch-pera-wallet-button\"\\n        rel=\"noopener noreferrer\"\\n        target=\"_blank\">\\n        Launch Pera Wallet\\n      </a>\\n\\n      <div\\n        class=\"pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box\">\\n        <p\\n          class=\"pera-wallet-connect-modal-touch-screen-mode__new-to-pera-box__text\"\\n          >\\n          New to Pera?\\n        </p>\\n      </div>\\n\\n      <a\\n        href=\"https://perawallet.app/download/\"\\n        class=\"pera-wallet-connect-modal-touch-screen-mode__install-pera-wallet-button\"\\n        rel=\"noopener noreferrer\"\\n        target=\"_blank\">\\n        Install Pera Wallet\\n      </a>\\n    </div>\\n  </div>\\n',this.shadowRoot){const n=document.createElement(\"style\");n.textContent=B,this.shadowRoot.append(F.content.cloneNode(!0),n);const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-touch-screen-mode-launch-pera-wallet-button\"),a=this.getAttribute(\"uri\"),r=\"true\"===this.getAttribute(\"single-account\"),d=this.getAttribute(\"selected-account\")||void 0;t&&a&&(t.setAttribute(\"href\",function(e,n){let t=H(!1);l()&&!t.includes(\"-wc\")&&(t=t.replace(\"://\",\"-wc://\"));let a=`${t}wc?uri=${encodeURIComponent(e)}`;const r=o();return i()&&(a=e),r&&(a=`${a}&browser=${encodeURIComponent(r)}`),(null==n?void 0:n.singleAccount)&&(a=`${a}&singleAccount=true`),(null==n?void 0:n.selectedAccount)&&(a=`${a}&selectedAccount=${n.selectedAccount}`),a}(a,{singleAccount:r,selectedAccount:d})),t.addEventListener(\"click\",(()=>{this.onClickLaunch()})))}}onClickLaunch(){if(F.innerHTML=`\\n    <div class=\"pera-wallet-connect-modal-touch-screen-mode pera-wallet-connect-modal-touch-screen-mode--pending-message-view\">\\n      <pera-wallet-connect-modal-pending-message-section should-use-sound=\"${this.getAttribute(\"should-use-sound\")}\"></pera-wallet-connect-modal-pending-message-section>\\n    </div>\\n  `,this.shadowRoot){const e=document.createElement(\"style\");e.textContent=B,this.shadowRoot.innerHTML=\"\",this.shadowRoot.append(F.content.cloneNode(!0),e)}}}var V='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}';h(V);const R=document.createElement(\"template\");let I=e()?`${d} ${d}--mobile`:`${d} ${d}--desktop`;class S extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const n=document.createElement(\"style\");n.textContent=V;\"true\"===this.getAttribute(\"compact-mode\")&&(I=`${I} ${d}--compact`);const t=\"true\"===this.getAttribute(\"single-account\"),a=this.getAttribute(\"selected-account\");e()?(R.innerHTML=`\\n        <div class=\"${I}\">\\n          <div class=\"pera-wallet-modal__body\" part=\"body\">\\n            <pera-wallet-modal-header modal-id=\"${c}\"></pera-wallet-modal-header/>\\n      \\n            <pera-wallet-modal-touch-screen-mode uri=\"${this.getAttribute(\"uri\")}\" should-use-sound=\"${this.getAttribute(\"should-use-sound\")}\" single-account=\"${t}\" selected-account=\"${a}\"></pera-wallet-modal-touch-screen-mode>\\n          </div>\\n        </div>\\n      `,this.shadowRoot.append(R.content.cloneNode(!0),n)):(R.innerHTML=`\\n          <div class=\"${I}\">\\n            <div class=\"pera-wallet-modal__body\">\\n              <pera-wallet-modal-header modal-id=\"${c}\"></pera-wallet-modal-header/>\\n        \\n              <pera-wallet-modal-desktop-mode id=\"pera-wallet-modal-desktop-mode\" uri=\"${this.getAttribute(\"uri\")}\" is-web-wallet-avaliable=\"${this.getAttribute(\"is-web-wallet-avaliable\")}\" should-display-new-badge=\"${this.getAttribute(\"should-display-new-badge\")}\" compact-mode=\"${this.getAttribute(\"compact-mode\")}\" promote-mobile=\"${this.getAttribute(\"promote-mobile\")}\" single-account=\"${t}\"\\n        ></pera-wallet-modal-desktop-mode>\\n            </div>\\n          </div>\\n        `,this.shadowRoot.append(R.content.cloneNode(!0),n))}}}var W='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}\\n.pera-wallet-redirect-modal {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  gap: 56px;\\n  grid-template-rows: auto 48px;\\n  height: 100%;\\n  padding: 4px;\\n  padding-bottom: 70px;\\n}\\n\\n.pera-wallet-redirect-modal__content {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n}\\n\\n.pera-wallet-redirect-modal__content__title {\\n  margin: 20px 0 8px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 600;\\n  line-height: 22px;\\n  letter-spacing: -0.26px;\\n}\\n\\n.pera-wallet-redirect-modal__content__description,\\n.pera-wallet-redirect-modal__content__install-pera-text {\\n  color: #3c3c49;\\n  max-width: 271px;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n  text-align: center;\\n}\\n\\n.pera-wallet-redirect-modal__content__description {\\n  margin-bottom: 24px;\\n}\\n\\n.pera-wallet-redirect-modal__content__install-pera-text__link {\\n  color: #6b46fe;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n  text-align: center;\\n}\\n\\n.pera-wallet-redirect-modal__launch-pera-wallet-button {\\n  display: block;\\n  padding: 14px;\\n  color: #ffffff;\\n  background-color: #6b46fe;\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n}';h(W);const P=document.createElement(\"template\");P.innerHTML=`\\n  <div class=\"pera-wallet-modal pera-wallet-modal--mobile\">\\n    <div class=\"pera-wallet-modal__body\">\\n      <pera-wallet-modal-header modal-id=\"${n}\"></pera-wallet-modal-header/>\\n\\n      <div class=\"pera-wallet-redirect-modal\">\\n        <div class=\"pera-wallet-redirect-modal__content\">\\n          <img src=\"data:image/svg+xml,%3csvg width='120' height='38' viewBox='0 0 120 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cg clip-path='url(%23clip0_38844_290434)'%3e%3cpath d='M103.739 28.6746H109.565' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3cpath d='M112.25 37H100.75C97.5731 37 95 34.2336 95 30.8182V9.18182C95 5.76636 97.5731 3 100.75 3H112.25C115.427 3 118 5.76636 118 9.18182V30.8182C118 34.2336 115.427 37 112.25 37Z' fill='%236B46FE' fill-opacity='0.1' stroke='%236B46FE' stroke-width='3' stroke-linecap='round' stroke-linejoin='round'/%3e%3crect y='1' width='36' height='36' rx='7.76829' fill='%236B46FE' fill-opacity='0.1'/%3e%3cpath d='M19.6057 9.47351C20.1851 11.8819 19.9967 14.0022 19.1848 14.2093C18.373 14.4164 17.2452 12.6319 16.6658 10.2235C16.0864 7.81514 16.2748 5.69486 17.0867 5.48775C17.8985 5.28063 19.0263 7.06512 19.6057 9.47351Z' fill='%236B46FE'/%3e%3cpath d='M29.0775 11.5213C27.8045 10.1593 25.2795 10.5358 23.4378 12.3621C21.5961 14.1885 21.1352 16.7732 22.4083 18.1352C23.6814 19.4972 26.2064 19.1207 28.048 17.2943C29.8897 15.4679 30.3506 12.8832 29.0775 11.5213Z' fill='%236B46FE'/%3e%3cpath d='M19.0324 32.4518C19.8443 32.2446 20.0039 30.0045 19.3889 27.4483C18.774 24.8921 17.6173 22.9877 16.8055 23.1948C15.9937 23.402 15.834 25.6421 16.449 28.1983C17.064 30.7545 18.2206 32.6589 19.0324 32.4518Z' fill='%236B46FE'/%3e%3cpath d='M10.7016 12.818C13.0471 13.5132 14.7627 14.739 14.5336 15.5559C14.3045 16.3728 12.2175 16.4714 9.87199 15.7762C7.52653 15.0809 5.81087 13.8551 6.03996 13.0383C6.26906 12.2214 8.35615 12.1228 10.7016 12.818Z' fill='%236B46FE'/%3e%3cpath d='M25.9365 21.9967C28.4259 22.7346 30.2583 23.995 30.0292 24.8119C29.8001 25.6287 27.5963 25.6927 25.1069 24.9548C22.6174 24.2169 20.7851 22.9565 21.0141 22.1397C21.2432 21.3228 23.447 21.2588 25.9365 21.9967Z' fill='%236B46FE'/%3e%3cpath d='M13.3578 20.316C12.775 19.7063 10.8709 20.6007 9.10487 22.3139C7.33879 24.0271 6.37952 25.9102 6.96226 26.5199C7.54501 27.1297 9.4491 26.2352 11.2152 24.522C12.9813 22.8089 13.9405 20.9258 13.3578 20.316Z' fill='%236B46FE'/%3e%3cpath d='M70.2098 10L75.3049 15.0945L52 15.0945' stroke='%23D0CAE7' stroke-width='3'/%3e%3cpath d='M60.7902 29.5945L55.6951 24.5L79 24.5' stroke='%23D0CAE7' stroke-width='3'/%3e%3c/g%3e%3cdefs%3e%3cclipPath id='clip0_38844_290434'%3e%3crect width='120' height='38' fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e\" />\\n\\n          <h1 class=\"pera-wallet-redirect-modal__content__title\">\\n            Can't Launch Pera\\n          </h1>\\n\\n          <p class=\"pera-wallet-redirect-modal__content__description\">\\n            We couldn't redirect you to Pera Wallet automatically. Please try again.\\n          </p>\\n\\n          <p class=\"pera-wallet-redirect-modal__content__install-pera-text\">\\n            Don't have Pera Wallet installed yet?\\n            <br />\\n            \\n            <a\\n              id=\"pera-wallet-redirect-modal-download-pera-link\"\\n              class=\"pera-wallet-redirect-modal__content__install-pera-text__link\"\\n              href=\"https://perawallet.app/download/\"\\n              rel=\"noopener noreferrer\"\\n              target=\"_blank\">\\n              Tap here to install.\\n            </a>\\n          </p>\\n        </div>\\n\\n        <a\\n          id=\"pera-wallet-redirect-modal-launch-pera-link\"\\n          class=\"pera-wallet-redirect-modal__launch-pera-wallet-button\"\\n          rel=\"noopener noreferrer\"\\n          target=\"_blank\">\\n          Launch Pera Wallet\\n        </a>\\n      </div>\\n    </div>\\n  </div>\\n`;class $ extends HTMLElement{constructor(){var e,n;if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const t=document.createElement(\"style\");t.textContent=W,this.shadowRoot.append(P.content.cloneNode(!0),t);const a=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-redirect-modal-download-pera-link\");null==a||a.addEventListener(\"click\",(()=>{this.onClose()}));const o=null===(n=this.shadowRoot)||void 0===n?void 0:n.getElementById(\"pera-wallet-redirect-modal-launch-pera-link\");null==o||o.addEventListener(\"click\",(()=>{this.onClose(),window.open(H(),\"_blank\")}))}}connectedCallback(){const e=window.open(H(),\"_blank\");e&&!e.closed&&this.onClose()}onClose(){t(n)}}var j=\"data:image/svg+xml,%3csvg width='32' height='35' viewBox='0 0 32 35' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.2837 5.09271C19.0234 8.12325 18.7827 10.7913 17.7463 11.0519C16.7098 11.3126 15.27 9.06712 14.5304 6.03657C13.7908 3.00603 14.0315 0.337996 15.0679 0.0773547C16.1044 -0.183287 17.5441 2.06216 18.2837 5.09271Z' fill='%233C3C49'/%3e%3cpath d='M30.376 7.66915C28.7507 5.95537 25.5271 6.42918 23.1759 8.72745C20.8247 11.0257 20.2361 14.2781 21.8614 15.9919C23.4866 17.7057 26.7102 17.2319 29.0614 14.9336C31.4127 12.6354 32.0012 9.38294 30.376 7.66915Z' fill='%233C3C49'/%3e%3cpath d='M17.5511 34.0071C18.5876 33.7465 18.7914 30.9276 18.0064 27.711C17.2214 24.4945 15.7448 22.0982 14.7084 22.3589C13.6719 22.6195 13.4681 25.4383 14.2531 28.6549C15.0381 31.8715 16.5147 34.2677 17.5511 34.0071Z' fill='%233C3C49'/%3e%3cpath d='M6.91617 9.3015C9.9105 10.1763 12.1008 11.7187 11.8083 12.7466C11.5158 13.7745 8.85126 13.8986 5.85693 13.0239C2.8626 12.1491 0.672334 10.6067 0.964835 9.57881C1.25734 8.5509 3.92184 8.42674 6.91617 9.3015Z' fill='%233C3C49'/%3e%3cpath d='M26.3656 20.8508C29.5437 21.7793 31.883 23.3652 31.5905 24.3932C31.298 25.4211 28.4845 25.5017 25.3063 24.5732C22.1282 23.6448 19.7889 22.0588 20.0814 21.0309C20.3739 20.003 23.1874 19.9224 26.3656 20.8508Z' fill='%233C3C49'/%3e%3cpath d='M10.3069 18.7365C9.56299 17.9692 7.13209 19.0948 4.87736 21.2506C2.62264 23.4064 1.39791 25.776 2.14185 26.5432C2.8858 27.3105 5.3167 26.1849 7.57143 24.0291C9.82615 21.8733 11.0509 19.5037 10.3069 18.7365Z' fill='%233C3C49'/%3e%3c/svg%3e\",T=\".pera-wallet-connect-modal-information-section {\\n  padding: 12px;\\n  padding-right: 0;\\n}\\n.pera-wallet-connect-modal-information-section--mobile {\\n  padding: 0;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__pera-icon {\\n  margin-bottom: 16px;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__connect-pera-title {\\n  margin-bottom: 8px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 600;\\n  line-height: 22px;\\n  letter-spacing: -0.2px;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__title {\\n  margin-bottom: 24px;\\n  color: #3c3c49;\\n  font-size: 14px;\\n  line-height: 24px;\\n  letter-spacing: -0.09px;\\n  font-weight: 400;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__icon-wrapper {\\n  background-color: #f2f3f8;\\n}\\n.pera-wallet-connect-modal-information-section--mobile .pera-wallet-connect-modal-information-section__features-item__description {\\n  color: #6a6a81;\\n}\\n.pera-wallet-connect-modal-information-section * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n\\n.pera-wallet-connect-modal-information-section__pera-icon {\\n  margin-bottom: 32px;\\n}\\n\\n.pera-wallet-connect-modal-information-section__title {\\n  margin-bottom: 148px;\\n  color: #3c3c49;\\n  font-size: 20px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.5px;\\n}\\n\\n.pera-wallet-connect-modal-information-section__secondary-title {\\n  margin-bottom: 20px;\\n  color: #9d9dae;\\n  font-size: 11px;\\n  font-weight: 600;\\n  line-height: 18px;\\n  letter-spacing: 0.06px;\\n  text-transform: uppercase;\\n}\\n\\n.pera-wallet-connect-modal-information-section__features-item {\\n  display: grid;\\n  align-items: center;\\n  grid-template-columns: 36px auto;\\n  gap: 16px;\\n}\\n.pera-wallet-connect-modal-information-section__features-item:not(:last-of-type) {\\n  margin-bottom: 24px;\\n}\\n\\n.pera-wallet-connect-modal-information-section__features-item__icon-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 36px;\\n  height: 36px;\\n  background-color: #ffffff;\\n  border-radius: 50%;\\n}\\n\\n.pera-wallet-connect-modal-information-section__features-item__description {\\n  color: #6a6a81;\\n  font-size: 12px;\\n  font-weight: 500;\\n  line-height: 18px;\\n  letter-spacing: 0.01px;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-connect-modal-information-section--desktop {\\n    padding: 0;\\n  }\\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__pera-icon {\\n    margin-bottom: 12px;\\n  }\\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__title {\\n    margin-bottom: 24px;\\n    font-size: 16px;\\n    font-weight: 500;\\n    line-height: 24px;\\n    letter-spacing: -0.26px;\\n  }\\n  .pera-wallet-connect-modal-information-section--desktop .pera-wallet-connect-modal-information-section__features-item {\\n    display: none;\\n  }\\n  .pera-wallet-connect-modal-information-section__secondary-title {\\n    display: none;\\n  }\\n}\";h(T);const D=document.createElement(\"template\"),O=e()?\"pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--mobile\":\"pera-wallet-connect-modal-information-section pera-wallet-connect-modal-information-section--desktop\";D.innerHTML=`\\n  <section class=\"${O}\">\\n    <img\\n      id=\"pera-wallet-connect-modal-information-section-pera-icon\"\\n      src=\"${j}\"\\n      class=\"pera-wallet-connect-modal-information-section__pera-icon\"\\n      alt=\"Pera Wallet Logo\"\\n    />\\n\\n    <h1 id=\"pera-wallet-connect-modal-information-section-connect-pera-mobile\" class=\"pera-wallet-connect-modal-information-section__connect-pera-title\">\\n        Connect to Pera Wallet\\n    </h1>\\n\\n    <h1 class=\"pera-wallet-connect-modal-information-section__title\">\\n      Simply the best Algorand wallet.\\n    </h1>\\n\\n    <h2 id=\"pera-wallet-connect-modal-information-section-secondary-title\" class=\"pera-wallet-connect-modal-information-section__secondary-title\">\\n      Features\\n    </h2>\\n\\n    <ul>\\n      <li class=\"pera-wallet-connect-modal-information-section__features-item\">\\n        <div class=\"pera-wallet-connect-modal-information-section__features-item__icon-wrapper\">\\n          <img src=\"data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M2.5 10.1378C2.5 10.8378 3.025 11.6461 3.66667 11.9294L9.325 14.4461C9.75833 14.6378 10.25 14.6378 10.675 14.4461L16.3333 11.9294C16.975 11.6461 17.5 10.8378 17.5 10.1378M2.5 14.3044C2.5 15.0794 2.95833 15.7794 3.66667 16.0961L9.325 18.6128C9.75833 18.8044 10.25 18.8044 10.675 18.6128L16.3333 16.0961C17.0417 15.7794 17.5 15.0794 17.5 14.3044M10.8417 3.4043L15.7583 5.58763C17.175 6.21263 17.175 7.24596 15.7583 7.87096L10.8417 10.0543C10.2833 10.3043 9.36668 10.3043 8.80835 10.0543L3.89168 7.87096C2.47502 7.24596 2.47502 6.21263 3.89168 5.58763L8.80835 3.4043C9.36668 3.1543 10.2833 3.1543 10.8417 3.4043Z' stroke='%239D9DAE' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3e%3c/svg%3e\" alt=\"Layer Icon\" />\\n        </div>\\n        \\n        <p\\n          class=\"pera-wallet-connect-modal-information-section__features-item__description\">\\n          Connect to any Algorand dApp securely\\n        </p>\\n      </li>\\n\\n      <li class=\"pera-wallet-connect-modal-information-section__features-item\">\\n        <div\\n          class=\"pera-wallet-connect-modal-information-section__features-item__icon-wrapper\">\\n          <img src=\"data:image/svg+xml,%3csvg width='24' height='25' viewBox='0 0 24 25' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M9.58033 12.3109C9.28744 12.018 8.81257 12.018 8.51967 12.3109C8.22678 12.6038 8.22678 13.0787 8.51967 13.3716L9.58033 12.3109ZM10.66 14.4512L10.1297 14.9816C10.4226 15.2745 10.8974 15.2745 11.1903 14.9816L10.66 14.4512ZM15.4903 10.6816C15.7832 10.3887 15.7832 9.91381 15.4903 9.62092C15.1974 9.32803 14.7226 9.32803 14.4297 9.62092L15.4903 10.6816ZM19.84 8.09125C19.84 8.50546 20.1758 8.84125 20.59 8.84125C21.0042 8.84125 21.34 8.50546 21.34 8.09125H19.84ZM18.5 5.07125L18.2368 5.77355L18.2373 5.77375L18.5 5.07125ZM13.51 3.20125L13.7732 2.49894L13.7724 2.49866L13.51 3.20125ZM10.49 3.20125L10.2276 2.49865L10.2256 2.49941L10.49 3.20125ZM5.5 5.08125L5.76268 5.78375L5.76442 5.78309L5.5 5.08125ZM5.14 18.9612L4.69102 19.562L4.69135 19.5623L5.14 18.9612ZM9.44 22.1713L9.89069 21.5718L9.88866 21.5702L9.44 22.1713ZM14.58 22.1713L14.1313 21.5702L14.1293 21.5718L14.58 22.1713ZM18.88 18.9612L19.3287 19.5623L19.329 19.562L18.88 18.9612ZM21.36 8.09125C21.36 7.67704 21.0242 7.34125 20.61 7.34125C20.1958 7.34125 19.86 7.67704 19.86 8.09125H21.36ZM8.51967 13.3716L10.1297 14.9816L11.1903 13.9209L9.58033 12.3109L8.51967 13.3716ZM11.1903 14.9816L15.4903 10.6816L14.4297 9.62092L10.1297 13.9209L11.1903 14.9816ZM21.34 8.09125C21.34 7.29392 21.0398 6.50041 20.5931 5.85456C20.1463 5.20881 19.5097 4.64807 18.7627 4.36875L18.2373 5.77375C18.6403 5.92443 19.0487 6.25869 19.3595 6.70794C19.6702 7.15709 19.84 7.65858 19.84 8.09125H21.34ZM18.7632 4.36895L13.7732 2.49895L13.2468 3.90355L18.2368 5.77355L18.7632 4.36895ZM13.7724 2.49866C13.2479 2.30277 12.6051 2.21875 12 2.21875C11.3949 2.21875 10.7521 2.30277 10.2276 2.49866L10.7524 3.90384C11.0579 3.78973 11.5101 3.71875 12 3.71875C12.4899 3.71875 12.9421 3.78973 13.2476 3.90384L13.7724 2.49866ZM10.2256 2.49941L5.23558 4.37941L5.76442 5.78309L10.7544 3.90309L10.2256 2.49941ZM5.23733 4.37875C4.49043 4.65803 3.85398 5.2186 3.40741 5.86265C2.96095 6.50656 2.66 7.2978 2.66 8.09125H4.16C4.16 7.6647 4.32906 7.16594 4.64009 6.71735C4.95103 6.2689 5.35957 5.93447 5.76268 5.78375L5.23733 4.37875ZM2.66 8.09125V15.5212H4.16V8.09125H2.66ZM2.66 15.5212C2.66 16.2602 2.8989 17.059 3.24874 17.7545C3.59871 18.4503 4.09802 19.1188 4.69102 19.562L5.58899 18.3605C5.23198 18.0937 4.86629 17.6322 4.58877 17.0805C4.31111 16.5285 4.16 15.9623 4.16 15.5212H2.66ZM4.69135 19.5623L8.99135 22.7723L9.88866 21.5702L5.58866 18.3602L4.69135 19.5623ZM8.98932 22.7707C9.84721 23.4157 10.9462 23.7163 12.01 23.7163C13.0738 23.7163 14.1728 23.4157 15.0307 22.7707L14.1293 21.5718C13.5772 21.9868 12.8112 22.2163 12.01 22.2163C11.2088 22.2163 10.4428 21.9868 9.89068 21.5718L8.98932 22.7707ZM15.0287 22.7723L19.3287 19.5623L18.4313 18.3602L14.1313 21.5702L15.0287 22.7723ZM19.329 19.562C19.922 19.1188 20.4213 18.4503 20.7713 17.7545C21.1211 17.059 21.36 16.2602 21.36 15.5212H19.86C19.86 15.9623 19.7089 16.5285 19.4312 17.0805C19.1537 17.6322 18.788 18.0937 18.431 18.3605L19.329 19.562ZM21.36 15.5212V8.09125H19.86V15.5212H21.36Z' fill='%239D9DAE'/%3e%3c/svg%3e\" alt=\"Tick Icon\" />\\n        </div>\\n\\n        <p\\n          class=\"pera-wallet-connect-modal-information-section__features-item__description\">\\n          Your private keys are safely stored locally\\n        </p>\\n      </li>\\n\\n      <li class=\"pera-wallet-connect-modal-information-section__features-item\">\\n        <div\\n          class=\"pera-wallet-connect-modal-information-section__features-item__icon-wrapper\">\\n          <img src=\"data:image/svg+xml,%3csvg width='20' height='21' viewBox='0 0 20 21' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M18.05 9.67014L17.3198 9.49894L18.05 9.67014ZM17.2333 13.1535L16.5031 12.9823L16.5029 12.9835L17.2333 13.1535ZM12.55 17.1285L12.6218 16.3818L12.6098 16.3809L12.55 17.1285ZM11.2 16.9035L11.376 16.1744L11.3737 16.1739L11.2 16.9035ZM9.8 16.5701L9.97372 15.8405L9.97324 15.8404L9.8 16.5701ZM6.06667 10.5451L6.79687 10.7163L6.79696 10.7159L6.06667 10.5451ZM6.88334 7.05347L6.15327 6.88169L6.15304 6.88267L6.88334 7.05347ZM7.5 5.22014L8.17303 5.55114L8.17523 5.54659L7.5 5.22014ZM12.9167 3.32014L12.744 4.05L12.7461 4.05049L12.9167 3.32014ZM14.3083 3.64514L14.4791 2.91485L14.4789 2.91479L14.3083 3.64514ZM10.5917 18.0285L10.359 17.3155L10.3572 17.3161L10.5917 18.0285ZM9.27501 18.4618L9.50516 19.1756L9.50947 19.1742L9.27501 18.4618ZM3.15001 15.3285L2.43654 15.5597L2.43672 15.5603L3.15001 15.3285ZM2.08334 12.0368L1.36953 12.267L1.36987 12.268L2.08334 12.0368ZM5.20834 5.91182L5.43849 6.62565L5.44281 6.62423L5.20834 5.91182ZM6.52501 5.47848L6.29831 4.76352L6.29055 4.76608L6.52501 5.47848ZM10.7177 7.35149C10.3162 7.24967 9.90818 7.49261 9.80635 7.89411C9.70453 8.29561 9.94746 8.70364 10.349 8.80546L10.7177 7.35149ZM14.3906 9.83046C14.7921 9.93229 15.2002 9.68935 15.302 9.28785C15.4038 8.88635 15.1609 8.47832 14.7594 8.37649L14.3906 9.83046ZM9.90211 10.5768C9.50076 10.4743 9.09238 10.7167 8.98996 11.118C8.88755 11.5194 9.12988 11.9278 9.53124 12.0302L9.90211 10.5768ZM11.9479 12.6469C12.3493 12.7493 12.7576 12.5069 12.8601 12.1056C12.9625 11.7042 12.7201 11.2958 12.3188 11.1934L11.9479 12.6469ZM17.3198 9.49894L16.5031 12.9823L17.9635 13.3247L18.7802 9.84133L17.3198 9.49894ZM16.5029 12.9835C16.168 14.4224 15.6979 15.2955 15.1165 15.793C14.5605 16.2688 13.7912 16.4944 12.6218 16.3819L12.4782 17.875C13.9088 18.0126 15.1312 17.7548 16.0918 16.9327C17.0271 16.1323 17.5986 14.8928 17.9638 13.3234L16.5029 12.9835ZM12.6098 16.3809C12.2388 16.3512 11.8281 16.2835 11.376 16.1744L11.024 17.6325C11.5386 17.7567 12.0279 17.8391 12.4902 17.8761L12.6098 16.3809ZM11.3737 16.1739L9.97372 15.8405L9.62629 17.2997L11.0263 17.6331L11.3737 16.1739ZM9.97324 15.8404C8.30732 15.4449 7.40652 14.876 6.96107 14.1588C6.51616 13.4425 6.40566 12.385 6.79687 10.7163L5.33647 10.3739C4.91101 12.1887 4.92968 13.7311 5.68685 14.9502C6.44349 16.1685 7.81769 16.8704 9.62676 17.2999L9.97324 15.8404ZM6.79696 10.7159L7.61363 7.22428L6.15304 6.88267L5.33638 10.3743L6.79696 10.7159ZM7.6134 7.22525C7.77277 6.54795 7.95691 5.99053 8.17301 5.55113L6.82699 4.88915C6.54309 5.46641 6.32724 6.14234 6.15327 6.88169L7.6134 7.22525ZM8.17523 5.54659C8.59604 4.67619 9.11898 4.20234 9.77488 3.97598C10.4657 3.73759 11.4133 3.73525 12.744 4.05L13.0893 2.59028C11.6367 2.2467 10.3635 2.18603 9.28554 2.55805C8.17269 2.94211 7.37896 3.74743 6.82478 4.89369L8.17523 5.54659ZM12.7461 4.05049L14.1378 4.37549L14.4789 2.91479L13.0872 2.58979L12.7461 4.05049ZM14.1375 4.37543C15.8111 4.76687 16.7126 5.33603 17.1575 6.05304C17.6023 6.77006 17.7112 7.82942 17.3198 9.49894L18.7802 9.84133C19.2054 8.02753 19.1893 6.48272 18.4321 5.26224C17.6749 4.04175 16.2972 3.34008 14.4791 2.91485L14.1375 4.37543ZM12.1294 16.5075C11.6911 16.8045 11.1123 17.0697 10.359 17.3155L10.8243 18.7415C11.6544 18.4706 12.3756 18.1525 12.9706 17.7494L12.1294 16.5075ZM10.3572 17.3161L9.04055 17.7494L9.50947 19.1742L10.8261 18.7409L10.3572 17.3161ZM9.04486 17.748C7.46037 18.2589 6.43607 18.2362 5.71663 17.8681C4.99693 17.4999 4.37829 16.6816 3.8633 15.0967L2.43672 15.5603C2.99673 17.2837 3.78642 18.5654 5.03339 19.2035C6.28062 19.8416 7.78131 19.7314 9.50516 19.1756L9.04486 17.748ZM3.86348 15.0973L2.79682 11.8056L1.36987 12.268L2.43654 15.5597L3.86348 15.0973ZM2.79716 11.8067C2.28607 10.2215 2.3068 9.19457 2.67362 8.4739C3.03983 7.75443 3.85506 7.13616 5.43849 6.62563L4.9782 5.198C3.25329 5.75414 1.97269 6.54421 1.33682 7.79348C0.701551 9.04157 0.813948 10.5438 1.36953 12.267L2.79716 11.8067ZM5.44281 6.62423L6.75947 6.19089L6.29055 4.76608L4.97388 5.19941L5.44281 6.62423ZM6.75169 6.19341C7.08205 6.08866 7.37424 6.00724 7.63942 5.95707L7.36058 4.48321C7.00909 4.54971 6.6513 4.65164 6.29833 4.76356L6.75169 6.19341ZM10.349 8.80546L14.3906 9.83046L14.7594 8.37649L10.7177 7.35149L10.349 8.80546ZM9.53124 12.0302L11.9479 12.6469L12.3188 11.1934L9.90211 10.5768L9.53124 12.0302Z' fill='%239D9DAE'/%3e%3c/svg%3e\" alt=\"Note Icon\" />\\n        </div>\\n\\n        <p\\n          class=\"pera-wallet-connect-modal-information-section__features-item__description\">\\n          View NFTs, buy and swap crypto and more\\n        </p>\\n      </li>\\n    </ul>\\n  </section>\\n`;class U extends HTMLElement{constructor(){var n,t,a,o;super(),this.attachShadow({mode:\"open\"});const l=\"true\"===(null===(n=document.querySelector(\"pera-wallet-connect-modal\"))||void 0===n?void 0:n.getAttribute(\"compact-mode\"));if(this.shadowRoot&&(!l&&!e()||e())){const n=document.createElement(\"style\");n.textContent=T,this.shadowRoot.append(D.content.cloneNode(!0),n),e()?null===(t=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-information-section-title\"))||void 0===t||t.setAttribute(\"style\",\"display: none;\"):(null===(a=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-information-section-pera-icon\"))||void 0===a||a.setAttribute(\"src\",\"data:image/svg+xml,%3csvg width='84' height='38' viewBox='0 0 84 38' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M19.806 8.62773C20.4416 11.2609 20.2268 13.5772 19.3262 13.8012C18.4256 14.0253 17.1803 12.0723 16.5448 9.43906C15.9092 6.80585 16.1241 4.48959 17.0246 4.26555C17.9252 4.04151 19.1705 5.99452 19.806 8.62773Z' fill='%233C3C49'/%3e%3cpath d='M30.3007 10.8917C28.8932 9.3999 26.0929 9.80424 24.0461 11.7948C21.9994 13.7853 21.4812 16.6082 22.8887 18.1C24.2962 19.5917 27.0964 19.1874 29.1432 17.1969C31.1899 15.2064 31.7082 12.3834 30.3007 10.8917Z' fill='%233C3C49'/%3e%3cpath d='M19.1061 33.734C20.0067 33.5099 20.1899 31.0627 19.5153 28.2678C18.8408 25.473 17.5639 23.3889 16.6633 23.613C15.7627 23.837 15.5795 26.2843 16.2541 29.0791C16.9286 31.874 18.2056 33.958 19.1061 33.734Z' fill='%233C3C49'/%3e%3cpath d='M9.92571 12.2574C12.5239 13.0236 14.4224 14.3678 14.1662 15.2597C13.9099 16.1517 11.5959 16.2536 8.99771 15.4874C6.3995 14.7212 4.50098 13.377 4.75724 12.4851C5.0135 11.5931 7.3275 11.4912 9.92571 12.2574Z' fill='%233C3C49'/%3e%3cpath d='M26.7892 22.3292C29.5469 23.1424 31.5747 24.5247 31.3184 25.4167C31.0621 26.3086 28.6189 26.3724 25.8612 25.5592C23.1035 24.7459 21.0757 23.3636 21.3319 22.4717C21.5882 21.5797 24.0315 21.5159 26.7892 22.3292Z' fill='%233C3C49'/%3e%3cpath d='M12.8493 20.4577C12.205 19.7898 10.0916 20.7619 8.12896 22.6289C6.16631 24.4959 5.09759 26.5509 5.7419 27.2188C6.38622 27.8867 8.49958 26.9146 10.4622 25.0476C12.4249 23.1806 13.4936 21.1256 12.8493 20.4577Z' fill='%233C3C49'/%3e%3cpath d='M41.691 12.5347V11.9635H39.3366V27.1957H41.691V23.0915C41.691 22.6472 41.691 22.2876 41.6482 21.801H41.691C42.5471 23.1973 44.0026 23.9377 45.7148 23.9377C48.6043 23.9377 51.1299 21.7587 51.1299 17.7179C51.1299 13.7617 48.6043 11.625 45.7148 11.625C44.0668 11.625 42.6113 12.3443 41.691 13.7617H41.6482C41.691 13.2963 41.691 12.9578 41.691 12.5347ZM45.1155 21.9279C42.9324 21.9068 41.6696 20.0662 41.6696 17.6967C41.6696 15.4542 42.9324 13.656 45.1155 13.6348C47.2559 13.6137 48.6685 15.2638 48.6685 17.7179C48.6685 20.2354 47.2559 21.9491 45.1155 21.9279Z' fill='%233C3C49'/%3e%3cpath d='M63.4932 16.7236C63.4932 13.8041 61.1388 11.625 57.9283 11.625C54.5037 11.625 52.1279 13.931 52.1279 17.7814C52.1279 21.4836 54.4609 23.9377 57.9283 23.9377C60.7749 23.9377 62.8939 22.2876 63.3862 20.0239H60.8177C60.4111 21.1663 59.2981 21.9279 57.9283 21.9279C56.1732 21.9279 54.889 20.6797 54.6107 18.6064H63.4932V16.7236ZM57.9283 13.6348C59.662 13.6348 60.8606 14.8195 61.1174 16.5332H54.6321C54.9318 14.883 56.1518 13.6348 57.9283 13.6348Z' fill='%233C3C49'/%3e%3cpath d='M65.224 23.5992H67.5784V17.0409C67.5784 14.7984 68.8198 13.6348 70.7462 13.6348H72.009V11.625H71.003C69.2693 11.625 68.1991 12.7674 67.5784 13.7617H67.5356V11.9635H65.224V23.5992Z' fill='%233C3C49'/%3e%3cpath d='M83.0154 21.5683C82.6944 21.5683 82.5445 21.3779 82.5445 20.9971V15.8773C82.5445 13.4233 81.3459 11.625 77.8144 11.625C74.3898 11.625 72.8273 13.3175 72.6561 15.7292H75.0105C75.1603 14.4176 76.2091 13.6348 77.8144 13.6348C79.1842 13.6348 80.1259 14.2272 80.1259 15.158C80.1259 15.9196 79.5909 16.3851 77.8358 16.3851H76.894C74.0901 16.3851 72.2066 17.5063 72.2066 20.0662C72.2066 22.753 74.1972 23.98 76.5301 23.98C78.2638 23.98 79.7407 23.2184 80.3186 21.5894C80.3828 22.7742 81.1747 23.5992 82.673 23.5992H84V21.5683H83.0154ZM80.1902 18.1833C80.1902 20.8067 78.7561 21.9491 76.9154 21.9491C75.3101 21.9491 74.668 21.0182 74.668 20.0662C74.668 19.1565 75.2245 18.416 76.9368 18.416H77.2793C78.9273 18.416 79.9547 17.8448 80.1688 16.8505H80.1902V18.1833Z' fill='%233C3C49'/%3e%3c/svg%3e\"),null===(o=this.shadowRoot.getElementById(\"pera-wallet-connect-modal-information-section-connect-pera-mobile\"))||void 0===o||o.setAttribute(\"style\",\"display: none;\"))}}}var q='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}\\n.pera-wallet-connect-modal-pending-message-section {\\n  display: grid;\\n  grid-template-columns: 1fr;\\n  grid-template-rows: auto 48px;\\n  gap: 56px;\\n  height: 100%;\\n  padding: 4px;\\n  padding-bottom: 70px;\\n}\\n\\n.pera-wallet-connect-modal-pending-message {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  flex-direction: column;\\n  text-align: center;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view {\\n  display: flex;\\n  justify-content: space-between;\\n  flex-direction: column;\\n  height: 100%;\\n  margin-top: 10px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__title {\\n  margin: 16px 0 12px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 500;\\n  line-height: 24px;\\n  letter-spacing: -0.26px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__description {\\n  color: #6a6a81;\\n  font-size: 14px;\\n  font-weight: 400;\\n  line-height: 24px;\\n  letter-spacing: -0.01px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__button {\\n  display: block;\\n  width: 100%;\\n  padding: 14px;\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n  color: #ffffff;\\n  background-color: #6b46fe;\\n  border: none;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor {\\n  display: flex;\\n  gap: 12px;\\n  margin-bottom: 20px;\\n  padding: 16px;\\n  background: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border-radius: 12px;\\n  text-decoration: none;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image {\\n  width: 24px;\\n  height: 24px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 4px;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title {\\n  margin: 0;\\n  font-size: 14px;\\n  font-weight: 500;\\n  line-height: 20px;\\n  letter-spacing: -0.1px;\\n  color: #3c3c49;\\n}\\n.pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description {\\n  /* stylelint-disable value-no-vendor-prefix */\\n  /* stylelint-disable  property-no-vendor-prefix */\\n  display: -webkit-box;\\n  max-width: 100%;\\n  -webkit-line-clamp: 2;\\n  /* autoprefixer: ignore next */\\n  -webkit-box-orient: vertical;\\n  overflow: hidden;\\n  /* stylelint-enable value-no-vendor-prefix */\\n  /* stylelint-enable property-no-vendor-prefix */\\n  margin: 0;\\n  font-size: 12px;\\n  font-weight: 400;\\n  line-height: 18px;\\n  letter-spacing: 0.01px;\\n  color: #9d9dae;\\n}\\n\\n.pera-wallet-connect-modal-pending-message__animation-wrapper {\\n  width: 56px;\\n  height: 56px;\\n  background-color: #6b46fe;\\n  border-radius: 50%;\\n}\\n\\n.pera-wallet-connect-modal-pending-message__text {\\n  max-width: 271px;\\n  margin-top: 24px;\\n  color: #3c3c49;\\n  font-size: 18px;\\n  font-weight: 500;\\n  line-height: 28px;\\n  letter-spacing: -0.26px;\\n}\\n\\n.pera-wallet-connect-modal-pending-message__cancel-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  padding: 14px;\\n  color: #6a6a81;\\n  background-color: #ffffff;\\n  box-shadow: 0px 0px 1px rgba(12, 26, 75, 0.24), 0px 3px 8px -1px rgba(50, 50, 71, 0.05);\\n  border-radius: 12px;\\n  text-decoration: none;\\n  text-align: center;\\n  font-size: 14px;\\n  line-height: 20px;\\n  letter-spacing: -0.09px;\\n  font-weight: 500;\\n  border: none;\\n}';h(q);const G=document.createElement(\"template\");G.innerHTML='\\n  <div class=\"pera-wallet-connect-modal-pending-message-section\">\\n    <div class=\"pera-wallet-connect-modal-pending-message\">\\n      <div id=\"pera-wallet-connect-modal-pending-message-animation-wrapper\" class=\"pera-wallet-connect-modal-pending-message__animation-wrapper\"></div>\\n\\n      <div class=\"pera-wallet-connect-modal-pending-message__text\">\\n        Please wait while we connect you to Pera Wallet\\n      </div>\\n    </div>\\n\\n    <button\\n      id=\"pera-wallet-connect-modal-pending-message-cancel-button\"\\n      class=\"pera-wallet-button pera-wallet-connect-modal-pending-message__cancel-button\">\\n        Cancel\\n    </button>\\n  </div>\\n\\n  <div id=\"pera-wallet-connect-modal-pending-message-audio-wrapper\"></div>\\n';const N=`\\n  <div class=\"pera-wallet-connect-modal-pending-message--try-again-view\">\\n    <div>\\n      <img src=\"${j}\" alt=\"Pera Wallet Logo\" />\\n\\n      <h1 class=\"pera-wallet-connect-modal-pending-message--try-again-view__title\">\\n        Couldnt establish connection\\n      </h1>\\n\\n      <p class=\"pera-wallet-connect-modal-pending-message--try-again-view__description\">\\n        Having issues? Before trying again, make sure to read the support article below and apply the possible solutions.\\n      </p>\\n    </div>\\n\\n    <div>\\n      <a\\n        href=\"https://support.perawallet.app/en/article/resolving-walletconnect-issues-1tolptm/\"\\n        target=\"_blank\"\\n        rel=\"noopener noreferrer\"\\n        class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor\">\\n        <img\\n          class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__image\"\\n          src=\"data:image/svg+xml,%3csvg width='24' height='24' viewBox='0 0 24 24' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M8 22.3199C7.72 22.3199 7.42998 22.2499 7.16998 22.1099C6.59998 21.8099 6.25 21.2099 6.25 20.5699V19.15C3.23 18.84 1.25 16.6199 1.25 13.4399V7.43994C1.25 3.99994 3.56 1.68994 7 1.68994H17C20.44 1.68994 22.75 3.99994 22.75 7.43994V13.4399C22.75 16.8799 20.44 19.1899 17 19.1899H13.23L8.96997 22.03C8.67997 22.22 8.34 22.3199 8 22.3199ZM7 3.17993C4.42 3.17993 2.75 4.84993 2.75 7.42993V13.43C2.75 16.01 4.42 17.68 7 17.68C7.41 17.68 7.75 18.02 7.75 18.43V20.56C7.75 20.69 7.83 20.75 7.88 20.78C7.93001 20.81 8.03001 20.84 8.14001 20.77L12.59 17.81C12.71 17.73 12.86 17.68 13.01 17.68H17.01C19.59 17.68 21.26 16.01 21.26 13.43V7.42993C21.26 4.84993 19.59 3.17993 17.01 3.17993H7ZM11.9998 12.11C11.5898 12.11 11.2498 11.77 11.2498 11.36V11.15C11.2498 10.0038 12.0798 9.4336 12.4082 9.20798L12.4198 9.20001C12.7898 8.95001 12.9098 8.78002 12.9098 8.52002C12.9098 8.02002 12.4998 7.60999 11.9998 7.60999C11.4998 7.60999 11.0898 8.02002 11.0898 8.52002C11.0898 8.93002 10.7498 9.27002 10.3398 9.27002C9.92984 9.27002 9.58984 8.93002 9.58984 8.52002C9.58984 7.19002 10.6698 6.10999 11.9998 6.10999C13.3298 6.10999 14.4098 7.19002 14.4098 8.52002C14.4098 9.66002 13.5698 10.23 13.2598 10.44C12.8698 10.7 12.7498 10.87 12.7498 11.15V11.36C12.7498 11.78 12.4098 12.11 11.9998 12.11ZM11.25 13.85C11.25 14.26 11.58 14.6 12 14.6C12.42 14.6 12.75 14.26 12.75 13.85C12.75 13.44 12.41 13.1 12 13.1C11.59 13.1 11.25 13.44 11.25 13.85Z' fill='%236B46FE'/%3e%3c/svg%3e\"\\n          alt=\"Help Icon\"\\n        />\\n\\n        <div>\\n          <div\\n            class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title-wrapper\">\\n            <h1\\n              class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__title\">\\n                Resolving WalletConnect issues\\n            </h1>\\n\\n            <img src=\"data:image/svg+xml,%3csvg width='16' height='16' viewBox='0 0 16 16' fill='none' xmlns='http://www.w3.org/2000/svg'%3e%3cpath fill-rule='evenodd' clip-rule='evenodd' d='M11.3287 10.0983C10.9574 10.0983 10.6564 9.79734 10.6564 9.42604L10.6564 6.29525L5.14866 11.803C4.88611 12.0655 4.46044 12.0655 4.19789 11.803C3.93534 11.5404 3.93534 11.1147 4.19789 10.8522L9.70561 5.34447L6.57482 5.34447C6.20352 5.34447 5.90252 5.04347 5.90252 4.67218C5.90252 4.30088 6.20352 3.99988 6.57482 3.99988L11.3287 3.99988C11.507 3.99988 11.678 4.07071 11.8041 4.19679C11.9301 4.32287 12.001 4.49387 12.001 4.67218L12.001 9.42604C12.001 9.79734 11.7 10.0983 11.3287 10.0983Z' fill='%239D9DAE'/%3e%3c/svg%3e\" alt=\"Send Icon\"/>\\n          </div>\\n\\n          <p\\n            class=\"pera-wallet-connect-modal-pending-message--try-again-view__resolving-anchor__description\">\\n            Unfortunately there are several known issues related to WalletConnect that our team is working on. Some of these issues are related to the WalletConnect JavaScript implementation on the dApp ...\\n          </p>\\n        </div>\\n      </a>\\n\\n      <button id=\"pera-wallet-connect-modal-pending-message-try-again-button\" class=\"pera-wallet-connect-button pera-wallet-connect-modal-pending-message--try-again-view__button\">\\n        Close & Try Again\\n      </button>\\n    </div>\\n  </div>\\n  `;class Q extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=q,this.shadowRoot.append(G.content.cloneNode(!0),e)}}connectedCallback(){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-cancel-button\");null==n||n.addEventListener(\"click\",(()=>{this.onClose()})),this.addAudioForConnection(),this.renderLottieAnimation(),setTimeout((()=>{var e;if(G.innerHTML=N,this.shadowRoot){const n=document.createElement(\"style\");n.textContent=q,this.shadowRoot.innerHTML=\"\",this.shadowRoot.append(G.content.cloneNode(!0),n);const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-try-again-button\");null==t||t.addEventListener(\"click\",(()=>{this.onClose()}))}}),3e4)}onClose(){t(c)}addAudioForConnection(){var e;if(\"true\"===this.getAttribute(\"should-use-sound\")&&l()){const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-audio-wrapper\"),t=document.createElement(\"audio\");t.src=\"https://s3.amazonaws.com/wc.perawallet.app/audio.mp3\",t.autoplay=!0,t.loop=!0,null==n||n.appendChild(t)}}renderLottieAnimation(){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-connect-modal-pending-message-animation-wrapper\");n&&w.loadAnimation({container:n,renderer:\"svg\",loop:!0,autoplay:!0,path:\"https://s3.amazonaws.com/wc.perawallet.app/static/pera-loader-animation.json\"})}}var J='.pera-wallet-sign-txn-toast {\\n  --pera-wallet-sign-txn-toast-width: 422px;\\n  --pera-wallet-sign-txn-toast-height: 134px;\\n  --pera-wallet-sign-txn-toast-font-family: \"Inter\", sans-serif;\\n  position: fixed;\\n  bottom: 28px;\\n  right: 35px;\\n  z-index: 11;\\n  overflow: hidden;\\n  width: var(--pera-wallet-sign-txn-toast-width);\\n  height: var(--pera-wallet-sign-txn-toast-height);\\n  background: #edeffb;\\n  border-radius: 8px;\\n  animation: 0.2s PeraWalletSignTxnToastSlideIn ease-out;\\n}\\n.pera-wallet-sign-txn-toast * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-sign-txn-toast-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-sign-txn-toast ul,\\n.pera-wallet-sign-txn-toast ol,\\n.pera-wallet-sign-txn-toast li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-sign-txn-toast__header__close-button {\\n  position: absolute;\\n  top: 10px;\\n  right: 10px;\\n  width: 20px;\\n  height: 20px;\\n  margin: 0;\\n  padding: 0;\\n  background: transparent;\\n  border: none;\\n  cursor: pointer;\\n}\\n\\n.pera-wallet-sign-txn-toast__content__lottie-animation {\\n  position: absolute;\\n  top: -75px;\\n  left: -100px;\\n  width: 368px;\\n  height: 368px;\\n}\\n\\n.pera-wallet-sign-txn-toast__content__description {\\n  position: absolute;\\n  top: 40px;\\n  right: 48px;\\n  max-width: 197px;\\n  color: #3c3c49;\\n  font-size: 14px;\\n  line-height: 22px;\\n  letter-spacing: -0.1px;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-sign-txn-toast {\\n    display: none;\\n  }\\n}\\n@keyframes PeraWalletSignTxnToastSlideIn {\\n  0% {\\n    bottom: 12px;\\n    opacity: 0;\\n  }\\n  100% {\\n    bottom: 26px;\\n    opacity: 1;\\n  }\\n}';h(J);const K=document.createElement(\"template\");K.innerHTML='\\n  <div class=\"pera-wallet-sign-txn-toast\">\\n    <div class=\"pera-wallet-sign-txn-toast__header\">\\n      <button\\n        id=\"pera-wallet-sign-txn-toast-close-button\"\\n        class=\"pera-wallet-sign-txn-toast__header__close-button\">\\n        <img src=\"data:image/svg+xml,%3csvg width=\\'20\\' height=\\'20\\' viewBox=\\'0 0 20 20\\' fill=\\'none\\' xmlns=\\'http://www.w3.org/2000/svg\\'%3e%3cpath d=\\'M14.4107 4.41074L9.41074 9.41074L10.5893 10.5893L15.5893 5.58926L14.4107 4.41074ZM9.41074 9.41074L4.41074 14.4107L5.58926 15.5893L10.5893 10.5893L9.41074 9.41074ZM15.5893 14.4107L10.5893 9.41074L9.41074 10.5893L14.4107 15.5893L15.5893 14.4107ZM10.5893 9.41074L5.58926 4.41074L4.41074 5.58926L9.41074 10.5893L10.5893 9.41074Z\\' fill=\\'%239099BD\\'/%3e%3c/svg%3e\" />\\n      </button>\\n    </div>\\n    <div class=\"pera-wallet-sign-txn-toast__content\">\\n      <div id=\"pera-wallet-sign-txn-toast-lottie-animation\" style=\"width:368;height:368\" class=\"pera-wallet-sign-txn-toast__content__lottie-animation\"></div>\\n      <p class=\"pera-wallet-sign-txn-toast__content__description\">\\n        Please launch <b>Pera Wallet</b> on your iOS or Android device to sign this transaction.\\n      </p>\\n    </div>\\n  </div>\\n';class Y extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=J,this.shadowRoot.append(K.content.cloneNode(!0),e);const n=this.shadowRoot.getElementById(\"pera-wallet-sign-txn-toast-close-button\");null==n||n.addEventListener(\"click\",(()=>{t(p)})),this.renderLottieAnimation()}}renderLottieAnimation(){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.getElementById(\"pera-wallet-sign-txn-toast-lottie-animation\");n&&w.loadAnimation({container:n,renderer:\"svg\",loop:!0,autoplay:!0,path:\"https://s3.amazonaws.com/wc.perawallet.app/static/sign-toast-animation.json\"})}}var X='@import url(\"https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap\");\\n.pera-wallet-modal {\\n  --pera-wallet-modal-font-family: \"Inter\", sans-serif;\\n  --pera-wallet-modal-compact-width: 380px;\\n  --pera-wallet-modal-compact-height: 396px;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n  position: fixed;\\n  top: 0;\\n  right: 0;\\n  left: 0;\\n  bottom: 0;\\n  z-index: 999999;\\n  width: 100vw;\\n  height: 100vh;\\n  background-color: rgba(0, 0, 0, 0.7);\\n}\\n.pera-wallet-modal--select-account .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body {\\n  top: 40px;\\n  bottom: 0;\\n  left: 0;\\n  width: 100%;\\n  max-width: unset;\\n  height: calc(100 * var(--pera-wallet-vh));\\n  padding: 20px;\\n  background-color: #ffffff;\\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.02), 0 4px 12px rgba(0, 0, 0, 0.03);\\n  border-radius: 20px 20px 0px 0px;\\n  animation: 0.3s PeraWalletConnectMobileSlideIn ease-out;\\n  overflow-y: auto;\\n  transform: unset;\\n}\\n.pera-wallet-modal--mobile .pera-wallet-modal__body::before {\\n  background-image: unset;\\n}\\n.pera-wallet-modal--compact:not(.pera-wallet-modal--mobile) .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n  padding: 0;\\n}\\n.pera-wallet-modal * {\\n  box-sizing: border-box;\\n  margin: 0;\\n  padding: 0;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-smooth: antialiased;\\n  -webkit-font-smoothing: antialiased;\\n  -moz-osx-font-smoothing: grayscale;\\n}\\n.pera-wallet-modal ul,\\n.pera-wallet-modal ol,\\n.pera-wallet-modal li {\\n  list-style-type: none;\\n}\\n\\n.pera-wallet-button {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: auto;\\n  height: 48px;\\n  padding: 14px;\\n  border: none;\\n  border-radius: 12px;\\n  outline: none;\\n  cursor: pointer;\\n  font-family: var(--pera-wallet-modal-font-family);\\n  font-size: 14px;\\n}\\n\\n.pera-wallet-modal__logo img {\\n  display: block;\\n  width: 32px;\\n}\\n\\n.pera-wallet-modal__body {\\n  position: relative;\\n  top: 50%;\\n  left: 50%;\\n  width: 700px;\\n  max-width: calc(100vw - 80px);\\n  padding: 28px;\\n  background-color: #f3f3f7;\\n  box-shadow: 1px 2px 2px rgba(0, 0, 0, 0.08);\\n  border-radius: 24px;\\n  animation: 0.3s PeraWalletConnectSlideIn ease-out;\\n  transform: translate(-50%, -50%);\\n}\\n.pera-wallet-modal__body::before {\\n  --background-line: #1e0972 0 1.2px, transparent 0 calc(100% - 1.2px), #1e0972;\\n  position: absolute;\\n  top: 0;\\n  right: 0;\\n  bottom: 0;\\n  left: 0;\\n  z-index: -1;\\n  content: \"\";\\n  background-image: linear-gradient(var(--background-line)), linear-gradient(90deg, var(--background-line));\\n  background-size: 116px 116px;\\n  mix-blend-mode: overlay;\\n  border-radius: 24px;\\n  opacity: 0.8;\\n  pointer-events: none;\\n}\\n\\n@media (max-width: 767px) {\\n  .pera-wallet-modal--desktop .pera-wallet-modal__body {\\n    width: 100%;\\n    max-width: calc(100vw - 32px);\\n    padding: 24px;\\n  }\\n}\\n@keyframes PeraWalletConnectSlideIn {\\n  0% {\\n    opacity: 0;\\n    transform: translate(-50%, calc(-50% + 24px));\\n  }\\n  100% {\\n    opacity: 1;\\n    transform: translate(-50%, -50%);\\n  }\\n}\\n@keyframes PeraWalletConnectMobileSlideIn {\\n  0% {\\n    top: 30%;\\n    opacity: 0;\\n  }\\n  100% {\\n    top: 40px;\\n    opacity: 1;\\n  }\\n}\\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body {\\n  width: 480px;\\n  height: 578px;\\n  background-color: #ffffff;\\n  background-image: unset;\\n  padding: 0;\\n}\\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body .pera-wallet-sign-txn-modal__body__content {\\n  width: 100%;\\n  height: 100%;\\n}\\n.pera-wallet-sign-txn-modal.pera-wallet-modal .pera-wallet-modal__body #pera-wallet-iframe {\\n  width: 100%;\\n  height: 100%;\\n  border-radius: 16px;\\n  margin: 0 auto;\\n  border: none;\\n}\\n\\n.pera-wallet-sign-txn-modal--compact.pera-wallet-modal .pera-wallet-modal__body {\\n  width: var(--pera-wallet-modal-compact-width);\\n  height: var(--pera-wallet-modal-compact-height);\\n}';h(X);const ee=document.createElement(\"template\");ee.innerHTML=`\\n  <div id=\"pera-wallet-sign-txn-modal\" class=\"${d} pera-wallet-sign-txn-modal\">\\n    <div class=\"pera-wallet-modal__body\">\\n      <pera-wallet-modal-header modal-id=\"${s}\"></pera-wallet-modal-header/>\\n\\n      <div class=\"pera-wallet-sign-txn-modal__body__content\" />\\n    </div>\\n  </div>\\n`;class ne extends HTMLElement{constructor(){if(super(),this.attachShadow({mode:\"open\"}),this.shadowRoot){const e=document.createElement(\"style\");e.textContent=X,this.shadowRoot.append(ee.content.cloneNode(!0),e);if(\"true\"===this.getAttribute(\"compact-mode\")){const e=this.shadowRoot.getElementById(\"pera-wallet-sign-txn-modal\");null==e||e.classList.add(\"pera-wallet-sign-txn-modal--compact\")}}}}function te(){document.documentElement.style.setProperty(\"--pera-wallet-vh\",.01*window.innerHeight+\"px\")}function ae(e,n){window.customElements.get(e)||window.customElements.define(e,n)}window.addEventListener(\"DOMContentLoaded\",(()=>{te()})),window.addEventListener(\"resize\",(()=>{te()})),ae(\"pera-wallet-connect-modal\",S),ae(\"pera-wallet-modal-desktop-mode\",Z),ae(\"pera-wallet-modal-header\",u),ae(\"pera-wallet-modal-touch-screen-mode\",A),ae(\"pera-wallet-redirect-modal\",$),ae(\"pera-wallet-connect-modal-information-section\",U),ae(\"pera-wallet-connect-modal-pending-message-section\",Q),ae(\"pera-wallet-sign-txn-toast\",Y),ae(\"pera-wallet-sign-txn-modal\",ne),ae(\"pera-wallet-download-qr-code\",C);\n","(typeof navigator !== \"undefined\") && (function(root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        define(function() {\n            return factory(root);\n        });\n    } else if (typeof module === \"object\" && module.exports) {\n        module.exports = factory(root);\n    } else {\n        root.lottie = factory(root);\n        root.bodymovin = root.lottie;\n    }\n}((window || {}), function(window) {\n\t/* global locationHref:writable, animationManager, subframeEnabled:writable, defaultCurveSegments:writable, roundValues,\r\nexpressionsPlugin:writable, PropertyFactory, ShapePropertyFactory, Matrix, idPrefix:writable, _useWebWorker:writable */\r\n/* exported locationHref, subframeEnabled, expressionsPlugin, idPrefix, _useWebWorker */\r\n\r\n'use strict';\r\n\r\n/* exported svgNS, locationHref, initialDefaultFrame, _useWebWorker */\r\n\r\nvar svgNS = 'http://www.w3.org/2000/svg';\r\n\r\nvar locationHref = '';\r\n\r\nvar initialDefaultFrame = -999999;\r\n\r\nvar _useWebWorker = false;\r\n\r\n/* global createSizedArray */\r\n/* exported subframeEnabled, expressionsPlugin, isSafari, cachedColors, bmPow, bmSqrt, bmFloor, bmMax, bmMin, ProjectInterface,\r\ndefaultCurveSegments, degToRads, roundCorner, bmRnd, styleDiv, BMEnterFrameEvent, BMCompleteEvent, BMCompleteLoopEvent,\r\nBMSegmentStartEvent, BMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, BMAnimationConfigErrorEvent, createElementID,\r\naddSaturationToRGB, addBrightnessToRGB, addHueToRGB, rgbToHex */\r\n\r\nvar subframeEnabled = true;\r\nvar idPrefix = '';\r\nvar expressionsPlugin;\r\nvar isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\nvar cachedColors = {};\r\nvar bmRnd;\r\nvar bmPow = Math.pow;\r\nvar bmSqrt = Math.sqrt;\r\nvar bmFloor = Math.floor;\r\nvar bmMax = Math.max;\r\nvar bmMin = Math.min;\r\n\r\nvar BMMath = {};\r\n(function () {\r\n  var propertyNames = ['abs', 'acos', 'acosh', 'asin', 'asinh', 'atan', 'atanh', 'atan2', 'ceil', 'cbrt', 'expm1', 'clz32', 'cos', 'cosh', 'exp', 'floor', 'fround', 'hypot', 'imul', 'log', 'log1p', 'log2', 'log10', 'max', 'min', 'pow', 'random', 'round', 'sign', 'sin', 'sinh', 'sqrt', 'tan', 'tanh', 'trunc', 'E', 'LN10', 'LN2', 'LOG10E', 'LOG2E', 'PI', 'SQRT1_2', 'SQRT2'];\r\n  var i;\r\n  var len = propertyNames.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    BMMath[propertyNames[i]] = Math[propertyNames[i]];\r\n  }\r\n}());\r\n\r\nfunction ProjectInterface() { return {}; }\r\n\r\nBMMath.random = Math.random;\r\nBMMath.abs = function (val) {\r\n  var tOfVal = typeof val;\r\n  if (tOfVal === 'object' && val.length) {\r\n    var absArr = createSizedArray(val.length);\r\n    var i;\r\n    var len = val.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      absArr[i] = Math.abs(val[i]);\r\n    }\r\n    return absArr;\r\n  }\r\n  return Math.abs(val);\r\n};\r\nvar defaultCurveSegments = 150;\r\nvar degToRads = Math.PI / 180;\r\nvar roundCorner = 0.5519;\r\n\r\nfunction roundValues(flag) {\r\n  if (flag) {\r\n    bmRnd = Math.round;\r\n  } else {\r\n    bmRnd = function (val) {\r\n      return val;\r\n    };\r\n  }\r\n}\r\nroundValues(false);\r\n\r\nfunction styleDiv(element) {\r\n  element.style.position = 'absolute';\r\n  element.style.top = 0;\r\n  element.style.left = 0;\r\n  element.style.display = 'block';\r\n  element.style.transformOrigin = '0 0';\r\n  element.style.webkitTransformOrigin = '0 0';\r\n  element.style.backfaceVisibility = 'visible';\r\n  element.style.webkitBackfaceVisibility = 'visible';\r\n  element.style.transformStyle = 'preserve-3d';\r\n  element.style.webkitTransformStyle = 'preserve-3d';\r\n  element.style.mozTransformStyle = 'preserve-3d';\r\n}\r\n\r\nfunction BMEnterFrameEvent(type, currentTime, totalTime, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentTime = currentTime;\r\n  this.totalTime = totalTime;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteEvent(type, frameMultiplier) {\r\n  this.type = type;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMCompleteLoopEvent(type, totalLoops, currentLoop, frameMultiplier) {\r\n  this.type = type;\r\n  this.currentLoop = currentLoop;\r\n  this.totalLoops = totalLoops;\r\n  this.direction = frameMultiplier < 0 ? -1 : 1;\r\n}\r\n\r\nfunction BMSegmentStartEvent(type, firstFrame, totalFrames) {\r\n  this.type = type;\r\n  this.firstFrame = firstFrame;\r\n  this.totalFrames = totalFrames;\r\n}\r\n\r\nfunction BMDestroyEvent(type, target) {\r\n  this.type = type;\r\n  this.target = target;\r\n}\r\n\r\nfunction BMRenderFrameErrorEvent(nativeError, currentTime) {\r\n  this.type = 'renderFrameError';\r\n  this.nativeError = nativeError;\r\n  this.currentTime = currentTime;\r\n}\r\n\r\nfunction BMConfigErrorEvent(nativeError) {\r\n  this.type = 'configError';\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nfunction BMAnimationConfigErrorEvent(type, nativeError) {\r\n  this.type = type;\r\n  this.nativeError = nativeError;\r\n}\r\n\r\nvar createElementID = (function () {\r\n  var _count = 0;\r\n  return function createID() {\r\n    _count += 1;\r\n    return idPrefix + '__lottie_element_' + _count;\r\n  };\r\n}());\r\n\r\nfunction HSVtoRGB(h, s, v) {\r\n  var r;\r\n  var g;\r\n  var b;\r\n  var i;\r\n  var f;\r\n  var p;\r\n  var q;\r\n  var t;\r\n  i = Math.floor(h * 6);\r\n  f = h * 6 - i;\r\n  p = v * (1 - s);\r\n  q = v * (1 - f * s);\r\n  t = v * (1 - (1 - f) * s);\r\n  switch (i % 6) {\r\n    case 0: r = v; g = t; b = p; break;\r\n    case 1: r = q; g = v; b = p; break;\r\n    case 2: r = p; g = v; b = t; break;\r\n    case 3: r = p; g = q; b = v; break;\r\n    case 4: r = t; g = p; b = v; break;\r\n    case 5: r = v; g = p; b = q; break;\r\n    default: break;\r\n  }\r\n  return [r,\r\n    g,\r\n    b];\r\n}\r\n\r\nfunction RGBtoHSV(r, g, b) {\r\n  var max = Math.max(r, g, b);\r\n  var min = Math.min(r, g, b);\r\n  var d = max - min;\r\n  var h;\r\n  var s = (max === 0 ? 0 : d / max);\r\n  var v = max / 255;\r\n\r\n  switch (max) {\r\n    case min: h = 0; break;\r\n    case r: h = (g - b) + d * (g < b ? 6 : 0); h /= 6 * d; break;\r\n    case g: h = (b - r) + d * 2; h /= 6 * d; break;\r\n    case b: h = (r - g) + d * 4; h /= 6 * d; break;\r\n    default: break;\r\n  }\r\n\r\n  return [\r\n    h,\r\n    s,\r\n    v,\r\n  ];\r\n}\r\n\r\nfunction addSaturationToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[1] += offset;\r\n  if (hsv[1] > 1) {\r\n    hsv[1] = 1;\r\n  } else if (hsv[1] <= 0) {\r\n    hsv[1] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addBrightnessToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[2] += offset;\r\n  if (hsv[2] > 1) {\r\n    hsv[2] = 1;\r\n  } else if (hsv[2] < 0) {\r\n    hsv[2] = 0;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nfunction addHueToRGB(color, offset) {\r\n  var hsv = RGBtoHSV(color[0] * 255, color[1] * 255, color[2] * 255);\r\n  hsv[0] += offset / 360;\r\n  if (hsv[0] > 1) {\r\n    hsv[0] -= 1;\r\n  } else if (hsv[0] < 0) {\r\n    hsv[0] += 1;\r\n  }\r\n  return HSVtoRGB(hsv[0], hsv[1], hsv[2]);\r\n}\r\n\r\nvar rgbToHex = (function () {\r\n  var colorMap = [];\r\n  var i;\r\n  var hex;\r\n  for (i = 0; i < 256; i += 1) {\r\n    hex = i.toString(16);\r\n    colorMap[i] = hex.length === 1 ? '0' + hex : hex;\r\n  }\r\n\r\n  return function (r, g, b) {\r\n    if (r < 0) {\r\n      r = 0;\r\n    }\r\n    if (g < 0) {\r\n      g = 0;\r\n    }\r\n    if (b < 0) {\r\n      b = 0;\r\n    }\r\n    return '#' + colorMap[r] + colorMap[g] + colorMap[b];\r\n  };\r\n}());\r\n\r\nfunction BaseEvent() {}\r\nBaseEvent.prototype = {\r\n  triggerEvent: function (eventName, args) {\r\n    if (this._cbs[eventName]) {\r\n      var callbacks = this._cbs[eventName];\r\n      for (var i = 0; i < callbacks.length; i += 1) {\r\n        callbacks[i](args);\r\n      }\r\n    }\r\n  },\r\n  addEventListener: function (eventName, callback) {\r\n    if (!this._cbs[eventName]) {\r\n      this._cbs[eventName] = [];\r\n    }\r\n    this._cbs[eventName].push(callback);\r\n\r\n    return function () {\r\n      this.removeEventListener(eventName, callback);\r\n    }.bind(this);\r\n  },\r\n  removeEventListener: function (eventName, callback) {\r\n    if (!callback) {\r\n      this._cbs[eventName] = null;\r\n    } else if (this._cbs[eventName]) {\r\n      var i = 0;\r\n      var len = this._cbs[eventName].length;\r\n      while (i < len) {\r\n        if (this._cbs[eventName][i] === callback) {\r\n          this._cbs[eventName].splice(i, 1);\r\n          i -= 1;\r\n          len -= 1;\r\n        }\r\n        i += 1;\r\n      }\r\n      if (!this._cbs[eventName].length) {\r\n        this._cbs[eventName] = null;\r\n      }\r\n    }\r\n  },\r\n};\r\n\r\n/* exported createTypedArray, createSizedArray */\r\n\r\nvar createTypedArray = (function () {\r\n  function createRegularArray(type, len) {\r\n    var i = 0;\r\n    var arr = [];\r\n    var value;\r\n    switch (type) {\r\n      case 'int16':\r\n      case 'uint8c':\r\n        value = 1;\r\n        break;\r\n      default:\r\n        value = 1.1;\r\n        break;\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      arr.push(value);\r\n    }\r\n    return arr;\r\n  }\r\n  function createTypedArrayFactory(type, len) {\r\n    if (type === 'float32') {\r\n      return new Float32Array(len);\r\n    } if (type === 'int16') {\r\n      return new Int16Array(len);\r\n    } if (type === 'uint8c') {\r\n      return new Uint8ClampedArray(len);\r\n    }\r\n    return createRegularArray(type, len);\r\n  }\r\n  if (typeof Uint8ClampedArray === 'function' && typeof Float32Array === 'function') {\r\n    return createTypedArrayFactory;\r\n  }\r\n  return createRegularArray;\r\n}());\r\n\r\nfunction createSizedArray(len) {\r\n  return Array.apply(null, { length: len });\r\n}\r\n\r\n/* global svgNS */\r\n/* exported createNS */\r\n\r\nfunction createNS(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElementNS(svgNS, type);\r\n}\r\n\r\n/* exported createTag */\r\n\r\nfunction createTag(type) {\r\n  // return {appendChild:function(){},setAttribute:function(){},style:{}}\r\n  return document.createElement(type);\r\n}\r\n\r\nfunction DynamicPropertyContainer() {}\r\nDynamicPropertyContainer.prototype = {\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n      this.container.addDynamicProperty(this);\r\n      this._isAnimated = true;\r\n    }\r\n  },\r\n  iterateDynamicProperties: function () {\r\n    this._mdf = false;\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.dynamicProperties[i].getValue();\r\n      if (this.dynamicProperties[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  },\r\n  initDynamicPropertyContainer: function (container) {\r\n    this.container = container;\r\n    this.dynamicProperties = [];\r\n    this._mdf = false;\r\n    this._isAnimated = false;\r\n  },\r\n};\r\n\r\n/* exported getBlendMode */\r\n\r\nvar getBlendMode = (function () {\r\n  var blendModeEnums = {\r\n    0: 'source-over',\r\n    1: 'multiply',\r\n    2: 'screen',\r\n    3: 'overlay',\r\n    4: 'darken',\r\n    5: 'lighten',\r\n    6: 'color-dodge',\r\n    7: 'color-burn',\r\n    8: 'hard-light',\r\n    9: 'soft-light',\r\n    10: 'difference',\r\n    11: 'exclusion',\r\n    12: 'hue',\r\n    13: 'saturation',\r\n    14: 'color',\r\n    15: 'luminosity',\r\n  };\r\n\r\n  return function (mode) {\r\n    return blendModeEnums[mode] || '';\r\n  };\r\n}());\r\n\r\n/* exported lineCapEnum, lineJoinEnum */\r\n\r\nvar lineCapEnum = {\r\n  1: 'butt',\r\n  2: 'round',\r\n  3: 'square',\r\n};\r\n\r\nvar lineJoinEnum = {\r\n  1: 'miter',\r\n  2: 'round',\r\n  3: 'bevel',\r\n};\r\n\r\n/* global createTypedArray */\r\n\r\n/*!\r\n Transformation Matrix v2.0\r\n (c) Epistemex 2014-2015\r\n www.epistemex.com\r\n By Ken Fyrstenberg\r\n Contributions by leeoniya.\r\n License: MIT, header required.\r\n */\r\n\r\n/**\r\n * 2D transformation matrix object initialized with identity matrix.\r\n *\r\n * The matrix can synchronize a canvas context by supplying the context\r\n * as an argument, or later apply current absolute transform to an\r\n * existing context.\r\n *\r\n * All values are handled as floating point values.\r\n *\r\n * @param {CanvasRenderingContext2D} [context] - Optional context to sync with Matrix\r\n * @prop {number} a - scale x\r\n * @prop {number} b - shear y\r\n * @prop {number} c - shear x\r\n * @prop {number} d - scale y\r\n * @prop {number} e - translate x\r\n * @prop {number} f - translate y\r\n * @prop {CanvasRenderingContext2D|null} [context=null] - set or get current canvas context\r\n * @constructor\r\n */\r\n\r\nvar Matrix = (function () {\r\n  var _cos = Math.cos;\r\n  var _sin = Math.sin;\r\n  var _tan = Math.tan;\r\n  var _rnd = Math.round;\r\n\r\n  function reset() {\r\n    this.props[0] = 1;\r\n    this.props[1] = 0;\r\n    this.props[2] = 0;\r\n    this.props[3] = 0;\r\n    this.props[4] = 0;\r\n    this.props[5] = 1;\r\n    this.props[6] = 0;\r\n    this.props[7] = 0;\r\n    this.props[8] = 0;\r\n    this.props[9] = 0;\r\n    this.props[10] = 1;\r\n    this.props[11] = 0;\r\n    this.props[12] = 0;\r\n    this.props[13] = 0;\r\n    this.props[14] = 0;\r\n    this.props[15] = 1;\r\n    return this;\r\n  }\r\n\r\n  function rotate(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateX(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(1, 0, 0, 0, 0, mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateY(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, 0, mSin, 0, 0, 1, 0, 0, -mSin, 0, mCos, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function rotateZ(angle) {\r\n    if (angle === 0) {\r\n      return this;\r\n    }\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function shear(sx, sy) {\r\n    return this._t(1, sy, sx, 1, 0, 0);\r\n  }\r\n\r\n  function skew(ax, ay) {\r\n    return this.shear(_tan(ax), _tan(ay));\r\n  }\r\n\r\n  function skewFromAxis(ax, angle) {\r\n    var mCos = _cos(angle);\r\n    var mSin = _sin(angle);\r\n    return this._t(mCos, mSin, 0, 0, -mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(1, 0, 0, 0, _tan(ax), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1)\r\n      ._t(mCos, -mSin, 0, 0, mSin, mCos, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1);\r\n    // return this._t(mCos, mSin, -mSin, mCos, 0, 0)._t(1, 0, _tan(ax), 1, 0, 0)._t(mCos, -mSin, mSin, mCos, 0, 0);\r\n  }\r\n\r\n  function scale(sx, sy, sz) {\r\n    if (!sz && sz !== 0) {\r\n      sz = 1;\r\n    }\r\n    if (sx === 1 && sy === 1 && sz === 1) {\r\n      return this;\r\n    }\r\n    return this._t(sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1);\r\n  }\r\n\r\n  function setTransform(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {\r\n    this.props[0] = a;\r\n    this.props[1] = b;\r\n    this.props[2] = c;\r\n    this.props[3] = d;\r\n    this.props[4] = e;\r\n    this.props[5] = f;\r\n    this.props[6] = g;\r\n    this.props[7] = h;\r\n    this.props[8] = i;\r\n    this.props[9] = j;\r\n    this.props[10] = k;\r\n    this.props[11] = l;\r\n    this.props[12] = m;\r\n    this.props[13] = n;\r\n    this.props[14] = o;\r\n    this.props[15] = p;\r\n    return this;\r\n  }\r\n\r\n  function translate(tx, ty, tz) {\r\n    tz = tz || 0;\r\n    if (tx !== 0 || ty !== 0 || tz !== 0) {\r\n      return this._t(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1);\r\n    }\r\n    return this;\r\n  }\r\n\r\n  function transform(a2, b2, c2, d2, e2, f2, g2, h2, i2, j2, k2, l2, m2, n2, o2, p2) {\r\n    var _p = this.props;\r\n\r\n    if (a2 === 1 && b2 === 0 && c2 === 0 && d2 === 0 && e2 === 0 && f2 === 1 && g2 === 0 && h2 === 0 && i2 === 0 && j2 === 0 && k2 === 1 && l2 === 0) {\r\n      // NOTE: commenting this condition because TurboFan deoptimizes code when present\r\n      // if(m2 !== 0 || n2 !== 0 || o2 !== 0){\r\n      _p[12] = _p[12] * a2 + _p[15] * m2;\r\n      _p[13] = _p[13] * f2 + _p[15] * n2;\r\n      _p[14] = _p[14] * k2 + _p[15] * o2;\r\n      _p[15] *= p2;\r\n      // }\r\n      this._identityCalculated = false;\r\n      return this;\r\n    }\r\n\r\n    var a1 = _p[0];\r\n    var b1 = _p[1];\r\n    var c1 = _p[2];\r\n    var d1 = _p[3];\r\n    var e1 = _p[4];\r\n    var f1 = _p[5];\r\n    var g1 = _p[6];\r\n    var h1 = _p[7];\r\n    var i1 = _p[8];\r\n    var j1 = _p[9];\r\n    var k1 = _p[10];\r\n    var l1 = _p[11];\r\n    var m1 = _p[12];\r\n    var n1 = _p[13];\r\n    var o1 = _p[14];\r\n    var p1 = _p[15];\r\n\r\n    /* matrix order (canvas compatible):\r\n         * ace\r\n         * bdf\r\n         * 001\r\n         */\r\n    _p[0] = a1 * a2 + b1 * e2 + c1 * i2 + d1 * m2;\r\n    _p[1] = a1 * b2 + b1 * f2 + c1 * j2 + d1 * n2;\r\n    _p[2] = a1 * c2 + b1 * g2 + c1 * k2 + d1 * o2;\r\n    _p[3] = a1 * d2 + b1 * h2 + c1 * l2 + d1 * p2;\r\n\r\n    _p[4] = e1 * a2 + f1 * e2 + g1 * i2 + h1 * m2;\r\n    _p[5] = e1 * b2 + f1 * f2 + g1 * j2 + h1 * n2;\r\n    _p[6] = e1 * c2 + f1 * g2 + g1 * k2 + h1 * o2;\r\n    _p[7] = e1 * d2 + f1 * h2 + g1 * l2 + h1 * p2;\r\n\r\n    _p[8] = i1 * a2 + j1 * e2 + k1 * i2 + l1 * m2;\r\n    _p[9] = i1 * b2 + j1 * f2 + k1 * j2 + l1 * n2;\r\n    _p[10] = i1 * c2 + j1 * g2 + k1 * k2 + l1 * o2;\r\n    _p[11] = i1 * d2 + j1 * h2 + k1 * l2 + l1 * p2;\r\n\r\n    _p[12] = m1 * a2 + n1 * e2 + o1 * i2 + p1 * m2;\r\n    _p[13] = m1 * b2 + n1 * f2 + o1 * j2 + p1 * n2;\r\n    _p[14] = m1 * c2 + n1 * g2 + o1 * k2 + p1 * o2;\r\n    _p[15] = m1 * d2 + n1 * h2 + o1 * l2 + p1 * p2;\r\n\r\n    this._identityCalculated = false;\r\n    return this;\r\n  }\r\n\r\n  function isIdentity() {\r\n    if (!this._identityCalculated) {\r\n      this._identity = !(this.props[0] !== 1 || this.props[1] !== 0 || this.props[2] !== 0 || this.props[3] !== 0 || this.props[4] !== 0 || this.props[5] !== 1 || this.props[6] !== 0 || this.props[7] !== 0 || this.props[8] !== 0 || this.props[9] !== 0 || this.props[10] !== 1 || this.props[11] !== 0 || this.props[12] !== 0 || this.props[13] !== 0 || this.props[14] !== 0 || this.props[15] !== 1);\r\n      this._identityCalculated = true;\r\n    }\r\n    return this._identity;\r\n  }\r\n\r\n  function equals(matr) {\r\n    var i = 0;\r\n    while (i < 16) {\r\n      if (matr.props[i] !== this.props[i]) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function clone(matr) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      matr.props[i] = this.props[i];\r\n    }\r\n    return matr;\r\n  }\r\n\r\n  function cloneFromProps(props) {\r\n    var i;\r\n    for (i = 0; i < 16; i += 1) {\r\n      this.props[i] = props[i];\r\n    }\r\n  }\r\n\r\n  function applyToPoint(x, y, z) {\r\n    return {\r\n      x: x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n      y: x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n      z: x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n    };\r\n    /* return {\r\n         x: x * me.a + y * me.c + me.e,\r\n         y: x * me.b + y * me.d + me.f\r\n         }; */\r\n  }\r\n  function applyToX(x, y, z) {\r\n    return x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12];\r\n  }\r\n  function applyToY(x, y, z) {\r\n    return x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13];\r\n  }\r\n  function applyToZ(x, y, z) {\r\n    return x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14];\r\n  }\r\n\r\n  function getInverseMatrix() {\r\n    var determinant = this.props[0] * this.props[5] - this.props[1] * this.props[4];\r\n    var a = this.props[5] / determinant;\r\n    var b = -this.props[1] / determinant;\r\n    var c = -this.props[4] / determinant;\r\n    var d = this.props[0] / determinant;\r\n    var e = (this.props[4] * this.props[13] - this.props[5] * this.props[12]) / determinant;\r\n    var f = -(this.props[0] * this.props[13] - this.props[1] * this.props[12]) / determinant;\r\n    var inverseMatrix = new Matrix();\r\n    inverseMatrix.props[0] = a;\r\n    inverseMatrix.props[1] = b;\r\n    inverseMatrix.props[4] = c;\r\n    inverseMatrix.props[5] = d;\r\n    inverseMatrix.props[12] = e;\r\n    inverseMatrix.props[13] = f;\r\n    return inverseMatrix;\r\n  }\r\n\r\n  function inversePoint(pt) {\r\n    var inverseMatrix = this.getInverseMatrix();\r\n    return inverseMatrix.applyToPointArray(pt[0], pt[1], pt[2] || 0);\r\n  }\r\n\r\n  function inversePoints(pts) {\r\n    var i;\r\n    var len = pts.length;\r\n    var retPts = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      retPts[i] = inversePoint(pts[i]);\r\n    }\r\n    return retPts;\r\n  }\r\n\r\n  function applyToTriplePoints(pt1, pt2, pt3) {\r\n    var arr = createTypedArray('float32', 6);\r\n    if (this.isIdentity()) {\r\n      arr[0] = pt1[0];\r\n      arr[1] = pt1[1];\r\n      arr[2] = pt2[0];\r\n      arr[3] = pt2[1];\r\n      arr[4] = pt3[0];\r\n      arr[5] = pt3[1];\r\n    } else {\r\n      var p0 = this.props[0];\r\n      var p1 = this.props[1];\r\n      var p4 = this.props[4];\r\n      var p5 = this.props[5];\r\n      var p12 = this.props[12];\r\n      var p13 = this.props[13];\r\n      arr[0] = pt1[0] * p0 + pt1[1] * p4 + p12;\r\n      arr[1] = pt1[0] * p1 + pt1[1] * p5 + p13;\r\n      arr[2] = pt2[0] * p0 + pt2[1] * p4 + p12;\r\n      arr[3] = pt2[0] * p1 + pt2[1] * p5 + p13;\r\n      arr[4] = pt3[0] * p0 + pt3[1] * p4 + p12;\r\n      arr[5] = pt3[0] * p1 + pt3[1] * p5 + p13;\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointArray(x, y, z) {\r\n    var arr;\r\n    if (this.isIdentity()) {\r\n      arr = [x, y, z];\r\n    } else {\r\n      arr = [\r\n        x * this.props[0] + y * this.props[4] + z * this.props[8] + this.props[12],\r\n        x * this.props[1] + y * this.props[5] + z * this.props[9] + this.props[13],\r\n        x * this.props[2] + y * this.props[6] + z * this.props[10] + this.props[14],\r\n      ];\r\n    }\r\n    return arr;\r\n  }\r\n\r\n  function applyToPointStringified(x, y) {\r\n    if (this.isIdentity()) {\r\n      return x + ',' + y;\r\n    }\r\n    var _p = this.props;\r\n    return Math.round((x * _p[0] + y * _p[4] + _p[12]) * 100) / 100 + ',' + Math.round((x * _p[1] + y * _p[5] + _p[13]) * 100) / 100;\r\n  }\r\n\r\n  function toCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var i = 0;\r\n    var props = this.props;\r\n    var cssValue = 'matrix3d(';\r\n    var v = 10000;\r\n    while (i < 16) {\r\n      cssValue += _rnd(props[i] * v) / v;\r\n      cssValue += i === 15 ? ')' : ',';\r\n      i += 1;\r\n    }\r\n    return cssValue;\r\n  }\r\n\r\n  function roundMatrixProperty(val) {\r\n    var v = 10000;\r\n    if ((val < 0.000001 && val > 0) || (val > -0.000001 && val < 0)) {\r\n      return _rnd(val * v) / v;\r\n    }\r\n    return val;\r\n  }\r\n\r\n  function to2dCSS() {\r\n    // Doesn't make much sense to add this optimization. If it is an identity matrix, it's very likely this will get called only once since it won't be keyframed.\r\n    /* if(this.isIdentity()) {\r\n            return '';\r\n        } */\r\n    var props = this.props;\r\n    var _a = roundMatrixProperty(props[0]);\r\n    var _b = roundMatrixProperty(props[1]);\r\n    var _c = roundMatrixProperty(props[4]);\r\n    var _d = roundMatrixProperty(props[5]);\r\n    var _e = roundMatrixProperty(props[12]);\r\n    var _f = roundMatrixProperty(props[13]);\r\n    return 'matrix(' + _a + ',' + _b + ',' + _c + ',' + _d + ',' + _e + ',' + _f + ')';\r\n  }\r\n\r\n  return function () {\r\n    this.reset = reset;\r\n    this.rotate = rotate;\r\n    this.rotateX = rotateX;\r\n    this.rotateY = rotateY;\r\n    this.rotateZ = rotateZ;\r\n    this.skew = skew;\r\n    this.skewFromAxis = skewFromAxis;\r\n    this.shear = shear;\r\n    this.scale = scale;\r\n    this.setTransform = setTransform;\r\n    this.translate = translate;\r\n    this.transform = transform;\r\n    this.applyToPoint = applyToPoint;\r\n    this.applyToX = applyToX;\r\n    this.applyToY = applyToY;\r\n    this.applyToZ = applyToZ;\r\n    this.applyToPointArray = applyToPointArray;\r\n    this.applyToTriplePoints = applyToTriplePoints;\r\n    this.applyToPointStringified = applyToPointStringified;\r\n    this.toCSS = toCSS;\r\n    this.to2dCSS = to2dCSS;\r\n    this.clone = clone;\r\n    this.cloneFromProps = cloneFromProps;\r\n    this.equals = equals;\r\n    this.inversePoints = inversePoints;\r\n    this.inversePoint = inversePoint;\r\n    this.getInverseMatrix = getInverseMatrix;\r\n    this._t = this.transform;\r\n    this.isIdentity = isIdentity;\r\n    this._identity = true;\r\n    this._identityCalculated = false;\r\n\r\n    this.props = createTypedArray('float32', 16);\r\n    this.reset();\r\n  };\r\n}());\r\n\r\n/* eslint-disable */\r\n/*\r\n Copyright 2014 David Bau.\r\n\r\n Permission is hereby granted, free of charge, to any person obtaining\r\n a copy of this software and associated documentation files (the\r\n \"Software\"), to deal in the Software without restriction, including\r\n without limitation the rights to use, copy, modify, merge, publish,\r\n distribute, sublicense, and/or sell copies of the Software, and to\r\n permit persons to whom the Software is furnished to do so, subject to\r\n the following conditions:\r\n\r\n The above copyright notice and this permission notice shall be\r\n included in all copies or substantial portions of the Software.\r\n\r\n THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\r\n MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\r\n IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY\r\n CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT,\r\n TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE\r\n SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n\r\n */\r\n\r\n(function (pool, math) {\r\n//\r\n// The following constants are related to IEEE 754 limits.\r\n//\r\n    var global = this,\r\n        width = 256,        // each RC4 output is 0 <= x < 256\r\n        chunks = 6,         // at least six RC4 outputs for each double\r\n        digits = 52,        // there are 52 significant digits in a double\r\n        rngname = 'random', // rngname: name for Math.random and Math.seedrandom\r\n        startdenom = math.pow(width, chunks),\r\n        significance = math.pow(2, digits),\r\n        overflow = significance * 2,\r\n        mask = width - 1,\r\n        nodecrypto;         // node.js crypto module, initialized at the bottom.\r\n\r\n//\r\n// seedrandom()\r\n// This is the seedrandom function described above.\r\n//\r\n    function seedrandom(seed, options, callback) {\r\n        var key = [];\r\n        options = (options === true) ? { entropy: true } : (options || {});\r\n\r\n        // Flatten the seed string or build one from local entropy if needed.\r\n        var shortseed = mixkey(flatten(\r\n            options.entropy ? [seed, tostring(pool)] :\r\n                (seed === null) ? autoseed() : seed, 3), key);\r\n\r\n        // Use the seed to initialize an ARC4 generator.\r\n        var arc4 = new ARC4(key);\r\n\r\n        // This function returns a random double in [0, 1) that contains\r\n        // randomness in every bit of the mantissa of the IEEE 754 value.\r\n        var prng = function() {\r\n            var n = arc4.g(chunks),             // Start with a numerator n < 2 ^ 48\r\n                d = startdenom,                 //   and denominator d = 2 ^ 48.\r\n                x = 0;                          //   and no 'extra last byte'.\r\n            while (n < significance) {          // Fill up all significant digits by\r\n                n = (n + x) * width;              //   shifting numerator and\r\n                d *= width;                       //   denominator and generating a\r\n                x = arc4.g(1);                    //   new least-significant-byte.\r\n            }\r\n            while (n >= overflow) {             // To avoid rounding up, before adding\r\n                n /= 2;                           //   last byte, shift everything\r\n                d /= 2;                           //   right using integer math until\r\n                x >>>= 1;                         //   we have exactly the desired bits.\r\n            }\r\n            return (n + x) / d;                 // Form the number within [0, 1).\r\n        };\r\n\r\n        prng.int32 = function() { return arc4.g(4) | 0; };\r\n        prng.quick = function() { return arc4.g(4) / 0x100000000; };\r\n        prng.double = prng;\r\n\r\n        // Mix the randomness into accumulated entropy.\r\n        mixkey(tostring(arc4.S), pool);\r\n\r\n        // Calling convention: what to return as a function of prng, seed, is_math.\r\n        return (options.pass || callback ||\r\n        function(prng, seed, is_math_call, state) {\r\n            if (state) {\r\n                // Load the arc4 state from the given state if it has an S array.\r\n                if (state.S) { copy(state, arc4); }\r\n                // Only provide the .state method if requested via options.state.\r\n                prng.state = function() { return copy(arc4, {}); };\r\n            }\r\n\r\n            // If called as a method of Math (Math.seedrandom()), mutate\r\n            // Math.random because that is how seedrandom.js has worked since v1.0.\r\n            if (is_math_call) { math[rngname] = prng; return seed; }\r\n\r\n            // Otherwise, it is a newer calling convention, so return the\r\n            // prng directly.\r\n            else return prng;\r\n        })(\r\n            prng,\r\n            shortseed,\r\n            'global' in options ? options.global : (this == math),\r\n            options.state);\r\n    }\r\n    math['seed' + rngname] = seedrandom;\r\n\r\n//\r\n// ARC4\r\n//\r\n// An ARC4 implementation.  The constructor takes a key in the form of\r\n// an array of at most (width) integers that should be 0 <= x < (width).\r\n//\r\n// The g(count) method returns a pseudorandom integer that concatenates\r\n// the next (count) outputs from ARC4.  Its return value is a number x\r\n// that is in the range 0 <= x < (width ^ count).\r\n//\r\n    function ARC4(key) {\r\n        var t, keylen = key.length,\r\n            me = this, i = 0, j = me.i = me.j = 0, s = me.S = [];\r\n\r\n        // The empty key [] is treated as [0].\r\n        if (!keylen) { key = [keylen++]; }\r\n\r\n        // Set up S using the standard key scheduling algorithm.\r\n        while (i < width) {\r\n            s[i] = i++;\r\n        }\r\n        for (i = 0; i < width; i++) {\r\n            s[i] = s[j = mask & (j + key[i % keylen] + (t = s[i]))];\r\n            s[j] = t;\r\n        }\r\n\r\n        // The \"g\" method returns the next (count) outputs as one number.\r\n        me.g = function(count) {\r\n            // Using instance members instead of closure state nearly doubles speed.\r\n            var t, r = 0,\r\n                i = me.i, j = me.j, s = me.S;\r\n            while (count--) {\r\n                t = s[i = mask & (i + 1)];\r\n                r = r * width + s[mask & ((s[i] = s[j = mask & (j + t)]) + (s[j] = t))];\r\n            }\r\n            me.i = i; me.j = j;\r\n            return r;\r\n            // For robust unpredictability, the function call below automatically\r\n            // discards an initial batch of values.  This is called RC4-drop[256].\r\n            // See http://google.com/search?q=rsa+fluhrer+response&btnI\r\n        };\r\n    }\r\n\r\n//\r\n// copy()\r\n// Copies internal state of ARC4 to or from a plain object.\r\n//\r\n    function copy(f, t) {\r\n        t.i = f.i;\r\n        t.j = f.j;\r\n        t.S = f.S.slice();\r\n        return t;\r\n    }\r\n\r\n//\r\n// flatten()\r\n// Converts an object tree to nested arrays of strings.\r\n//\r\n    function flatten(obj, depth) {\r\n        var result = [], typ = (typeof obj), prop;\r\n        if (depth && typ == 'object') {\r\n            for (prop in obj) {\r\n                try { result.push(flatten(obj[prop], depth - 1)); } catch (e) {}\r\n            }\r\n        }\r\n        return (result.length ? result : typ == 'string' ? obj : obj + '\\0');\r\n    }\r\n\r\n//\r\n// mixkey()\r\n// Mixes a string seed into a key that is an array of integers, and\r\n// returns a shortened string seed that is equivalent to the result key.\r\n//\r\n    function mixkey(seed, key) {\r\n        var stringseed = seed + '', smear, j = 0;\r\n        while (j < stringseed.length) {\r\n            key[mask & j] =\r\n                mask & ((smear ^= key[mask & j] * 19) + stringseed.charCodeAt(j++));\r\n        }\r\n        return tostring(key);\r\n    }\r\n\r\n//\r\n// autoseed()\r\n// Returns an object for autoseeding, using window.crypto and Node crypto\r\n// module if available.\r\n//\r\n    function autoseed() {\r\n        try {\r\n            if (nodecrypto) { return tostring(nodecrypto.randomBytes(width)); }\r\n            var out = new Uint8Array(width);\r\n            (global.crypto || global.msCrypto).getRandomValues(out);\r\n            return tostring(out);\r\n        } catch (e) {\r\n            var browser = global.navigator,\r\n                plugins = browser && browser.plugins;\r\n            return [+new Date(), global, plugins, global.screen, tostring(pool)];\r\n        }\r\n    }\r\n\r\n//\r\n// tostring()\r\n// Converts an array of charcodes to a string\r\n//\r\n    function tostring(a) {\r\n        return String.fromCharCode.apply(0, a);\r\n    }\r\n\r\n//\r\n// When seedrandom.js is loaded, we immediately mix a few bits\r\n// from the built-in RNG into the entropy pool.  Because we do\r\n// not want to interfere with deterministic PRNG state later,\r\n// seedrandom will not call math.random on its own again after\r\n// initialization.\r\n//\r\n    mixkey(math.random(), pool);\r\n\r\n//\r\n// Nodejs and AMD support: export the implementation as a module using\r\n// either convention.\r\n//\r\n\r\n// End anonymous scope, and pass initial values.\r\n})(\r\n    [],     // pool: entropy pool starts empty\r\n    BMMath    // math: package containing random, pow, and seedrandom\r\n);\r\n/* eslint-disable */\r\nvar BezierFactory = (function () {\r\n  /**\r\n     * BezierEasing - use bezier curve for transition easing function\r\n     * by Gatan Renaudeau 2014 - 2015  MIT License\r\n     *\r\n     * Credits: is based on Firefox's nsSMILKeySpline.cpp\r\n     * Usage:\r\n     * var spline = BezierEasing([ 0.25, 0.1, 0.25, 1.0 ])\r\n     * spline.get(x) => returns the easing value | x must be in [0, 1] range\r\n     *\r\n     */\r\n\r\n  var ob = {};\r\n  ob.getBezierEasing = getBezierEasing;\r\n  var beziers = {};\r\n\r\n  function getBezierEasing(a, b, c, d, nm) {\r\n    var str = nm || ('bez_' + a + '_' + b + '_' + c + '_' + d).replace(/\\./g, 'p');\r\n    if (beziers[str]) {\r\n      return beziers[str];\r\n    }\r\n    var bezEasing = new BezierEasing([a, b, c, d]);\r\n    beziers[str] = bezEasing;\r\n    return bezEasing;\r\n  }\r\n\r\n  // These values are established by empiricism with tests (tradeoff: performance VS precision)\r\n  var NEWTON_ITERATIONS = 4;\r\n  var NEWTON_MIN_SLOPE = 0.001;\r\n  var SUBDIVISION_PRECISION = 0.0000001;\r\n  var SUBDIVISION_MAX_ITERATIONS = 10;\r\n\r\n  var kSplineTableSize = 11;\r\n  var kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\r\n\r\n  var float32ArraySupported = typeof Float32Array === 'function';\r\n\r\n  function A(aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1; }\r\n  function B(aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1; }\r\n  function C(aA1) { return 3.0 * aA1; }\r\n\r\n  // Returns x(t) given t, x1, and x2, or y(t) given t, y1, and y2.\r\n  function calcBezier(aT, aA1, aA2) {\r\n    return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\r\n  }\r\n\r\n  // Returns dx/dt given t, x1, and x2, or dy/dt given t, y1, and y2.\r\n  function getSlope(aT, aA1, aA2) {\r\n    return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\r\n  }\r\n\r\n  function binarySubdivide(aX, aA, aB, mX1, mX2) {\r\n    var currentX,\r\n      currentT,\r\n      i = 0;\r\n    do {\r\n      currentT = aA + (aB - aA) / 2.0;\r\n      currentX = calcBezier(currentT, mX1, mX2) - aX;\r\n      if (currentX > 0.0) {\r\n        aB = currentT;\r\n      } else {\r\n        aA = currentT;\r\n      }\r\n    } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\r\n    return currentT;\r\n  }\r\n\r\n  function newtonRaphsonIterate(aX, aGuessT, mX1, mX2) {\r\n    for (var i = 0; i < NEWTON_ITERATIONS; ++i) {\r\n      var currentSlope = getSlope(aGuessT, mX1, mX2);\r\n      if (currentSlope === 0.0) return aGuessT;\r\n      var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\r\n      aGuessT -= currentX / currentSlope;\r\n    }\r\n    return aGuessT;\r\n  }\r\n\r\n  /**\r\n     * points is an array of [ mX1, mY1, mX2, mY2 ]\r\n     */\r\n  function BezierEasing(points) {\r\n    this._p = points;\r\n    this._mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\r\n    this._precomputed = false;\r\n\r\n    this.get = this.get.bind(this);\r\n  }\r\n\r\n  BezierEasing.prototype = {\r\n\r\n    get: function (x) {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      if (!this._precomputed) this._precompute();\r\n      if (mX1 === mY1 && mX2 === mY2) return x; // linear\r\n      // Because JavaScript number are imprecise, we should guarantee the extremes are right.\r\n      if (x === 0) return 0;\r\n      if (x === 1) return 1;\r\n      return calcBezier(this._getTForX(x), mY1, mY2);\r\n    },\r\n\r\n    // Private part\r\n\r\n    _precompute: function () {\r\n      var mX1 = this._p[0],\r\n        mY1 = this._p[1],\r\n        mX2 = this._p[2],\r\n        mY2 = this._p[3];\r\n      this._precomputed = true;\r\n      if (mX1 !== mY1 || mX2 !== mY2) { this._calcSampleValues(); }\r\n    },\r\n\r\n    _calcSampleValues: function () {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2];\r\n      for (var i = 0; i < kSplineTableSize; ++i) {\r\n        this._mSampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\r\n      }\r\n    },\r\n\r\n    /**\r\n         * getTForX chose the fastest heuristic to determine the percentage value precisely from a given X projection.\r\n         */\r\n    _getTForX: function (aX) {\r\n      var mX1 = this._p[0],\r\n        mX2 = this._p[2],\r\n        mSampleValues = this._mSampleValues;\r\n\r\n      var intervalStart = 0.0;\r\n      var currentSample = 1;\r\n      var lastSample = kSplineTableSize - 1;\r\n\r\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\r\n        intervalStart += kSampleStepSize;\r\n      }\r\n      --currentSample;\r\n\r\n      // Interpolate to provide an initial guess for t\r\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]);\r\n      var guessForT = intervalStart + dist * kSampleStepSize;\r\n\r\n      var initialSlope = getSlope(guessForT, mX1, mX2);\r\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\r\n        return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\r\n      } if (initialSlope === 0.0) {\r\n        return guessForT;\r\n      }\r\n      return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\r\n    },\r\n  };\r\n\r\n  return ob;\r\n}());\r\n\r\n(function () {\r\n  var lastTime = 0;\r\n  var vendors = ['ms', 'moz', 'webkit', 'o'];\r\n  for (var x = 0; x < vendors.length && !window.requestAnimationFrame; ++x) { // eslint-disable-line no-plusplus\r\n    window.requestAnimationFrame = window[vendors[x] + 'RequestAnimationFrame'];\r\n    window.cancelAnimationFrame = window[vendors[x] + 'CancelAnimationFrame'] || window[vendors[x] + 'CancelRequestAnimationFrame'];\r\n  }\r\n  if (!window.requestAnimationFrame) {\r\n    window.requestAnimationFrame = function (callback) {\r\n      var currTime = new Date().getTime();\r\n      var timeToCall = Math.max(0, 16 - (currTime - lastTime));\r\n      var id = setTimeout(function () {\r\n        callback(currTime + timeToCall);\r\n      },\r\n      timeToCall);\r\n      lastTime = currTime + timeToCall;\r\n      return id;\r\n    };\r\n  }\r\n  if (!window.cancelAnimationFrame) {\r\n    window.cancelAnimationFrame = function (id) {\r\n      clearTimeout(id);\r\n    };\r\n  }\r\n}());\r\n\r\n/* exported extendPrototype, getDescriptor, createProxyFunction */\r\n\r\nfunction extendPrototype(sources, destination) {\r\n  var i;\r\n  var len = sources.length;\r\n  var sourcePrototype;\r\n  for (i = 0; i < len; i += 1) {\r\n    sourcePrototype = sources[i].prototype;\r\n    for (var attr in sourcePrototype) {\r\n      if (Object.prototype.hasOwnProperty.call(sourcePrototype, attr)) destination.prototype[attr] = sourcePrototype[attr];\r\n    }\r\n  }\r\n}\r\n\r\nfunction getDescriptor(object, prop) {\r\n  return Object.getOwnPropertyDescriptor(object, prop);\r\n}\r\n\r\nfunction createProxyFunction(prototype) {\r\n  function ProxyFunction() {}\r\n  ProxyFunction.prototype = prototype;\r\n  return ProxyFunction;\r\n}\r\n\r\n/* global segmentsLengthPool, defaultCurveSegments, createSizedArray, bmPow, bmSqrt, bmFloor, createTypedArray, bezierLengthPool */\r\n/* exported bez */\r\n\r\nfunction bezFunction() {\r\n  var math = Math;\r\n\r\n  function pointOnLine2D(x1, y1, x2, y2, x3, y3) {\r\n    var det1 = (x1 * y2) + (y1 * x3) + (x2 * y3) - (x3 * y2) - (y3 * x1) - (x2 * y1);\r\n    return det1 > -0.001 && det1 < 0.001;\r\n  }\r\n\r\n  function pointOnLine3D(x1, y1, z1, x2, y2, z2, x3, y3, z3) {\r\n    if (z1 === 0 && z2 === 0 && z3 === 0) {\r\n      return pointOnLine2D(x1, y1, x2, y2, x3, y3);\r\n    }\r\n    var dist1 = math.sqrt(math.pow(x2 - x1, 2) + math.pow(y2 - y1, 2) + math.pow(z2 - z1, 2));\r\n    var dist2 = math.sqrt(math.pow(x3 - x1, 2) + math.pow(y3 - y1, 2) + math.pow(z3 - z1, 2));\r\n    var dist3 = math.sqrt(math.pow(x3 - x2, 2) + math.pow(y3 - y2, 2) + math.pow(z3 - z2, 2));\r\n    var diffDist;\r\n    if (dist1 > dist2) {\r\n      if (dist1 > dist3) {\r\n        diffDist = dist1 - dist2 - dist3;\r\n      } else {\r\n        diffDist = dist3 - dist2 - dist1;\r\n      }\r\n    } else if (dist3 > dist2) {\r\n      diffDist = dist3 - dist2 - dist1;\r\n    } else {\r\n      diffDist = dist2 - dist1 - dist3;\r\n    }\r\n    return diffDist > -0.0001 && diffDist < 0.0001;\r\n  }\r\n\r\n  var getBezierLength = (function () {\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var curveSegments = defaultCurveSegments;\r\n      var k;\r\n      var i;\r\n      var len;\r\n      var ptCoord;\r\n      var perc;\r\n      var addedLength = 0;\r\n      var ptDistance;\r\n      var point = [];\r\n      var lastPoint = [];\r\n      var lengthData = bezierLengthPool.newElement();\r\n      len = pt3.length;\r\n      for (k = 0; k < curveSegments; k += 1) {\r\n        perc = k / (curveSegments - 1);\r\n        ptDistance = 0;\r\n        for (i = 0; i < len; i += 1) {\r\n          ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * pt3[i] + 3 * (1 - perc) * bmPow(perc, 2) * pt4[i] + bmPow(perc, 3) * pt2[i];\r\n          point[i] = ptCoord;\r\n          if (lastPoint[i] !== null) {\r\n            ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n          }\r\n          lastPoint[i] = point[i];\r\n        }\r\n        if (ptDistance) {\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n        }\r\n        lengthData.percents[k] = perc;\r\n        lengthData.lengths[k] = addedLength;\r\n      }\r\n      lengthData.addedLength = addedLength;\r\n      return lengthData;\r\n    };\r\n  }());\r\n\r\n  function getSegmentsLength(shapeData) {\r\n    var segmentsLength = segmentsLengthPool.newElement();\r\n    var closed = shapeData.c;\r\n    var pathV = shapeData.v;\r\n    var pathO = shapeData.o;\r\n    var pathI = shapeData.i;\r\n    var i;\r\n    var len = shapeData._length;\r\n    var lengths = segmentsLength.lengths;\r\n    var totalLength = 0;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[i + 1], pathO[i], pathI[i + 1]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    if (closed && len) {\r\n      lengths[i] = getBezierLength(pathV[i], pathV[0], pathO[i], pathI[0]);\r\n      totalLength += lengths[i].addedLength;\r\n    }\r\n    segmentsLength.totalLength = totalLength;\r\n    return segmentsLength;\r\n  }\r\n\r\n  function BezierData(length) {\r\n    this.segmentLength = 0;\r\n    this.points = new Array(length);\r\n  }\r\n\r\n  function PointData(partial, point) {\r\n    this.partialLength = partial;\r\n    this.point = point;\r\n  }\r\n\r\n  var buildBezierData = (function () {\r\n    var storedData = {};\r\n\r\n    return function (pt1, pt2, pt3, pt4) {\r\n      var bezierName = (pt1[0] + '_' + pt1[1] + '_' + pt2[0] + '_' + pt2[1] + '_' + pt3[0] + '_' + pt3[1] + '_' + pt4[0] + '_' + pt4[1]).replace(/\\./g, 'p');\r\n      if (!storedData[bezierName]) {\r\n        var curveSegments = defaultCurveSegments;\r\n        var k;\r\n        var i;\r\n        var len;\r\n        var ptCoord;\r\n        var perc;\r\n        var addedLength = 0;\r\n        var ptDistance;\r\n        var point;\r\n        var lastPoint = null;\r\n        if (pt1.length === 2 && (pt1[0] !== pt2[0] || pt1[1] !== pt2[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt1[0] + pt3[0], pt1[1] + pt3[1]) && pointOnLine2D(pt1[0], pt1[1], pt2[0], pt2[1], pt2[0] + pt4[0], pt2[1] + pt4[1])) {\r\n          curveSegments = 2;\r\n        }\r\n        var bezierData = new BezierData(curveSegments);\r\n        len = pt3.length;\r\n        for (k = 0; k < curveSegments; k += 1) {\r\n          point = createSizedArray(len);\r\n          perc = k / (curveSegments - 1);\r\n          ptDistance = 0;\r\n          for (i = 0; i < len; i += 1) {\r\n            ptCoord = bmPow(1 - perc, 3) * pt1[i] + 3 * bmPow(1 - perc, 2) * perc * (pt1[i] + pt3[i]) + 3 * (1 - perc) * bmPow(perc, 2) * (pt2[i] + pt4[i]) + bmPow(perc, 3) * pt2[i];\r\n            point[i] = ptCoord;\r\n            if (lastPoint !== null) {\r\n              ptDistance += bmPow(point[i] - lastPoint[i], 2);\r\n            }\r\n          }\r\n          ptDistance = bmSqrt(ptDistance);\r\n          addedLength += ptDistance;\r\n          bezierData.points[k] = new PointData(ptDistance, point);\r\n          lastPoint = point;\r\n        }\r\n        bezierData.segmentLength = addedLength;\r\n        storedData[bezierName] = bezierData;\r\n      }\r\n      return storedData[bezierName];\r\n    };\r\n  }());\r\n\r\n  function getDistancePerc(perc, bezierData) {\r\n    var percents = bezierData.percents;\r\n    var lengths = bezierData.lengths;\r\n    var len = percents.length;\r\n    var initPos = bmFloor((len - 1) * perc);\r\n    var lengthPos = perc * bezierData.addedLength;\r\n    var lPerc = 0;\r\n    if (initPos === len - 1 || initPos === 0 || lengthPos === lengths[initPos]) {\r\n      return percents[initPos];\r\n    }\r\n    var dir = lengths[initPos] > lengthPos ? -1 : 1;\r\n    var flag = true;\r\n    while (flag) {\r\n      if (lengths[initPos] <= lengthPos && lengths[initPos + 1] > lengthPos) {\r\n        lPerc = (lengthPos - lengths[initPos]) / (lengths[initPos + 1] - lengths[initPos]);\r\n        flag = false;\r\n      } else {\r\n        initPos += dir;\r\n      }\r\n      if (initPos < 0 || initPos >= len - 1) {\r\n        // FIX for TypedArrays that don't store floating point values with enough accuracy\r\n        if (initPos === len - 1) {\r\n          return percents[initPos];\r\n        }\r\n        flag = false;\r\n      }\r\n    }\r\n    return percents[initPos] + (percents[initPos + 1] - percents[initPos]) * lPerc;\r\n  }\r\n\r\n  function getPointInSegment(pt1, pt2, pt3, pt4, percent, bezierData) {\r\n    var t1 = getDistancePerc(percent, bezierData);\r\n    var u1 = 1 - t1;\r\n    var ptX = math.round((u1 * u1 * u1 * pt1[0] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[0] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[0] + t1 * t1 * t1 * pt2[0]) * 1000) / 1000;\r\n    var ptY = math.round((u1 * u1 * u1 * pt1[1] + (t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1) * pt3[1] + (t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1) * pt4[1] + t1 * t1 * t1 * pt2[1]) * 1000) / 1000;\r\n    return [ptX, ptY];\r\n  }\r\n\r\n  var bezierSegmentPoints = createTypedArray('float32', 8);\r\n\r\n  function getNewSegment(pt1, pt2, pt3, pt4, startPerc, endPerc, bezierData) {\r\n    if (startPerc < 0) {\r\n      startPerc = 0;\r\n    } else if (startPerc > 1) {\r\n      startPerc = 1;\r\n    }\r\n    var t0 = getDistancePerc(startPerc, bezierData);\r\n    endPerc = endPerc > 1 ? 1 : endPerc;\r\n    var t1 = getDistancePerc(endPerc, bezierData);\r\n    var i;\r\n    var len = pt1.length;\r\n    var u0 = 1 - t0;\r\n    var u1 = 1 - t1;\r\n    var u0u0u0 = u0 * u0 * u0;\r\n    var t0u0u0_3 = t0 * u0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0u0_3 = t0 * t0 * u0 * 3; // eslint-disable-line camelcase\r\n    var t0t0t0 = t0 * t0 * t0;\r\n    //\r\n    var u0u0u1 = u0 * u0 * u1;\r\n    var t0u0u1_3 = t0 * u0 * u1 + u0 * t0 * u1 + u0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0u1_3 = t0 * t0 * u1 + u0 * t0 * t1 + t0 * u0 * t1; // eslint-disable-line camelcase\r\n    var t0t0t1 = t0 * t0 * t1;\r\n    //\r\n    var u0u1u1 = u0 * u1 * u1;\r\n    var t0u1u1_3 = t0 * u1 * u1 + u0 * t1 * u1 + u0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1u1_3 = t0 * t1 * u1 + u0 * t1 * t1 + t0 * u1 * t1; // eslint-disable-line camelcase\r\n    var t0t1t1 = t0 * t1 * t1;\r\n    //\r\n    var u1u1u1 = u1 * u1 * u1;\r\n    var t1u1u1_3 = t1 * u1 * u1 + u1 * t1 * u1 + u1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1u1_3 = t1 * t1 * u1 + u1 * t1 * t1 + t1 * u1 * t1; // eslint-disable-line camelcase\r\n    var t1t1t1 = t1 * t1 * t1;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierSegmentPoints[i * 4] = math.round((u0u0u0 * pt1[i] + t0u0u0_3 * pt3[i] + t0t0u0_3 * pt4[i] + t0t0t0 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 1] = math.round((u0u0u1 * pt1[i] + t0u0u1_3 * pt3[i] + t0t0u1_3 * pt4[i] + t0t0t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 2] = math.round((u0u1u1 * pt1[i] + t0u1u1_3 * pt3[i] + t0t1u1_3 * pt4[i] + t0t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n      bezierSegmentPoints[i * 4 + 3] = math.round((u1u1u1 * pt1[i] + t1u1u1_3 * pt3[i] + t1t1u1_3 * pt4[i] + t1t1t1 * pt2[i]) * 1000) / 1000; // eslint-disable-line camelcase\r\n    }\r\n\r\n    return bezierSegmentPoints;\r\n  }\r\n\r\n  return {\r\n    getSegmentsLength: getSegmentsLength,\r\n    getNewSegment: getNewSegment,\r\n    getPointInSegment: getPointInSegment,\r\n    buildBezierData: buildBezierData,\r\n    pointOnLine2D: pointOnLine2D,\r\n    pointOnLine3D: pointOnLine3D,\r\n  };\r\n}\r\n\r\nvar bez = bezFunction();\r\n\r\n/* global _useWebWorker */\r\n\r\nvar dataManager = (function () {\r\n  var _counterId = 1;\r\n  var processes = [];\r\n  var workerFn;\r\n  var workerInstance;\r\n  var workerProxy = {\r\n    onmessage: function () {\r\n\r\n    },\r\n    postMessage: function (path) {\r\n      workerFn({\r\n        data: path,\r\n      });\r\n    },\r\n  };\r\n  var _workerSelf = {\r\n    postMessage: function (data) {\r\n      workerProxy.onmessage({\r\n        data: data,\r\n      });\r\n    },\r\n  };\r\n  function createWorker(fn) {\r\n    if (window.Worker && window.Blob && _useWebWorker) {\r\n      var blob = new Blob(['var _workerSelf = self; self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      // var blob = new Blob(['self.onmessage = ', fn.toString()], { type: 'text/javascript' });\r\n      var url = URL.createObjectURL(blob);\r\n      return new Worker(url);\r\n    }\r\n    workerFn = fn;\r\n    return workerProxy;\r\n  }\r\n\r\n  function setupWorker() {\r\n    if (!workerInstance) {\r\n      workerInstance = createWorker(function workerStart(e) {\r\n        /* exported dataManager */\r\n\r\n        function dataFunctionManager() {\r\n          // var tCanvasHelper = createTag('canvas').getContext('2d');\r\n\r\n          function completeLayers(layers, comps) {\r\n            var layerData;\r\n            var i;\r\n            var len = layers.length;\r\n            var j;\r\n            var jLen;\r\n            var k;\r\n            var kLen;\r\n            for (i = 0; i < len; i += 1) {\r\n              layerData = layers[i];\r\n              if (('ks' in layerData) && !layerData.completed) {\r\n                layerData.completed = true;\r\n                if (layerData.tt) {\r\n                  layers[i - 1].td = layerData.tt;\r\n                }\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      convertPathsToAbsoluteValues(maskProps[j].pt.k);\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].s[0]);\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          convertPathsToAbsoluteValues(maskProps[j].pt.k[k].e[0]);\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 0) {\r\n                  layerData.layers = findCompLayers(layerData.refId, comps);\r\n                  completeLayers(layerData.layers, comps);\r\n                } else if (layerData.ty === 4) {\r\n                  completeShapes(layerData.shapes);\r\n                } else if (layerData.ty === 5) {\r\n                  completeText(layerData);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          function findCompLayers(id, comps) {\r\n            var i = 0;\r\n            var len = comps.length;\r\n            while (i < len) {\r\n              if (comps[i].id === id) {\r\n                if (!comps[i].layers.__used) {\r\n                  comps[i].layers.__used = true;\r\n                  return comps[i].layers;\r\n                }\r\n                return JSON.parse(JSON.stringify(comps[i].layers));\r\n              }\r\n              i += 1;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          function completeShapes(arr) {\r\n            var i;\r\n            var len = arr.length;\r\n            var j;\r\n            var jLen;\r\n            for (i = len - 1; i >= 0; i -= 1) {\r\n              if (arr[i].ty === 'sh') {\r\n                if (arr[i].ks.k.i) {\r\n                  convertPathsToAbsoluteValues(arr[i].ks.k);\r\n                } else {\r\n                  jLen = arr[i].ks.k.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (arr[i].ks.k[j].s) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].s[0]);\r\n                    }\r\n                    if (arr[i].ks.k[j].e) {\r\n                      convertPathsToAbsoluteValues(arr[i].ks.k[j].e[0]);\r\n                    }\r\n                  }\r\n                }\r\n              } else if (arr[i].ty === 'gr') {\r\n                completeShapes(arr[i].it);\r\n              }\r\n            }\r\n          }\r\n\r\n          function convertPathsToAbsoluteValues(path) {\r\n            var i;\r\n            var len = path.i.length;\r\n            for (i = 0; i < len; i += 1) {\r\n              path.i[i][0] += path.v[i][0];\r\n              path.i[i][1] += path.v[i][1];\r\n              path.o[i][0] += path.v[i][0];\r\n              path.o[i][1] += path.v[i][1];\r\n            }\r\n          }\r\n\r\n          function checkVersion(minimum, animVersionString) {\r\n            var animVersion = animVersionString ? animVersionString.split('.') : [100, 100, 100];\r\n            if (minimum[0] > animVersion[0]) {\r\n              return true;\r\n            } if (animVersion[0] > minimum[0]) {\r\n              return false;\r\n            }\r\n            if (minimum[1] > animVersion[1]) {\r\n              return true;\r\n            } if (animVersion[1] > minimum[1]) {\r\n              return false;\r\n            }\r\n            if (minimum[2] > animVersion[2]) {\r\n              return true;\r\n            } if (animVersion[2] > minimum[2]) {\r\n              return false;\r\n            }\r\n            return null;\r\n          }\r\n\r\n          var checkText = (function () {\r\n            var minimumVersion = [4, 4, 14];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var documentData = textLayer.t.d;\r\n              textLayer.t.d = {\r\n                k: [\r\n                  {\r\n                    s: documentData,\r\n                    t: 0,\r\n                  },\r\n                ],\r\n              };\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkChars = (function () {\r\n            var minimumVersion = [4, 7, 99];\r\n            return function (animationData) {\r\n              if (animationData.chars && !checkVersion(minimumVersion, animationData.v)) {\r\n                var i;\r\n                var len = animationData.chars.length;\r\n                var j;\r\n                var jLen;\r\n                var pathData;\r\n                var paths;\r\n                for (i = 0; i < len; i += 1) {\r\n                  if (animationData.chars[i].data && animationData.chars[i].data.shapes) {\r\n                    paths = animationData.chars[i].data.shapes[0].it;\r\n                    jLen = paths.length;\r\n\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      pathData = paths[j].ks.k;\r\n                      if (!pathData.__converted) {\r\n                        convertPathsToAbsoluteValues(paths[j].ks.k);\r\n                        pathData.__converted = true;\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkPathProperties = (function () {\r\n            var minimumVersion = [5, 7, 15];\r\n\r\n            function updateTextLayer(textLayer) {\r\n              var pathData = textLayer.t.p;\r\n              if (typeof pathData.a === 'number') {\r\n                pathData.a = {\r\n                  a: 0,\r\n                  k: pathData.a,\r\n                };\r\n              }\r\n              if (typeof pathData.p === 'number') {\r\n                pathData.p = {\r\n                  a: 0,\r\n                  k: pathData.p,\r\n                };\r\n              }\r\n              if (typeof pathData.r === 'number') {\r\n                pathData.r = {\r\n                  a: 0,\r\n                  k: pathData.r,\r\n                };\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 5) {\r\n                  updateTextLayer(layers[i]);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkColors = (function () {\r\n            var minimumVersion = [4, 1, 9];\r\n\r\n            function iterateShapes(shapes) {\r\n              var i;\r\n              var len = shapes.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (shapes[i].ty === 'gr') {\r\n                  iterateShapes(shapes[i].it);\r\n                } else if (shapes[i].ty === 'fl' || shapes[i].ty === 'st') {\r\n                  if (shapes[i].c.k && shapes[i].c.k[0].i) {\r\n                    jLen = shapes[i].c.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (shapes[i].c.k[j].s) {\r\n                        shapes[i].c.k[j].s[0] /= 255;\r\n                        shapes[i].c.k[j].s[1] /= 255;\r\n                        shapes[i].c.k[j].s[2] /= 255;\r\n                        shapes[i].c.k[j].s[3] /= 255;\r\n                      }\r\n                      if (shapes[i].c.k[j].e) {\r\n                        shapes[i].c.k[j].e[0] /= 255;\r\n                        shapes[i].c.k[j].e[1] /= 255;\r\n                        shapes[i].c.k[j].e[2] /= 255;\r\n                        shapes[i].c.k[j].e[3] /= 255;\r\n                      }\r\n                    }\r\n                  } else {\r\n                    shapes[i].c.k[0] /= 255;\r\n                    shapes[i].c.k[1] /= 255;\r\n                    shapes[i].c.k[2] /= 255;\r\n                    shapes[i].c.k[3] /= 255;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var i;\r\n              var len = layers.length;\r\n              for (i = 0; i < len; i += 1) {\r\n                if (layers[i].ty === 4) {\r\n                  iterateShapes(layers[i].shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          var checkShapes = (function () {\r\n            var minimumVersion = [4, 4, 18];\r\n\r\n            function completeClosingShapes(arr) {\r\n              var i;\r\n              var len = arr.length;\r\n              var j;\r\n              var jLen;\r\n              for (i = len - 1; i >= 0; i -= 1) {\r\n                if (arr[i].ty === 'sh') {\r\n                  if (arr[i].ks.k.i) {\r\n                    arr[i].ks.k.c = arr[i].closed;\r\n                  } else {\r\n                    jLen = arr[i].ks.k.length;\r\n                    for (j = 0; j < jLen; j += 1) {\r\n                      if (arr[i].ks.k[j].s) {\r\n                        arr[i].ks.k[j].s[0].c = arr[i].closed;\r\n                      }\r\n                      if (arr[i].ks.k[j].e) {\r\n                        arr[i].ks.k[j].e[0].c = arr[i].closed;\r\n                      }\r\n                    }\r\n                  }\r\n                } else if (arr[i].ty === 'gr') {\r\n                  completeClosingShapes(arr[i].it);\r\n                }\r\n              }\r\n            }\r\n\r\n            function iterateLayers(layers) {\r\n              var layerData;\r\n              var i;\r\n              var len = layers.length;\r\n              var j;\r\n              var jLen;\r\n              var k;\r\n              var kLen;\r\n              for (i = 0; i < len; i += 1) {\r\n                layerData = layers[i];\r\n                if (layerData.hasMask) {\r\n                  var maskProps = layerData.masksProperties;\r\n                  jLen = maskProps.length;\r\n                  for (j = 0; j < jLen; j += 1) {\r\n                    if (maskProps[j].pt.k.i) {\r\n                      maskProps[j].pt.k.c = maskProps[j].cl;\r\n                    } else {\r\n                      kLen = maskProps[j].pt.k.length;\r\n                      for (k = 0; k < kLen; k += 1) {\r\n                        if (maskProps[j].pt.k[k].s) {\r\n                          maskProps[j].pt.k[k].s[0].c = maskProps[j].cl;\r\n                        }\r\n                        if (maskProps[j].pt.k[k].e) {\r\n                          maskProps[j].pt.k[k].e[0].c = maskProps[j].cl;\r\n                        }\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n                if (layerData.ty === 4) {\r\n                  completeClosingShapes(layerData.shapes);\r\n                }\r\n              }\r\n            }\r\n\r\n            return function (animationData) {\r\n              if (checkVersion(minimumVersion, animationData.v)) {\r\n                iterateLayers(animationData.layers);\r\n                if (animationData.assets) {\r\n                  var i;\r\n                  var len = animationData.assets.length;\r\n                  for (i = 0; i < len; i += 1) {\r\n                    if (animationData.assets[i].layers) {\r\n                      iterateLayers(animationData.assets[i].layers);\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n            };\r\n          }());\r\n\r\n          function completeData(animationData) {\r\n            if (animationData.__complete) {\r\n              return;\r\n            }\r\n            checkColors(animationData);\r\n            checkText(animationData);\r\n            checkChars(animationData);\r\n            checkPathProperties(animationData);\r\n            checkShapes(animationData);\r\n            completeLayers(animationData.layers, animationData.assets);\r\n            animationData.__complete = true;\r\n          }\r\n\r\n          function completeText(data) {\r\n            if (data.t.a.length === 0 && !('m' in data.t.p)) {\r\n              data.singleShape = true;\r\n            }\r\n          }\r\n\r\n          var moduleOb = {};\r\n          moduleOb.completeData = completeData;\r\n          moduleOb.checkColors = checkColors;\r\n          moduleOb.checkChars = checkChars;\r\n          moduleOb.checkPathProperties = checkPathProperties;\r\n          moduleOb.checkShapes = checkShapes;\r\n          moduleOb.completeLayers = completeLayers;\r\n\r\n          return moduleOb;\r\n        }\r\n        if (!_workerSelf.dataManager) {\r\n          _workerSelf.dataManager = dataFunctionManager();\r\n        }\r\n\r\n        /* exported assetLoader */\r\n        if (!_workerSelf.assetLoader) {\r\n          _workerSelf.assetLoader = (function () {\r\n            function formatResponse(xhr) {\r\n              // using typeof doubles the time of execution of this method,\r\n              // so if available, it's better to use the header to validate the type\r\n              var contentTypeHeader = xhr.getResponseHeader('content-type');\r\n              if (contentTypeHeader && xhr.responseType === 'json' && contentTypeHeader.indexOf('json') !== -1) {\r\n                return xhr.response;\r\n              }\r\n              if (xhr.response && typeof xhr.response === 'object') {\r\n                return xhr.response;\r\n              } if (xhr.response && typeof xhr.response === 'string') {\r\n                return JSON.parse(xhr.response);\r\n              } if (xhr.responseText) {\r\n                return JSON.parse(xhr.responseText);\r\n              }\r\n              return null;\r\n            }\r\n\r\n            function loadAsset(path, fullPath, callback, errorCallback) {\r\n              var response;\r\n              var xhr = new XMLHttpRequest();\r\n              // set responseType after calling open or IE will break.\r\n              try {\r\n                // This crashes on Android WebView prior to KitKat\r\n                xhr.responseType = 'json';\r\n              } catch (err) {} // eslint-disable-line no-empty\r\n              xhr.onreadystatechange = function () {\r\n                if (xhr.readyState === 4) {\r\n                  if (xhr.status === 200) {\r\n                    response = formatResponse(xhr);\r\n                    callback(response);\r\n                  } else {\r\n                    try {\r\n                      response = formatResponse(xhr);\r\n                      callback(response);\r\n                    } catch (err) {\r\n                      if (errorCallback) {\r\n                        errorCallback(err);\r\n                      }\r\n                    }\r\n                  }\r\n                }\r\n              };\r\n              try {\r\n                xhr.open('GET', path, true);\r\n              } catch (error) {\r\n                xhr.open('GET', fullPath + '/' + path, true);\r\n              }\r\n              xhr.send();\r\n            }\r\n            return {\r\n              load: loadAsset,\r\n            };\r\n          }());\r\n        }\r\n\r\n        if (e.data.type === 'loadAnimation') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.dataManager.completeData(data);\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        } else if (e.data.type === 'complete') {\r\n          var animation = e.data.animation;\r\n          _workerSelf.dataManager.completeData(animation);\r\n          _workerSelf.postMessage({\r\n            id: e.data.id,\r\n            payload: animation,\r\n            status: 'success',\r\n          });\r\n        } else if (e.data.type === 'loadData') {\r\n          _workerSelf.assetLoader.load(\r\n            e.data.path,\r\n            e.data.fullPath,\r\n            function (data) {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                payload: data,\r\n                status: 'success',\r\n              });\r\n            },\r\n            function () {\r\n              _workerSelf.postMessage({\r\n                id: e.data.id,\r\n                status: 'error',\r\n              });\r\n            }\r\n          );\r\n        }\r\n      });\r\n\r\n      workerInstance.onmessage = function (event) {\r\n        var data = event.data;\r\n        var id = data.id;\r\n        var process = processes[id];\r\n        processes[id] = null;\r\n        if (data.status === 'success') {\r\n          process.onComplete(data.payload);\r\n        } else if (process.onError) {\r\n          process.onError();\r\n        }\r\n      };\r\n    }\r\n  }\r\n\r\n  function createProcess(onComplete, onError) {\r\n    _counterId += 1;\r\n    var id = 'processId_' + _counterId;\r\n    processes[id] = {\r\n      onComplete: onComplete,\r\n      onError: onError,\r\n    };\r\n    return id;\r\n  }\r\n\r\n  function loadAnimation(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadAnimation',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function loadData(path, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'loadData',\r\n      path: path,\r\n      fullPath: window.location.origin + window.location.pathname,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  function completeAnimation(anim, onComplete, onError) {\r\n    setupWorker();\r\n    var processId = createProcess(onComplete, onError);\r\n    workerInstance.postMessage({\r\n      type: 'complete',\r\n      animation: anim,\r\n      id: processId,\r\n    });\r\n  }\r\n\r\n  return {\r\n    loadAnimation: loadAnimation,\r\n    loadData: loadData,\r\n    completeAnimation: completeAnimation,\r\n  };\r\n}());\r\n\r\n/* exported getFontProperties */\r\n\r\nfunction getFontProperties(fontData) {\r\n  var styles = fontData.fStyle ? fontData.fStyle.split(' ') : [];\r\n\r\n  var fWeight = 'normal'; var\r\n    fStyle = 'normal';\r\n  var len = styles.length;\r\n  var styleName;\r\n  for (var i = 0; i < len; i += 1) {\r\n    styleName = styles[i].toLowerCase();\r\n    switch (styleName) {\r\n      case 'italic':\r\n        fStyle = 'italic';\r\n        break;\r\n      case 'bold':\r\n        fWeight = '700';\r\n        break;\r\n      case 'black':\r\n        fWeight = '900';\r\n        break;\r\n      case 'medium':\r\n        fWeight = '500';\r\n        break;\r\n      case 'regular':\r\n      case 'normal':\r\n        fWeight = '400';\r\n        break;\r\n      case 'light':\r\n      case 'thin':\r\n        fWeight = '200';\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n  }\r\n\r\n  return {\r\n    style: fStyle,\r\n    weight: fontData.fWeight || fWeight,\r\n  };\r\n}\r\n\r\n/* global createNS, createTag, getFontProperties */\r\n/* exported FontManager */\r\n\r\nvar FontManager = (function () {\r\n  var maxWaitingTime = 5000;\r\n  var emptyChar = {\r\n    w: 0,\r\n    size: 0,\r\n    shapes: [],\r\n  };\r\n  var combinedCharacters = [];\r\n  // Hindi characters\r\n  combinedCharacters = combinedCharacters.concat([2304, 2305, 2306, 2307, 2362, 2363, 2364, 2364, 2366,\r\n    2367, 2368, 2369, 2370, 2371, 2372, 2373, 2374, 2375, 2376, 2377, 2378, 2379,\r\n    2380, 2381, 2382, 2383, 2387, 2388, 2389, 2390, 2391, 2402, 2403]);\r\n\r\n  var surrogateModifiers = [\r\n    'd83cdffb',\r\n    'd83cdffc',\r\n    'd83cdffd',\r\n    'd83cdffe',\r\n    'd83cdfff',\r\n  ];\r\n\r\n  var zeroWidthJoiner = [65039, 8205];\r\n\r\n  function trimFontOptions(font) {\r\n    var familyArray = font.split(',');\r\n    var i;\r\n    var len = familyArray.length;\r\n    var enabledFamilies = [];\r\n    for (i = 0; i < len; i += 1) {\r\n      if (familyArray[i] !== 'sans-serif' && familyArray[i] !== 'monospace') {\r\n        enabledFamilies.push(familyArray[i]);\r\n      }\r\n    }\r\n    return enabledFamilies.join(',');\r\n  }\r\n\r\n  function setUpNode(font, family) {\r\n    var parentNode = createTag('span');\r\n    // Node is invisible to screen readers.\r\n    parentNode.setAttribute('aria-hidden', true);\r\n    parentNode.style.fontFamily = family;\r\n    var node = createTag('span');\r\n    // Characters that vary significantly among different fonts\r\n    node.innerText = 'giItT1WQy@!-/#';\r\n    // Visible - so we can measure it - but not on the screen\r\n    parentNode.style.position = 'absolute';\r\n    parentNode.style.left = '-10000px';\r\n    parentNode.style.top = '-10000px';\r\n    // Large font size makes even subtle changes obvious\r\n    parentNode.style.fontSize = '300px';\r\n    // Reset any font properties\r\n    parentNode.style.fontVariant = 'normal';\r\n    parentNode.style.fontStyle = 'normal';\r\n    parentNode.style.fontWeight = 'normal';\r\n    parentNode.style.letterSpacing = '0';\r\n    parentNode.appendChild(node);\r\n    document.body.appendChild(parentNode);\r\n\r\n    // Remember width with no applied web font\r\n    var width = node.offsetWidth;\r\n    node.style.fontFamily = trimFontOptions(font) + ', ' + family;\r\n    return { node: node, w: width, parent: parentNode };\r\n  }\r\n\r\n  function checkLoadedFonts() {\r\n    var i;\r\n    var len = this.fonts.length;\r\n    var node;\r\n    var w;\r\n    var loadedCount = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.fonts[i].loaded) {\r\n        loadedCount -= 1;\r\n      } else if (this.fonts[i].fOrigin === 'n' || this.fonts[i].origin === 0) {\r\n        this.fonts[i].loaded = true;\r\n      } else {\r\n        node = this.fonts[i].monoCase.node;\r\n        w = this.fonts[i].monoCase.w;\r\n        if (node.offsetWidth !== w) {\r\n          loadedCount -= 1;\r\n          this.fonts[i].loaded = true;\r\n        } else {\r\n          node = this.fonts[i].sansCase.node;\r\n          w = this.fonts[i].sansCase.w;\r\n          if (node.offsetWidth !== w) {\r\n            loadedCount -= 1;\r\n            this.fonts[i].loaded = true;\r\n          }\r\n        }\r\n        if (this.fonts[i].loaded) {\r\n          this.fonts[i].sansCase.parent.parentNode.removeChild(this.fonts[i].sansCase.parent);\r\n          this.fonts[i].monoCase.parent.parentNode.removeChild(this.fonts[i].monoCase.parent);\r\n        }\r\n      }\r\n    }\r\n\r\n    if (loadedCount !== 0 && Date.now() - this.initTime < maxWaitingTime) {\r\n      setTimeout(this.checkLoadedFontsBinded, 20);\r\n    } else {\r\n      setTimeout(this.setIsLoadedBinded, 10);\r\n    }\r\n  }\r\n\r\n  function createHelper(def, fontData) {\r\n    var tHelper = createNS('text');\r\n    tHelper.style.fontSize = '100px';\r\n    // tHelper.style.fontFamily = fontData.fFamily;\r\n\r\n    var fontProps = getFontProperties(fontData);\r\n    tHelper.setAttribute('font-family', fontData.fFamily);\r\n    tHelper.setAttribute('font-style', fontProps.style);\r\n    tHelper.setAttribute('font-weight', fontProps.weight);\r\n    tHelper.textContent = '1';\r\n    if (fontData.fClass) {\r\n      tHelper.style.fontFamily = 'inherit';\r\n      tHelper.setAttribute('class', fontData.fClass);\r\n    } else {\r\n      tHelper.style.fontFamily = fontData.fFamily;\r\n    }\r\n    def.appendChild(tHelper);\r\n    var tCanvasHelper = createTag('canvas').getContext('2d');\r\n    tCanvasHelper.font = fontData.fWeight + ' ' + fontData.fStyle + ' 100px ' + fontData.fFamily;\r\n    // tCanvasHelper.font = ' 100px '+ fontData.fFamily;\r\n    return tHelper;\r\n  }\r\n\r\n  function addFonts(fontData, defs) {\r\n    if (!fontData) {\r\n      this.isLoaded = true;\r\n      return;\r\n    }\r\n    if (this.chars) {\r\n      this.isLoaded = true;\r\n      this.fonts = fontData.list;\r\n      return;\r\n    }\r\n\r\n    var fontArr = fontData.list;\r\n    var i;\r\n    var len = fontArr.length;\r\n    var _pendingFonts = len;\r\n    for (i = 0; i < len; i += 1) {\r\n      var shouldLoadFont = true;\r\n      var loadedSelector;\r\n      var j;\r\n      fontArr[i].loaded = false;\r\n      fontArr[i].monoCase = setUpNode(fontArr[i].fFamily, 'monospace');\r\n      fontArr[i].sansCase = setUpNode(fontArr[i].fFamily, 'sans-serif');\r\n      if (!fontArr[i].fPath) {\r\n        fontArr[i].loaded = true;\r\n        _pendingFonts -= 1;\r\n      } else if (fontArr[i].fOrigin === 'p' || fontArr[i].origin === 3) {\r\n        loadedSelector = document.querySelectorAll('style[f-forigin=\"p\"][f-family=\"' + fontArr[i].fFamily + '\"], style[f-origin=\"3\"][f-family=\"' + fontArr[i].fFamily + '\"]');\r\n\r\n        if (loadedSelector.length > 0) {\r\n          shouldLoadFont = false;\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var s = createTag('style');\r\n          s.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          s.setAttribute('f-origin', fontArr[i].origin);\r\n          s.setAttribute('f-family', fontArr[i].fFamily);\r\n          s.type = 'text/css';\r\n          s.innerText = '@font-face {font-family: ' + fontArr[i].fFamily + \"; font-style: normal; src: url('\" + fontArr[i].fPath + \"');}\";\r\n          defs.appendChild(s);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 'g' || fontArr[i].origin === 1) {\r\n        loadedSelector = document.querySelectorAll('link[f-forigin=\"g\"], link[f-origin=\"1\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (loadedSelector[j].href.indexOf(fontArr[i].fPath) !== -1) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var l = createTag('link');\r\n          l.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          l.setAttribute('f-origin', fontArr[i].origin);\r\n          l.type = 'text/css';\r\n          l.rel = 'stylesheet';\r\n          l.href = fontArr[i].fPath;\r\n          document.body.appendChild(l);\r\n        }\r\n      } else if (fontArr[i].fOrigin === 't' || fontArr[i].origin === 2) {\r\n        loadedSelector = document.querySelectorAll('script[f-forigin=\"t\"], script[f-origin=\"2\"]');\r\n\r\n        for (j = 0; j < loadedSelector.length; j += 1) {\r\n          if (fontArr[i].fPath === loadedSelector[j].src) {\r\n            // Font is already loaded\r\n            shouldLoadFont = false;\r\n          }\r\n        }\r\n\r\n        if (shouldLoadFont) {\r\n          var sc = createTag('link');\r\n          sc.setAttribute('f-forigin', fontArr[i].fOrigin);\r\n          sc.setAttribute('f-origin', fontArr[i].origin);\r\n          sc.setAttribute('rel', 'stylesheet');\r\n          sc.setAttribute('href', fontArr[i].fPath);\r\n          defs.appendChild(sc);\r\n        }\r\n      }\r\n      fontArr[i].helper = createHelper(defs, fontArr[i]);\r\n      fontArr[i].cache = {};\r\n      this.fonts.push(fontArr[i]);\r\n    }\r\n    if (_pendingFonts === 0) {\r\n      this.isLoaded = true;\r\n    } else {\r\n      // On some cases even if the font is loaded, it won't load correctly when measuring text on canvas.\r\n      // Adding this timeout seems to fix it\r\n      setTimeout(this.checkLoadedFonts.bind(this), 100);\r\n    }\r\n  }\r\n\r\n  function addChars(chars) {\r\n    if (!chars) {\r\n      return;\r\n    }\r\n    if (!this.chars) {\r\n      this.chars = [];\r\n    }\r\n    var i;\r\n    var len = chars.length;\r\n    var j;\r\n    var jLen = this.chars.length;\r\n    var found;\r\n    for (i = 0; i < len; i += 1) {\r\n      j = 0;\r\n      found = false;\r\n      while (j < jLen) {\r\n        if (this.chars[j].style === chars[i].style && this.chars[j].fFamily === chars[i].fFamily && this.chars[j].ch === chars[i].ch) {\r\n          found = true;\r\n        }\r\n        j += 1;\r\n      }\r\n      if (!found) {\r\n        this.chars.push(chars[i]);\r\n        jLen += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function getCharData(char, style, font) {\r\n    var i = 0;\r\n    var len = this.chars.length;\r\n    while (i < len) {\r\n      if (this.chars[i].ch === char && this.chars[i].style === style && this.chars[i].fFamily === font) {\r\n        return this.chars[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    if (((typeof char === 'string' && char.charCodeAt(0) !== 13) || !char)\r\n            && console\r\n            && console.warn // eslint-disable-line no-console\r\n            && !this._warned\r\n    ) {\r\n      this._warned = true;\r\n      console.warn('Missing character from exported characters list: ', char, style, font); // eslint-disable-line no-console\r\n    }\r\n    return emptyChar;\r\n  }\r\n\r\n  function measureText(char, fontName, size) {\r\n    var fontData = this.getFontByName(fontName);\r\n    var index = char.charCodeAt(0);\r\n    if (!fontData.cache[index + 1]) {\r\n      var tHelper = fontData.helper;\r\n      // Canvas version\r\n      // fontData.cache[index] = tHelper.measureText(char).width / 100;\r\n      // SVG version\r\n      // console.log(tHelper.getBBox().width)\r\n      if (char === ' ') {\r\n        tHelper.textContent = '|' + char + '|';\r\n        var doubleSize = tHelper.getComputedTextLength();\r\n        tHelper.textContent = '||';\r\n        var singleSize = tHelper.getComputedTextLength();\r\n        fontData.cache[index + 1] = (doubleSize - singleSize) / 100;\r\n      } else {\r\n        tHelper.textContent = char;\r\n        fontData.cache[index + 1] = (tHelper.getComputedTextLength()) / 100;\r\n      }\r\n    }\r\n    return fontData.cache[index + 1] * size;\r\n  }\r\n\r\n  function getFontByName(name) {\r\n    var i = 0;\r\n    var len = this.fonts.length;\r\n    while (i < len) {\r\n      if (this.fonts[i].fName === name) {\r\n        return this.fonts[i];\r\n      }\r\n      i += 1;\r\n    }\r\n    return this.fonts[0];\r\n  }\r\n\r\n  function isModifier(firstCharCode, secondCharCode) {\r\n    var sum = firstCharCode.toString(16) + secondCharCode.toString(16);\r\n    return surrogateModifiers.indexOf(sum) !== -1;\r\n  }\r\n\r\n  function isZeroWidthJoiner(firstCharCode, secondCharCode) {\r\n    if (!secondCharCode) {\r\n      return firstCharCode === zeroWidthJoiner[1];\r\n    }\r\n    return firstCharCode === zeroWidthJoiner[0] && secondCharCode === zeroWidthJoiner[1];\r\n  }\r\n\r\n  function isCombinedCharacter(char) {\r\n    return combinedCharacters.indexOf(char) !== -1;\r\n  }\r\n\r\n  function setIsLoaded() {\r\n    this.isLoaded = true;\r\n  }\r\n\r\n  var Font = function () {\r\n    this.fonts = [];\r\n    this.chars = null;\r\n    this.typekitLoaded = 0;\r\n    this.isLoaded = false;\r\n    this._warned = false;\r\n    this.initTime = Date.now();\r\n    this.setIsLoadedBinded = this.setIsLoaded.bind(this);\r\n    this.checkLoadedFontsBinded = this.checkLoadedFonts.bind(this);\r\n  };\r\n  Font.isModifier = isModifier;\r\n  Font.isZeroWidthJoiner = isZeroWidthJoiner;\r\n  Font.isCombinedCharacter = isCombinedCharacter;\r\n\r\n  var fontPrototype = {\r\n    addChars: addChars,\r\n    addFonts: addFonts,\r\n    getCharData: getCharData,\r\n    getFontByName: getFontByName,\r\n    measureText: measureText,\r\n    checkLoadedFonts: checkLoadedFonts,\r\n    setIsLoaded: setIsLoaded,\r\n  };\r\n\r\n  Font.prototype = fontPrototype;\r\n\r\n  return Font;\r\n}());\r\n\r\n/* global initialDefaultFrame, BezierFactory, degToRads, bez, createTypedArray */\r\n/* exported PropertyFactory */\r\n\r\nvar PropertyFactory = (function () {\r\n  var initFrame = initialDefaultFrame;\r\n  var mathAbs = Math.abs;\r\n\r\n  function interpolateValue(frameNum, caching) {\r\n    var offsetTime = this.offsetTime;\r\n    var newValue;\r\n    if (this.propType === 'multidimensional') {\r\n      newValue = createTypedArray('float32', this.pv.length);\r\n    }\r\n    var iterationIndex = caching.lastIndex;\r\n    var i = iterationIndex;\r\n    var len = this.keyframes.length - 1;\r\n    var flag = true;\r\n    var keyData;\r\n    var nextKeyData;\r\n    var keyframeMetadata;\r\n\r\n    while (flag) {\r\n      keyData = this.keyframes[i];\r\n      nextKeyData = this.keyframes[i + 1];\r\n      if (i === len - 1 && frameNum >= nextKeyData.t - offsetTime) {\r\n        if (keyData.h) {\r\n          keyData = nextKeyData;\r\n        }\r\n        iterationIndex = 0;\r\n        break;\r\n      }\r\n      if ((nextKeyData.t - offsetTime) > frameNum) {\r\n        iterationIndex = i;\r\n        break;\r\n      }\r\n      if (i < len - 1) {\r\n        i += 1;\r\n      } else {\r\n        iterationIndex = 0;\r\n        flag = false;\r\n      }\r\n    }\r\n    keyframeMetadata = this.keyframesMetadata[i] || {};\r\n\r\n    var k;\r\n    var kLen;\r\n    var perc;\r\n    var jLen;\r\n    var j;\r\n    var fnc;\r\n    var nextKeyTime = nextKeyData.t - offsetTime;\r\n    var keyTime = keyData.t - offsetTime;\r\n    var endValue;\r\n    if (keyData.to) {\r\n      if (!keyframeMetadata.bezierData) {\r\n        keyframeMetadata.bezierData = bez.buildBezierData(keyData.s, nextKeyData.s || keyData.e, keyData.to, keyData.ti);\r\n      }\r\n      var bezierData = keyframeMetadata.bezierData;\r\n      if (frameNum >= nextKeyTime || frameNum < keyTime) {\r\n        var ind = frameNum >= nextKeyTime ? bezierData.points.length - 1 : 0;\r\n        kLen = bezierData.points[ind].point.length;\r\n        for (k = 0; k < kLen; k += 1) {\r\n          newValue[k] = bezierData.points[ind].point[k];\r\n        }\r\n        // caching._lastKeyframeIndex = -1;\r\n      } else {\r\n        if (keyframeMetadata.__fnct) {\r\n          fnc = keyframeMetadata.__fnct;\r\n        } else {\r\n          fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y, keyData.n).get;\r\n          keyframeMetadata.__fnct = fnc;\r\n        }\r\n        perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n        var distanceInLine = bezierData.segmentLength * perc;\r\n\r\n        var segmentPerc;\r\n        var addedLength = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastAddedLength : 0;\r\n        j = (caching.lastFrame < frameNum && caching._lastKeyframeIndex === i) ? caching._lastPoint : 0;\r\n        flag = true;\r\n        jLen = bezierData.points.length;\r\n        while (flag) {\r\n          addedLength += bezierData.points[j].partialLength;\r\n          if (distanceInLine === 0 || perc === 0 || j === bezierData.points.length - 1) {\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k];\r\n            }\r\n            break;\r\n          } else if (distanceInLine >= addedLength && distanceInLine < addedLength + bezierData.points[j + 1].partialLength) {\r\n            segmentPerc = (distanceInLine - addedLength) / bezierData.points[j + 1].partialLength;\r\n            kLen = bezierData.points[j].point.length;\r\n            for (k = 0; k < kLen; k += 1) {\r\n              newValue[k] = bezierData.points[j].point[k] + (bezierData.points[j + 1].point[k] - bezierData.points[j].point[k]) * segmentPerc;\r\n            }\r\n            break;\r\n          }\r\n          if (j < jLen - 1) {\r\n            j += 1;\r\n          } else {\r\n            flag = false;\r\n          }\r\n        }\r\n        caching._lastPoint = j;\r\n        caching._lastAddedLength = addedLength - bezierData.points[j].partialLength;\r\n        caching._lastKeyframeIndex = i;\r\n      }\r\n    } else {\r\n      var outX;\r\n      var outY;\r\n      var inX;\r\n      var inY;\r\n      var keyValue;\r\n      len = keyData.s.length;\r\n      endValue = nextKeyData.s || keyData.e;\r\n      if (this.sh && keyData.h !== 1) {\r\n        if (frameNum >= nextKeyTime) {\r\n          newValue[0] = endValue[0];\r\n          newValue[1] = endValue[1];\r\n          newValue[2] = endValue[2];\r\n        } else if (frameNum <= keyTime) {\r\n          newValue[0] = keyData.s[0];\r\n          newValue[1] = keyData.s[1];\r\n          newValue[2] = keyData.s[2];\r\n        } else {\r\n          var quatStart = createQuaternion(keyData.s);\r\n          var quatEnd = createQuaternion(endValue);\r\n          var time = (frameNum - keyTime) / (nextKeyTime - keyTime);\r\n          quaternionToEuler(newValue, slerp(quatStart, quatEnd, time));\r\n        }\r\n      } else {\r\n        for (i = 0; i < len; i += 1) {\r\n          if (keyData.h !== 1) {\r\n            if (frameNum >= nextKeyTime) {\r\n              perc = 1;\r\n            } else if (frameNum < keyTime) {\r\n              perc = 0;\r\n            } else {\r\n              if (keyData.o.x.constructor === Array) {\r\n                if (!keyframeMetadata.__fnct) {\r\n                  keyframeMetadata.__fnct = [];\r\n                }\r\n                if (!keyframeMetadata.__fnct[i]) {\r\n                  outX = keyData.o.x[i] === undefined ? keyData.o.x[0] : keyData.o.x[i];\r\n                  outY = keyData.o.y[i] === undefined ? keyData.o.y[0] : keyData.o.y[i];\r\n                  inX = keyData.i.x[i] === undefined ? keyData.i.x[0] : keyData.i.x[i];\r\n                  inY = keyData.i.y[i] === undefined ? keyData.i.y[0] : keyData.i.y[i];\r\n                  fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                  keyframeMetadata.__fnct[i] = fnc;\r\n                } else {\r\n                  fnc = keyframeMetadata.__fnct[i];\r\n                }\r\n              } else if (!keyframeMetadata.__fnct) {\r\n                outX = keyData.o.x;\r\n                outY = keyData.o.y;\r\n                inX = keyData.i.x;\r\n                inY = keyData.i.y;\r\n                fnc = BezierFactory.getBezierEasing(outX, outY, inX, inY).get;\r\n                keyData.keyframeMetadata = fnc;\r\n              } else {\r\n                fnc = keyframeMetadata.__fnct;\r\n              }\r\n              perc = fnc((frameNum - keyTime) / (nextKeyTime - keyTime));\r\n            }\r\n          }\r\n\r\n          endValue = nextKeyData.s || keyData.e;\r\n          keyValue = keyData.h === 1 ? keyData.s[i] : keyData.s[i] + (endValue[i] - keyData.s[i]) * perc;\r\n\r\n          if (this.propType === 'multidimensional') {\r\n            newValue[i] = keyValue;\r\n          } else {\r\n            newValue = keyValue;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    caching.lastIndex = iterationIndex;\r\n    return newValue;\r\n  }\r\n\r\n  // based on @Toji's https://github.com/toji/gl-matrix/\r\n  function slerp(a, b, t) {\r\n    var out = [];\r\n    var ax = a[0];\r\n    var ay = a[1];\r\n    var az = a[2];\r\n    var aw = a[3];\r\n    var bx = b[0];\r\n    var by = b[1];\r\n    var bz = b[2];\r\n    var bw = b[3];\r\n\r\n    var omega;\r\n    var cosom;\r\n    var sinom;\r\n    var scale0;\r\n    var scale1;\r\n\r\n    cosom = ax * bx + ay * by + az * bz + aw * bw;\r\n    if (cosom < 0.0) {\r\n      cosom = -cosom;\r\n      bx = -bx;\r\n      by = -by;\r\n      bz = -bz;\r\n      bw = -bw;\r\n    }\r\n    if ((1.0 - cosom) > 0.000001) {\r\n      omega = Math.acos(cosom);\r\n      sinom = Math.sin(omega);\r\n      scale0 = Math.sin((1.0 - t) * omega) / sinom;\r\n      scale1 = Math.sin(t * omega) / sinom;\r\n    } else {\r\n      scale0 = 1.0 - t;\r\n      scale1 = t;\r\n    }\r\n    out[0] = scale0 * ax + scale1 * bx;\r\n    out[1] = scale0 * ay + scale1 * by;\r\n    out[2] = scale0 * az + scale1 * bz;\r\n    out[3] = scale0 * aw + scale1 * bw;\r\n\r\n    return out;\r\n  }\r\n\r\n  function quaternionToEuler(out, quat) {\r\n    var qx = quat[0];\r\n    var qy = quat[1];\r\n    var qz = quat[2];\r\n    var qw = quat[3];\r\n    var heading = Math.atan2(2 * qy * qw - 2 * qx * qz, 1 - 2 * qy * qy - 2 * qz * qz);\r\n    var attitude = Math.asin(2 * qx * qy + 2 * qz * qw);\r\n    var bank = Math.atan2(2 * qx * qw - 2 * qy * qz, 1 - 2 * qx * qx - 2 * qz * qz);\r\n    out[0] = heading / degToRads;\r\n    out[1] = attitude / degToRads;\r\n    out[2] = bank / degToRads;\r\n  }\r\n\r\n  function createQuaternion(values) {\r\n    var heading = values[0] * degToRads;\r\n    var attitude = values[1] * degToRads;\r\n    var bank = values[2] * degToRads;\r\n    var c1 = Math.cos(heading / 2);\r\n    var c2 = Math.cos(attitude / 2);\r\n    var c3 = Math.cos(bank / 2);\r\n    var s1 = Math.sin(heading / 2);\r\n    var s2 = Math.sin(attitude / 2);\r\n    var s3 = Math.sin(bank / 2);\r\n    var w = c1 * c2 * c3 - s1 * s2 * s3;\r\n    var x = s1 * s2 * c3 + c1 * c2 * s3;\r\n    var y = s1 * c2 * c3 + c1 * s2 * s3;\r\n    var z = c1 * s2 * c3 - s1 * c2 * s3;\r\n\r\n    return [x, y, z, w];\r\n  }\r\n\r\n  function getValueAtCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    if (!(frameNum === this._caching.lastFrame || (this._caching.lastFrame !== initFrame && ((this._caching.lastFrame >= endTime && frameNum >= endTime) || (this._caching.lastFrame < initTime && frameNum < initTime))))) {\r\n      if (this._caching.lastFrame >= frameNum) {\r\n        this._caching._lastKeyframeIndex = -1;\r\n        this._caching.lastIndex = 0;\r\n      }\r\n\r\n      var renderResult = this.interpolateValue(frameNum, this._caching);\r\n      this.pv = renderResult;\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function setVValue(val) {\r\n    var multipliedValue;\r\n    if (this.propType === 'unidimensional') {\r\n      multipliedValue = val * this.mult;\r\n      if (mathAbs(this.v - multipliedValue) > 0.00001) {\r\n        this.v = multipliedValue;\r\n        this._mdf = true;\r\n      }\r\n    } else {\r\n      var i = 0;\r\n      var len = this.v.length;\r\n      while (i < len) {\r\n        multipliedValue = val[i] * this.mult;\r\n        if (mathAbs(this.v[i] - multipliedValue) > 0.00001) {\r\n          this.v[i] = multipliedValue;\r\n          this._mdf = true;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) {\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = this._isFirstFrame;\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    var finalValue = this.kf ? this.pv : this.data.k;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this._isFirstFrame = false;\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  function ValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this.v = mult ? data.k * mult : data.k;\r\n    this.pv = data.k;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.vel = 0;\r\n    this.effectsSequence = [];\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function MultiDimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    this.mult = mult || 1;\r\n    this.data = data;\r\n    this._mdf = false;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this.frameId = -1;\r\n    var i;\r\n    var len = data.k.length;\r\n    this.v = createTypedArray('float32', len);\r\n    this.pv = createTypedArray('float32', len);\r\n    this.vel = createTypedArray('float32', len);\r\n    for (i = 0; i < len; i += 1) {\r\n      this.v[i] = data.k[i] * this.mult;\r\n      this.pv[i] = data.k[i];\r\n    }\r\n    this._isFirstFrame = true;\r\n    this.effectsSequence = [];\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedValueProperty(elem, data, mult, container) {\r\n    this.propType = 'unidimensional';\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.frameId = -1;\r\n    this._caching = {\r\n      lastFrame: initFrame, lastIndex: 0, value: 0, _lastKeyframeIndex: -1,\r\n    };\r\n    this.k = true;\r\n    this.kf = true;\r\n    this.data = data;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.v = initFrame;\r\n    this.pv = initFrame;\r\n    this._isFirstFrame = true;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function KeyframedMultidimensionalProperty(elem, data, mult, container) {\r\n    this.propType = 'multidimensional';\r\n    var i;\r\n    var len = data.k.length;\r\n    var s;\r\n    var e;\r\n    var to;\r\n    var ti;\r\n    for (i = 0; i < len - 1; i += 1) {\r\n      if (data.k[i].to && data.k[i].s && data.k[i + 1] && data.k[i + 1].s) {\r\n        s = data.k[i].s;\r\n        e = data.k[i + 1].s;\r\n        to = data.k[i].to;\r\n        ti = data.k[i].ti;\r\n        if ((s.length === 2 && !(s[0] === e[0] && s[1] === e[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], s[0] + to[0], s[1] + to[1]) && bez.pointOnLine2D(s[0], s[1], e[0], e[1], e[0] + ti[0], e[1] + ti[1])) || (s.length === 3 && !(s[0] === e[0] && s[1] === e[1] && s[2] === e[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], s[0] + to[0], s[1] + to[1], s[2] + to[2]) && bez.pointOnLine3D(s[0], s[1], s[2], e[0], e[1], e[2], e[0] + ti[0], e[1] + ti[1], e[2] + ti[2]))) {\r\n          data.k[i].to = null;\r\n          data.k[i].ti = null;\r\n        }\r\n        if (s[0] === e[0] && s[1] === e[1] && to[0] === 0 && to[1] === 0 && ti[0] === 0 && ti[1] === 0) {\r\n          if (s.length === 2 || (s[2] === e[2] && to[2] === 0 && ti[2] === 0)) {\r\n            data.k[i].to = null;\r\n            data.k[i].ti = null;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    this.effectsSequence = [getValueAtCurrentTime.bind(this)];\r\n    this.data = data;\r\n    this.keyframes = data.k;\r\n    this.keyframesMetadata = [];\r\n    this.offsetTime = elem.data.st;\r\n    this.k = true;\r\n    this.kf = true;\r\n    this._isFirstFrame = true;\r\n    this.mult = mult || 1;\r\n    this.elem = elem;\r\n    this.container = container;\r\n    this.comp = elem.comp;\r\n    this.getValue = processEffectsSequence;\r\n    this.setVValue = setVValue;\r\n    this.interpolateValue = interpolateValue;\r\n    this.frameId = -1;\r\n    var arrLen = data.k[0].s.length;\r\n    this.v = createTypedArray('float32', arrLen);\r\n    this.pv = createTypedArray('float32', arrLen);\r\n    for (i = 0; i < arrLen; i += 1) {\r\n      this.v[i] = initFrame;\r\n      this.pv[i] = initFrame;\r\n    }\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0, value: createTypedArray('float32', arrLen) };\r\n    this.addEffect = addEffect;\r\n  }\r\n\r\n  function getProp(elem, data, type, mult, container) {\r\n    var p;\r\n    if (!data.k.length) {\r\n      p = new ValueProperty(elem, data, mult, container);\r\n    } else if (typeof (data.k[0]) === 'number') {\r\n      p = new MultiDimensionalProperty(elem, data, mult, container);\r\n    } else {\r\n      switch (type) {\r\n        case 0:\r\n          p = new KeyframedValueProperty(elem, data, mult, container);\r\n          break;\r\n        case 1:\r\n          p = new KeyframedMultidimensionalProperty(elem, data, mult, container);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    if (p.effectsSequence.length) {\r\n      container.addDynamicProperty(p);\r\n    }\r\n    return p;\r\n  }\r\n\r\n  var ob = {\r\n    getProp: getProp,\r\n  };\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix, degToRads, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n/* exported TransformPropertyFactory */\r\n\r\nvar TransformPropertyFactory = (function () {\r\n  var defaultVector = [0, 0];\r\n\r\n  function applyToMatrix(mat) {\r\n    var _mdf = this._mdf;\r\n    this.iterateDynamicProperties();\r\n    this._mdf = this._mdf || _mdf;\r\n    if (this.a) {\r\n      mat.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n    }\r\n    if (this.s) {\r\n      mat.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n    }\r\n    if (this.sk) {\r\n      mat.skewFromAxis(-this.sk.v, this.sa.v);\r\n    }\r\n    if (this.r) {\r\n      mat.rotate(-this.r.v);\r\n    } else {\r\n      mat.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n    }\r\n    if (this.data.p.s) {\r\n      if (this.data.p.z) {\r\n        mat.translate(this.px.v, this.py.v, -this.pz.v);\r\n      } else {\r\n        mat.translate(this.px.v, this.py.v, 0);\r\n      }\r\n    } else {\r\n      mat.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n    }\r\n  }\r\n  function processKeys(forceRender) {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    }\r\n    if (this._isDirty) {\r\n      this.precalculateMatrix();\r\n      this._isDirty = false;\r\n    }\r\n\r\n    this.iterateDynamicProperties();\r\n\r\n    if (this._mdf || forceRender) {\r\n      var frameRate;\r\n      this.v.cloneFromProps(this.pre.props);\r\n      if (this.appliedTransformations < 1) {\r\n        this.v.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      }\r\n      if (this.appliedTransformations < 2) {\r\n        this.v.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      }\r\n      if (this.sk && this.appliedTransformations < 3) {\r\n        this.v.skewFromAxis(-this.sk.v, this.sa.v);\r\n      }\r\n      if (this.r && this.appliedTransformations < 4) {\r\n        this.v.rotate(-this.r.v);\r\n      } else if (!this.r && this.appliedTransformations < 4) {\r\n        this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n          .rotateY(this.or.v[1])\r\n          .rotateX(this.or.v[0]);\r\n      }\r\n      if (this.autoOriented) {\r\n        var v1;\r\n        var v2;\r\n        frameRate = this.elem.globalData.frameRate;\r\n        if (this.p && this.p.keyframes && this.p.getValueAtTime) {\r\n          if (this.p._caching.lastFrame + this.p.offsetTime <= this.p.keyframes[0].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2 = this.p.getValueAtTime(this.p.keyframes[0].t / frameRate, 0);\r\n          } else if (this.p._caching.lastFrame + this.p.offsetTime >= this.p.keyframes[this.p.keyframes.length - 1].t) {\r\n            v1 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t / frameRate), 0);\r\n            v2 = this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length - 1].t - 0.05) / frameRate, 0);\r\n          } else {\r\n            v1 = this.p.pv;\r\n            v2 = this.p.getValueAtTime((this.p._caching.lastFrame + this.p.offsetTime - 0.01) / frameRate, this.p.offsetTime);\r\n          }\r\n        } else if (this.px && this.px.keyframes && this.py.keyframes && this.px.getValueAtTime && this.py.getValueAtTime) {\r\n          v1 = [];\r\n          v2 = [];\r\n          var px = this.px;\r\n          var py = this.py;\r\n          if (px._caching.lastFrame + px.offsetTime <= px.keyframes[0].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[0].t + 0.01) / frameRate, 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[0].t) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[0].t) / frameRate, 0);\r\n          } else if (px._caching.lastFrame + px.offsetTime >= px.keyframes[px.keyframes.length - 1].t) {\r\n            v1[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t / frameRate), 0);\r\n            v1[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t / frameRate), 0);\r\n            v2[0] = px.getValueAtTime((px.keyframes[px.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n            v2[1] = py.getValueAtTime((py.keyframes[py.keyframes.length - 1].t - 0.01) / frameRate, 0);\r\n          } else {\r\n            v1 = [px.pv, py.pv];\r\n            v2[0] = px.getValueAtTime((px._caching.lastFrame + px.offsetTime - 0.01) / frameRate, px.offsetTime);\r\n            v2[1] = py.getValueAtTime((py._caching.lastFrame + py.offsetTime - 0.01) / frameRate, py.offsetTime);\r\n          }\r\n        } else {\r\n          v2 = defaultVector;\r\n          v1 = v2;\r\n        }\r\n        this.v.rotate(-Math.atan2(v1[1] - v2[1], v1[0] - v2[0]));\r\n      }\r\n      if (this.data.p && this.data.p.s) {\r\n        if (this.data.p.z) {\r\n          this.v.translate(this.px.v, this.py.v, -this.pz.v);\r\n        } else {\r\n          this.v.translate(this.px.v, this.py.v, 0);\r\n        }\r\n      } else {\r\n        this.v.translate(this.p.v[0], this.p.v[1], -this.p.v[2]);\r\n      }\r\n    }\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function precalculateMatrix() {\r\n    if (!this.a.k) {\r\n      this.pre.translate(-this.a.v[0], -this.a.v[1], this.a.v[2]);\r\n      this.appliedTransformations = 1;\r\n    } else {\r\n      return;\r\n    }\r\n    if (!this.s.effectsSequence.length) {\r\n      this.pre.scale(this.s.v[0], this.s.v[1], this.s.v[2]);\r\n      this.appliedTransformations = 2;\r\n    } else {\r\n      return;\r\n    }\r\n    if (this.sk) {\r\n      if (!this.sk.effectsSequence.length && !this.sa.effectsSequence.length) {\r\n        this.pre.skewFromAxis(-this.sk.v, this.sa.v);\r\n        this.appliedTransformations = 3;\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n    if (this.r) {\r\n      if (!this.r.effectsSequence.length) {\r\n        this.pre.rotate(-this.r.v);\r\n        this.appliedTransformations = 4;\r\n      }\r\n    } else if (!this.rz.effectsSequence.length && !this.ry.effectsSequence.length && !this.rx.effectsSequence.length && !this.or.effectsSequence.length) {\r\n      this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2])\r\n        .rotateY(this.or.v[1])\r\n        .rotateX(this.or.v[0]);\r\n      this.appliedTransformations = 4;\r\n    }\r\n  }\r\n\r\n  function autoOrient() {\r\n    //\r\n    // var prevP = this.getValueAtTime();\r\n  }\r\n\r\n  function addDynamicProperty(prop) {\r\n    this._addDynamicProperty(prop);\r\n    this.elem.addDynamicProperty(prop);\r\n    this._isDirty = true;\r\n  }\r\n\r\n  function TransformProperty(elem, data, container) {\r\n    this.elem = elem;\r\n    this.frameId = -1;\r\n    this.propType = 'transform';\r\n    this.data = data;\r\n    this.v = new Matrix();\r\n    // Precalculated matrix with non animated properties\r\n    this.pre = new Matrix();\r\n    this.appliedTransformations = 0;\r\n    this.initDynamicPropertyContainer(container || elem);\r\n    if (data.p && data.p.s) {\r\n      this.px = PropertyFactory.getProp(elem, data.p.x, 0, 0, this);\r\n      this.py = PropertyFactory.getProp(elem, data.p.y, 0, 0, this);\r\n      if (data.p.z) {\r\n        this.pz = PropertyFactory.getProp(elem, data.p.z, 0, 0, this);\r\n      }\r\n    } else {\r\n      this.p = PropertyFactory.getProp(elem, data.p || { k: [0, 0, 0] }, 1, 0, this);\r\n    }\r\n    if (data.rx) {\r\n      this.rx = PropertyFactory.getProp(elem, data.rx, 0, degToRads, this);\r\n      this.ry = PropertyFactory.getProp(elem, data.ry, 0, degToRads, this);\r\n      this.rz = PropertyFactory.getProp(elem, data.rz, 0, degToRads, this);\r\n      if (data.or.k[0].ti) {\r\n        var i;\r\n        var len = data.or.k.length;\r\n        for (i = 0; i < len; i += 1) {\r\n          data.or.k[i].to = null;\r\n          data.or.k[i].ti = null;\r\n        }\r\n      }\r\n      this.or = PropertyFactory.getProp(elem, data.or, 1, degToRads, this);\r\n      // sh Indicates it needs to be capped between -180 and 180\r\n      this.or.sh = true;\r\n    } else {\r\n      this.r = PropertyFactory.getProp(elem, data.r || { k: 0 }, 0, degToRads, this);\r\n    }\r\n    if (data.sk) {\r\n      this.sk = PropertyFactory.getProp(elem, data.sk, 0, degToRads, this);\r\n      this.sa = PropertyFactory.getProp(elem, data.sa, 0, degToRads, this);\r\n    }\r\n    this.a = PropertyFactory.getProp(elem, data.a || { k: [0, 0, 0] }, 1, 0, this);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: [100, 100, 100] }, 1, 0.01, this);\r\n    // Opacity is not part of the transform properties, that's why it won't use this.dynamicProperties. That way transforms won't get updated if opacity changes.\r\n    if (data.o) {\r\n      this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, elem);\r\n    } else {\r\n      this.o = { _mdf: false, v: 1 };\r\n    }\r\n    this._isDirty = true;\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue(true);\r\n    }\r\n  }\r\n\r\n  TransformProperty.prototype = {\r\n    applyToMatrix: applyToMatrix,\r\n    getValue: processKeys,\r\n    precalculateMatrix: precalculateMatrix,\r\n    autoOrient: autoOrient,\r\n  };\r\n\r\n  extendPrototype([DynamicPropertyContainer], TransformProperty);\r\n  TransformProperty.prototype.addDynamicProperty = addDynamicProperty;\r\n  TransformProperty.prototype._addDynamicProperty = DynamicPropertyContainer.prototype.addDynamicProperty;\r\n\r\n  function getTransformProperty(elem, data, container) {\r\n    return new TransformProperty(elem, data, container);\r\n  }\r\n\r\n  return {\r\n    getTransformProperty: getTransformProperty,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, createSizedArray, pointPool */\r\n\r\nfunction ShapePath() {\r\n  this.c = false;\r\n  this._length = 0;\r\n  this._maxLength = 8;\r\n  this.v = createSizedArray(this._maxLength);\r\n  this.o = createSizedArray(this._maxLength);\r\n  this.i = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapePath.prototype.setPathData = function (closed, len) {\r\n  this.c = closed;\r\n  this.setLength(len);\r\n  var i = 0;\r\n  while (i < len) {\r\n    this.v[i] = pointPool.newElement();\r\n    this.o[i] = pointPool.newElement();\r\n    this.i[i] = pointPool.newElement();\r\n    i += 1;\r\n  }\r\n};\r\n\r\nShapePath.prototype.setLength = function (len) {\r\n  while (this._maxLength < len) {\r\n    this.doubleArrayLength();\r\n  }\r\n  this._length = len;\r\n};\r\n\r\nShapePath.prototype.doubleArrayLength = function () {\r\n  this.v = this.v.concat(createSizedArray(this._maxLength));\r\n  this.i = this.i.concat(createSizedArray(this._maxLength));\r\n  this.o = this.o.concat(createSizedArray(this._maxLength));\r\n  this._maxLength *= 2;\r\n};\r\n\r\nShapePath.prototype.setXYAt = function (x, y, type, pos, replace) {\r\n  var arr;\r\n  this._length = Math.max(this._length, pos + 1);\r\n  if (this._length >= this._maxLength) {\r\n    this.doubleArrayLength();\r\n  }\r\n  switch (type) {\r\n    case 'v':\r\n      arr = this.v;\r\n      break;\r\n    case 'i':\r\n      arr = this.i;\r\n      break;\r\n    case 'o':\r\n      arr = this.o;\r\n      break;\r\n    default:\r\n      arr = [];\r\n      break;\r\n  }\r\n  if (!arr[pos] || (arr[pos] && !replace)) {\r\n    arr[pos] = pointPool.newElement();\r\n  }\r\n  arr[pos][0] = x;\r\n  arr[pos][1] = y;\r\n};\r\n\r\nShapePath.prototype.setTripleAt = function (vX, vY, oX, oY, iX, iY, pos, replace) {\r\n  this.setXYAt(vX, vY, 'v', pos, replace);\r\n  this.setXYAt(oX, oY, 'o', pos, replace);\r\n  this.setXYAt(iX, iY, 'i', pos, replace);\r\n};\r\n\r\nShapePath.prototype.reverse = function () {\r\n  var newPath = new ShapePath();\r\n  newPath.setPathData(this.c, this._length);\r\n  var vertices = this.v;\r\n  var outPoints = this.o;\r\n  var inPoints = this.i;\r\n  var init = 0;\r\n  if (this.c) {\r\n    newPath.setTripleAt(vertices[0][0], vertices[0][1], inPoints[0][0], inPoints[0][1], outPoints[0][0], outPoints[0][1], 0, false);\r\n    init = 1;\r\n  }\r\n  var cnt = this._length - 1;\r\n  var len = this._length;\r\n\r\n  var i;\r\n  for (i = init; i < len; i += 1) {\r\n    newPath.setTripleAt(vertices[cnt][0], vertices[cnt][1], inPoints[cnt][0], inPoints[cnt][1], outPoints[cnt][0], outPoints[cnt][1], i, false);\r\n    cnt -= 1;\r\n  }\r\n  return newPath;\r\n};\r\n\r\n/* global extendPrototype, roundCorner, BezierFactory, shapePool, degToRads,\r\n  shapeCollectionPool, PropertyFactory, bmMin, DynamicPropertyContainer */\r\n/* exported ShapePropertyFactory */\r\n\r\nvar ShapePropertyFactory = (function () {\r\n  var initFrame = -999999;\r\n\r\n  function interpolateShape(frameNum, previousValue, caching) {\r\n    var iterationIndex = caching.lastIndex;\r\n    var keyPropS;\r\n    var keyPropE;\r\n    var isHold;\r\n    var j;\r\n    var k;\r\n    var jLen;\r\n    var kLen;\r\n    var perc;\r\n    var vertexValue;\r\n    var kf = this.keyframes;\r\n    if (frameNum < kf[0].t - this.offsetTime) {\r\n      keyPropS = kf[0].s[0];\r\n      isHold = true;\r\n      iterationIndex = 0;\r\n    } else if (frameNum >= kf[kf.length - 1].t - this.offsetTime) {\r\n      keyPropS = kf[kf.length - 1].s ? kf[kf.length - 1].s[0] : kf[kf.length - 2].e[0];\r\n      /* if(kf[kf.length - 1].s){\r\n                keyPropS = kf[kf.length - 1].s[0];\r\n            }else{\r\n                keyPropS = kf[kf.length - 2].e[0];\r\n            } */\r\n      isHold = true;\r\n    } else {\r\n      var i = iterationIndex;\r\n      var len = kf.length - 1;\r\n      var flag = true;\r\n      var keyData;\r\n      var nextKeyData;\r\n      var keyframeMetadata;\r\n      while (flag) {\r\n        keyData = kf[i];\r\n        nextKeyData = kf[i + 1];\r\n        if ((nextKeyData.t - this.offsetTime) > frameNum) {\r\n          break;\r\n        }\r\n        if (i < len - 1) {\r\n          i += 1;\r\n        } else {\r\n          flag = false;\r\n        }\r\n      }\r\n      keyframeMetadata = this.keyframesMetadata[i] || {};\r\n      isHold = keyData.h === 1;\r\n      iterationIndex = i;\r\n      if (!isHold) {\r\n        if (frameNum >= nextKeyData.t - this.offsetTime) {\r\n          perc = 1;\r\n        } else if (frameNum < keyData.t - this.offsetTime) {\r\n          perc = 0;\r\n        } else {\r\n          var fnc;\r\n          if (keyframeMetadata.__fnct) {\r\n            fnc = keyframeMetadata.__fnct;\r\n          } else {\r\n            fnc = BezierFactory.getBezierEasing(keyData.o.x, keyData.o.y, keyData.i.x, keyData.i.y).get;\r\n            keyframeMetadata.__fnct = fnc;\r\n          }\r\n          perc = fnc((frameNum - (keyData.t - this.offsetTime)) / ((nextKeyData.t - this.offsetTime) - (keyData.t - this.offsetTime)));\r\n        }\r\n        keyPropE = nextKeyData.s ? nextKeyData.s[0] : keyData.e[0];\r\n      }\r\n      keyPropS = keyData.s[0];\r\n    }\r\n    jLen = previousValue._length;\r\n    kLen = keyPropS.i[0].length;\r\n    caching.lastIndex = iterationIndex;\r\n\r\n    for (j = 0; j < jLen; j += 1) {\r\n      for (k = 0; k < kLen; k += 1) {\r\n        vertexValue = isHold ? keyPropS.i[j][k] : keyPropS.i[j][k] + (keyPropE.i[j][k] - keyPropS.i[j][k]) * perc;\r\n        previousValue.i[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.o[j][k] : keyPropS.o[j][k] + (keyPropE.o[j][k] - keyPropS.o[j][k]) * perc;\r\n        previousValue.o[j][k] = vertexValue;\r\n        vertexValue = isHold ? keyPropS.v[j][k] : keyPropS.v[j][k] + (keyPropE.v[j][k] - keyPropS.v[j][k]) * perc;\r\n        previousValue.v[j][k] = vertexValue;\r\n      }\r\n    }\r\n  }\r\n\r\n  function interpolateShapeCurrentTime() {\r\n    var frameNum = this.comp.renderedFrame - this.offsetTime;\r\n    var initTime = this.keyframes[0].t - this.offsetTime;\r\n    var endTime = this.keyframes[this.keyframes.length - 1].t - this.offsetTime;\r\n    var lastFrame = this._caching.lastFrame;\r\n    if (!(lastFrame !== initFrame && ((lastFrame < initTime && frameNum < initTime) || (lastFrame > endTime && frameNum > endTime)))) {\r\n      /// /\r\n      this._caching.lastIndex = lastFrame < frameNum ? this._caching.lastIndex : 0;\r\n      this.interpolateShape(frameNum, this.pv, this._caching);\r\n      /// /\r\n    }\r\n    this._caching.lastFrame = frameNum;\r\n    return this.pv;\r\n  }\r\n\r\n  function resetShape() {\r\n    this.paths = this.localShapeCollection;\r\n  }\r\n\r\n  function shapesEqual(shape1, shape2) {\r\n    if (shape1._length !== shape2._length || shape1.c !== shape2.c) {\r\n      return false;\r\n    }\r\n    var i;\r\n    var len = shape1._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (shape1.v[i][0] !== shape2.v[i][0]\r\n            || shape1.v[i][1] !== shape2.v[i][1]\r\n            || shape1.o[i][0] !== shape2.o[i][0]\r\n            || shape1.o[i][1] !== shape2.o[i][1]\r\n            || shape1.i[i][0] !== shape2.i[i][0]\r\n            || shape1.i[i][1] !== shape2.i[i][1]) {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function setVValue(newPath) {\r\n    if (!shapesEqual(this.v, newPath)) {\r\n      this.v = shapePool.clone(newPath);\r\n      this.localShapeCollection.releaseShapes();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this._mdf = true;\r\n      this.paths = this.localShapeCollection;\r\n    }\r\n  }\r\n\r\n  function processEffectsSequence() {\r\n    if (this.elem.globalData.frameId === this.frameId) {\r\n      return;\r\n    } if (!this.effectsSequence.length) {\r\n      this._mdf = false;\r\n      return;\r\n    }\r\n    if (this.lock) {\r\n      this.setVValue(this.pv);\r\n      return;\r\n    }\r\n    this.lock = true;\r\n    this._mdf = false;\r\n    var finalValue;\r\n    if (this.kf) {\r\n      finalValue = this.pv;\r\n    } else if (this.data.ks) {\r\n      finalValue = this.data.ks.k;\r\n    } else {\r\n      finalValue = this.data.pt.k;\r\n    }\r\n    var i;\r\n    var len = this.effectsSequence.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      finalValue = this.effectsSequence[i](finalValue);\r\n    }\r\n    this.setVValue(finalValue);\r\n    this.lock = false;\r\n    this.frameId = this.elem.globalData.frameId;\r\n  }\r\n\r\n  function ShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.container = elem;\r\n    this.elem = elem;\r\n    this.data = data;\r\n    this.k = false;\r\n    this.kf = false;\r\n    this._mdf = false;\r\n    var pathData = type === 3 ? data.pt.k : data.ks.k;\r\n    this.v = shapePool.clone(pathData);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.reset = resetShape;\r\n    this.effectsSequence = [];\r\n  }\r\n\r\n  function addEffect(effectFunction) {\r\n    this.effectsSequence.push(effectFunction);\r\n    this.container.addDynamicProperty(this);\r\n  }\r\n\r\n  ShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  ShapeProperty.prototype.getValue = processEffectsSequence;\r\n  ShapeProperty.prototype.setVValue = setVValue;\r\n  ShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  function KeyframedShapeProperty(elem, data, type) {\r\n    this.propType = 'shape';\r\n    this.comp = elem.comp;\r\n    this.elem = elem;\r\n    this.container = elem;\r\n    this.offsetTime = elem.data.st;\r\n    this.keyframes = type === 3 ? data.pt.k : data.ks.k;\r\n    this.keyframesMetadata = [];\r\n    this.k = true;\r\n    this.kf = true;\r\n    var len = this.keyframes[0].s[0].i.length;\r\n    this.v = shapePool.newElement();\r\n    this.v.setPathData(this.keyframes[0].s[0].c, len);\r\n    this.pv = shapePool.clone(this.v);\r\n    this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n    this.paths = this.localShapeCollection;\r\n    this.paths.addShape(this.v);\r\n    this.lastFrame = initFrame;\r\n    this.reset = resetShape;\r\n    this._caching = { lastFrame: initFrame, lastIndex: 0 };\r\n    this.effectsSequence = [interpolateShapeCurrentTime.bind(this)];\r\n  }\r\n  KeyframedShapeProperty.prototype.getValue = processEffectsSequence;\r\n  KeyframedShapeProperty.prototype.interpolateShape = interpolateShape;\r\n  KeyframedShapeProperty.prototype.setVValue = setVValue;\r\n  KeyframedShapeProperty.prototype.addEffect = addEffect;\r\n\r\n  var EllShapeProperty = (function () {\r\n    var cPoint = roundCorner;\r\n\r\n    function EllShapePropertyFactory(elem, data) {\r\n      /* this.v = {\r\n                v: createSizedArray(4),\r\n                i: createSizedArray(4),\r\n                o: createSizedArray(4),\r\n                c: true\r\n            }; */\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 4);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.paths = this.localShapeCollection;\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.d = data.d;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertEllToPath();\r\n      }\r\n    }\r\n\r\n    EllShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n\r\n        if (this._mdf) {\r\n          this.convertEllToPath();\r\n        }\r\n      },\r\n      convertEllToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var s0 = this.s.v[0] / 2;\r\n        var s1 = this.s.v[1] / 2;\r\n        var _cw = this.d !== 3;\r\n        var _v = this.v;\r\n        _v.v[0][0] = p0;\r\n        _v.v[0][1] = p1 - s1;\r\n        _v.v[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.v[1][1] = p1;\r\n        _v.v[2][0] = p0;\r\n        _v.v[2][1] = p1 + s1;\r\n        _v.v[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.v[3][1] = p1;\r\n        _v.i[0][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.i[0][1] = p1 - s1;\r\n        _v.i[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.i[1][1] = p1 - s1 * cPoint;\r\n        _v.i[2][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.i[2][1] = p1 + s1;\r\n        _v.i[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.i[3][1] = p1 + s1 * cPoint;\r\n        _v.o[0][0] = _cw ? p0 + s0 * cPoint : p0 - s0 * cPoint;\r\n        _v.o[0][1] = p1 - s1;\r\n        _v.o[1][0] = _cw ? p0 + s0 : p0 - s0;\r\n        _v.o[1][1] = p1 + s1 * cPoint;\r\n        _v.o[2][0] = _cw ? p0 - s0 * cPoint : p0 + s0 * cPoint;\r\n        _v.o[2][1] = p1 + s1;\r\n        _v.o[3][0] = _cw ? p0 - s0 : p0 + s0;\r\n        _v.o[3][1] = p1 - s1 * cPoint;\r\n      },\r\n    };\r\n\r\n    extendPrototype([DynamicPropertyContainer], EllShapePropertyFactory);\r\n\r\n    return EllShapePropertyFactory;\r\n  }());\r\n\r\n  var StarShapeProperty = (function () {\r\n    function StarShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.setPathData(true, 0);\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.data = data;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      if (data.sy === 1) {\r\n        this.ir = PropertyFactory.getProp(elem, data.ir, 0, 0, this);\r\n        this.is = PropertyFactory.getProp(elem, data.is, 0, 0.01, this);\r\n        this.convertToPath = this.convertStarToPath;\r\n      } else {\r\n        this.convertToPath = this.convertPolygonToPath;\r\n      }\r\n      this.pt = PropertyFactory.getProp(elem, data.pt, 0, 0, this);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, degToRads, this);\r\n      this.or = PropertyFactory.getProp(elem, data.or, 0, 0, this);\r\n      this.os = PropertyFactory.getProp(elem, data.os, 0, 0.01, this);\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertToPath();\r\n      }\r\n    }\r\n\r\n    StarShapePropertyFactory.prototype = {\r\n      reset: resetShape,\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertToPath();\r\n        }\r\n      },\r\n      convertStarToPath: function () {\r\n        var numPts = Math.floor(this.pt.v) * 2;\r\n        var angle = (Math.PI * 2) / numPts;\r\n        /* this.v.v.length = numPts;\r\n                this.v.i.length = numPts;\r\n                this.v.o.length = numPts; */\r\n        var longFlag = true;\r\n        var longRad = this.or.v;\r\n        var shortRad = this.ir.v;\r\n        var longRound = this.os.v;\r\n        var shortRound = this.is.v;\r\n        var longPerimSegment = (2 * Math.PI * longRad) / (numPts * 2);\r\n        var shortPerimSegment = (2 * Math.PI * shortRad) / (numPts * 2);\r\n        var i;\r\n        var rad;\r\n        var roundness;\r\n        var perimSegment;\r\n        var currentAng = -Math.PI / 2;\r\n        currentAng += this.r.v;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          rad = longFlag ? longRad : shortRad;\r\n          roundness = longFlag ? longRound : shortRound;\r\n          perimSegment = longFlag ? longPerimSegment : shortPerimSegment;\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n\r\n          /* this.v.v[i] = [x,y];\r\n                    this.v.i[i] = [x+ox*perimSegment*roundness*dir,y+oy*perimSegment*roundness*dir];\r\n                    this.v.o[i] = [x-ox*perimSegment*roundness*dir,y-oy*perimSegment*roundness*dir];\r\n                    this.v._length = numPts; */\r\n          longFlag = !longFlag;\r\n          currentAng += angle * dir;\r\n        }\r\n      },\r\n      convertPolygonToPath: function () {\r\n        var numPts = Math.floor(this.pt.v);\r\n        var angle = (Math.PI * 2) / numPts;\r\n        var rad = this.or.v;\r\n        var roundness = this.os.v;\r\n        var perimSegment = (2 * Math.PI * rad) / (numPts * 4);\r\n        var i;\r\n        var currentAng = -Math.PI * 0.5;\r\n        var dir = this.data.d === 3 ? -1 : 1;\r\n        currentAng += this.r.v;\r\n        this.v._length = 0;\r\n        for (i = 0; i < numPts; i += 1) {\r\n          var x = rad * Math.cos(currentAng);\r\n          var y = rad * Math.sin(currentAng);\r\n          var ox = x === 0 && y === 0 ? 0 : y / Math.sqrt(x * x + y * y);\r\n          var oy = x === 0 && y === 0 ? 0 : -x / Math.sqrt(x * x + y * y);\r\n          x += +this.p.v[0];\r\n          y += +this.p.v[1];\r\n          this.v.setTripleAt(x, y, x - ox * perimSegment * roundness * dir, y - oy * perimSegment * roundness * dir, x + ox * perimSegment * roundness * dir, y + oy * perimSegment * roundness * dir, i, true);\r\n          currentAng += angle * dir;\r\n        }\r\n        this.paths.length = 0;\r\n        this.paths[0] = this.v;\r\n      },\r\n\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], StarShapePropertyFactory);\r\n\r\n    return StarShapePropertyFactory;\r\n  }());\r\n\r\n  var RectShapeProperty = (function () {\r\n    function RectShapePropertyFactory(elem, data) {\r\n      this.v = shapePool.newElement();\r\n      this.v.c = true;\r\n      this.localShapeCollection = shapeCollectionPool.newShapeCollection();\r\n      this.localShapeCollection.addShape(this.v);\r\n      this.paths = this.localShapeCollection;\r\n      this.elem = elem;\r\n      this.comp = elem.comp;\r\n      this.frameId = -1;\r\n      this.d = data.d;\r\n      this.initDynamicPropertyContainer(elem);\r\n      this.p = PropertyFactory.getProp(elem, data.p, 1, 0, this);\r\n      this.s = PropertyFactory.getProp(elem, data.s, 1, 0, this);\r\n      this.r = PropertyFactory.getProp(elem, data.r, 0, 0, this);\r\n      if (this.dynamicProperties.length) {\r\n        this.k = true;\r\n      } else {\r\n        this.k = false;\r\n        this.convertRectToPath();\r\n      }\r\n    }\r\n\r\n    RectShapePropertyFactory.prototype = {\r\n      convertRectToPath: function () {\r\n        var p0 = this.p.v[0];\r\n        var p1 = this.p.v[1];\r\n        var v0 = this.s.v[0] / 2;\r\n        var v1 = this.s.v[1] / 2;\r\n        var round = bmMin(v0, v1, this.r.v);\r\n        var cPoint = round * (1 - roundCorner);\r\n        this.v._length = 0;\r\n\r\n        if (this.d === 2 || this.d === 1) {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, 0, true);\r\n          this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, p0 + v0, p1 + v1 - round, 1, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0 + round, p1 + v1, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, 4, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1 + round, 5, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, p0 + v0 - round, p1 - v1, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0 + cPoint, p1 + v1, p0 - v0, p1 + v1, 2);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0, p1 - v1 + cPoint, p0 - v0, p1 - v1, 3);\r\n          }\r\n        } else {\r\n          this.v.setTripleAt(p0 + v0, p1 - v1 + round, p0 + v0, p1 - v1 + cPoint, p0 + v0, p1 - v1 + round, 0, true);\r\n          if (round !== 0) {\r\n            this.v.setTripleAt(p0 + v0 - round, p1 - v1, p0 + v0 - round, p1 - v1, p0 + v0 - cPoint, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0 + round, p1 - v1, 2, true);\r\n            this.v.setTripleAt(p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + round, p0 - v0, p1 - v1 + cPoint, 3, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1 - round, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1 - round, 4, true);\r\n            this.v.setTripleAt(p0 - v0 + round, p1 + v1, p0 - v0 + round, p1 + v1, p0 - v0 + cPoint, p1 + v1, 5, true);\r\n            this.v.setTripleAt(p0 + v0 - round, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0 - round, p1 + v1, 6, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - round, p0 + v0, p1 + v1 - cPoint, 7, true);\r\n          } else {\r\n            this.v.setTripleAt(p0 - v0, p1 - v1, p0 - v0 + cPoint, p1 - v1, p0 - v0, p1 - v1, 1, true);\r\n            this.v.setTripleAt(p0 - v0, p1 + v1, p0 - v0, p1 + v1 - cPoint, p0 - v0, p1 + v1, 2, true);\r\n            this.v.setTripleAt(p0 + v0, p1 + v1, p0 + v0 - cPoint, p1 + v1, p0 + v0, p1 + v1, 3, true);\r\n          }\r\n        }\r\n      },\r\n      getValue: function () {\r\n        if (this.elem.globalData.frameId === this.frameId) {\r\n          return;\r\n        }\r\n        this.frameId = this.elem.globalData.frameId;\r\n        this.iterateDynamicProperties();\r\n        if (this._mdf) {\r\n          this.convertRectToPath();\r\n        }\r\n      },\r\n      reset: resetShape,\r\n    };\r\n    extendPrototype([DynamicPropertyContainer], RectShapePropertyFactory);\r\n\r\n    return RectShapePropertyFactory;\r\n  }());\r\n\r\n  function getShapeProp(elem, data, type) {\r\n    var prop;\r\n    if (type === 3 || type === 4) {\r\n      var dataProp = type === 3 ? data.pt : data.ks;\r\n      var keys = dataProp.k;\r\n      if (keys.length) {\r\n        prop = new KeyframedShapeProperty(elem, data, type);\r\n      } else {\r\n        prop = new ShapeProperty(elem, data, type);\r\n      }\r\n    } else if (type === 5) {\r\n      prop = new RectShapeProperty(elem, data);\r\n    } else if (type === 6) {\r\n      prop = new EllShapeProperty(elem, data);\r\n    } else if (type === 7) {\r\n      prop = new StarShapeProperty(elem, data);\r\n    }\r\n    if (prop.k) {\r\n      elem.addDynamicProperty(prop);\r\n    }\r\n    return prop;\r\n  }\r\n\r\n  function getConstructorFunction() {\r\n    return ShapeProperty;\r\n  }\r\n\r\n  function getKeyframedConstructorFunction() {\r\n    return KeyframedShapeProperty;\r\n  }\r\n\r\n  var ob = {};\r\n  ob.getShapeProp = getShapeProp;\r\n  ob.getConstructorFunction = getConstructorFunction;\r\n  ob.getKeyframedConstructorFunction = getKeyframedConstructorFunction;\r\n  return ob;\r\n}());\r\n\r\n/* global shapeCollectionPool, initialDefaultFrame, extendPrototype, DynamicPropertyContainer */\r\n/* exported ShapeModifiers */\r\n\r\nvar ShapeModifiers = (function () {\r\n  var ob = {};\r\n  var modifiers = {};\r\n  ob.registerModifier = registerModifier;\r\n  ob.getModifier = getModifier;\r\n\r\n  function registerModifier(nm, factory) {\r\n    if (!modifiers[nm]) {\r\n      modifiers[nm] = factory;\r\n    }\r\n  }\r\n\r\n  function getModifier(nm, elem, data) {\r\n    return new modifiers[nm](elem, data);\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\nfunction ShapeModifier() {}\r\nShapeModifier.prototype.initModifierProperties = function () {};\r\nShapeModifier.prototype.addShapeToModifier = function () {};\r\nShapeModifier.prototype.addShape = function (data) {\r\n  if (!this.closed) {\r\n    // Adding shape to dynamic properties. It covers the case where a shape has no effects applied, to reset it's _mdf state on every tick.\r\n    data.sh.container.addDynamicProperty(data.sh);\r\n    var shapeData = { shape: data.sh, data: data, localShapeCollection: shapeCollectionPool.newShapeCollection() };\r\n    this.shapes.push(shapeData);\r\n    this.addShapeToModifier(shapeData);\r\n    if (this._isAnimated) {\r\n      data.setAsAnimated();\r\n    }\r\n  }\r\n};\r\nShapeModifier.prototype.init = function (elem, data) {\r\n  this.shapes = [];\r\n  this.elem = elem;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, data);\r\n  this.frameId = initialDefaultFrame;\r\n  this.closed = false;\r\n  this.k = false;\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\nShapeModifier.prototype.processKeys = function () {\r\n  if (this.elem.globalData.frameId === this.frameId) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], ShapeModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, segmentsLengthPool, bez, shapePool, ShapeModifiers */\r\n\r\nfunction TrimModifier() {\r\n}\r\nextendPrototype([ShapeModifier], TrimModifier);\r\nTrimModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.s = PropertyFactory.getProp(elem, data.s, 0, 0.01, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 0, 0.01, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0, this);\r\n  this.sValue = 0;\r\n  this.eValue = 0;\r\n  this.getValue = this.processKeys;\r\n  this.m = data.m;\r\n  this._isAnimated = !!this.s.effectsSequence.length || !!this.e.effectsSequence.length || !!this.o.effectsSequence.length;\r\n};\r\n\r\nTrimModifier.prototype.addShapeToModifier = function (shapeData) {\r\n  shapeData.pathsData = [];\r\n};\r\n\r\nTrimModifier.prototype.calculateShapeEdges = function (s, e, shapeLength, addedLength, totalModifierLength) {\r\n  var segments = [];\r\n  if (e <= 1) {\r\n    segments.push({\r\n      s: s,\r\n      e: e,\r\n    });\r\n  } else if (s >= 1) {\r\n    segments.push({\r\n      s: s - 1,\r\n      e: e - 1,\r\n    });\r\n  } else {\r\n    segments.push({\r\n      s: s,\r\n      e: 1,\r\n    });\r\n    segments.push({\r\n      s: 0,\r\n      e: e - 1,\r\n    });\r\n  }\r\n  var shapeSegments = [];\r\n  var i;\r\n  var len = segments.length;\r\n  var segmentOb;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentOb = segments[i];\r\n    if (!(segmentOb.e * totalModifierLength < addedLength || segmentOb.s * totalModifierLength > addedLength + shapeLength)) {\r\n      var shapeS;\r\n      var shapeE;\r\n      if (segmentOb.s * totalModifierLength <= addedLength) {\r\n        shapeS = 0;\r\n      } else {\r\n        shapeS = (segmentOb.s * totalModifierLength - addedLength) / shapeLength;\r\n      }\r\n      if (segmentOb.e * totalModifierLength >= addedLength + shapeLength) {\r\n        shapeE = 1;\r\n      } else {\r\n        shapeE = ((segmentOb.e * totalModifierLength - addedLength) / shapeLength);\r\n      }\r\n      shapeSegments.push([shapeS, shapeE]);\r\n    }\r\n  }\r\n  if (!shapeSegments.length) {\r\n    shapeSegments.push([0, 0]);\r\n  }\r\n  return shapeSegments;\r\n};\r\n\r\nTrimModifier.prototype.releasePathsData = function (pathsData) {\r\n  var i;\r\n  var len = pathsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    segmentsLengthPool.release(pathsData[i]);\r\n  }\r\n  pathsData.length = 0;\r\n  return pathsData;\r\n};\r\n\r\nTrimModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var s;\r\n  var e;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var o = (this.o.v % 360) / 360;\r\n    if (o < 0) {\r\n      o += 1;\r\n    }\r\n    if (this.s.v > 1) {\r\n      s = 1 + o;\r\n    } else if (this.s.v < 0) {\r\n      s = 0 + o;\r\n    } else {\r\n      s = this.s.v + o;\r\n    }\r\n    if (this.e.v > 1) {\r\n      e = 1 + o;\r\n    } else if (this.e.v < 0) {\r\n      e = 0 + o;\r\n    } else {\r\n      e = this.e.v + o;\r\n    }\r\n\r\n    if (s > e) {\r\n      var _s = s;\r\n      s = e;\r\n      e = _s;\r\n    }\r\n    s = Math.round(s * 10000) * 0.0001;\r\n    e = Math.round(e * 10000) * 0.0001;\r\n    this.sValue = s;\r\n    this.eValue = e;\r\n  } else {\r\n    s = this.sValue;\r\n    e = this.eValue;\r\n  }\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var pathsData;\r\n  var pathData;\r\n  var totalShapeLength;\r\n  var totalModifierLength = 0;\r\n\r\n  if (e === s) {\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].localShapeCollection.releaseShapes();\r\n      this.shapes[i].shape._mdf = true;\r\n      this.shapes[i].shape.paths = this.shapes[i].localShapeCollection;\r\n      if (this._mdf) {\r\n        this.shapes[i].pathsData.length = 0;\r\n      }\r\n    }\r\n  } else if (!((e === 1 && s === 0) || (e === 0 && s === 1))) {\r\n    var segments = [];\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      // if shape hasn't changed and trim properties haven't changed, cached previous path can be used\r\n      if (!shapeData.shape._mdf && !this._mdf && !_isFirstFrame && this.m !== 2) {\r\n        shapeData.shape.paths = shapeData.localShapeCollection;\r\n      } else {\r\n        shapePaths = shapeData.shape.paths;\r\n        jLen = shapePaths._length;\r\n        totalShapeLength = 0;\r\n        if (!shapeData.shape._mdf && shapeData.pathsData.length) {\r\n          totalShapeLength = shapeData.totalShapeLength;\r\n        } else {\r\n          pathsData = this.releasePathsData(shapeData.pathsData);\r\n          for (j = 0; j < jLen; j += 1) {\r\n            pathData = bez.getSegmentsLength(shapePaths.shapes[j]);\r\n            pathsData.push(pathData);\r\n            totalShapeLength += pathData.totalLength;\r\n          }\r\n          shapeData.totalShapeLength = totalShapeLength;\r\n          shapeData.pathsData = pathsData;\r\n        }\r\n\r\n        totalModifierLength += totalShapeLength;\r\n        shapeData.shape._mdf = true;\r\n      }\r\n    }\r\n    var shapeS = s;\r\n    var shapeE = e;\r\n    var addedLength = 0;\r\n    var edges;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shapeData = this.shapes[i];\r\n      if (shapeData.shape._mdf) {\r\n        localShapeCollection = shapeData.localShapeCollection;\r\n        localShapeCollection.releaseShapes();\r\n        // if m === 2 means paths are trimmed individually so edges need to be found for this specific shape relative to whoel group\r\n        if (this.m === 2 && len > 1) {\r\n          edges = this.calculateShapeEdges(s, e, shapeData.totalShapeLength, addedLength, totalModifierLength);\r\n          addedLength += shapeData.totalShapeLength;\r\n        } else {\r\n          edges = [[shapeS, shapeE]];\r\n        }\r\n        jLen = edges.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          shapeS = edges[j][0];\r\n          shapeE = edges[j][1];\r\n          segments.length = 0;\r\n          if (shapeE <= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength * shapeE,\r\n            });\r\n          } else if (shapeS >= 1) {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * (shapeS - 1),\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          } else {\r\n            segments.push({\r\n              s: shapeData.totalShapeLength * shapeS,\r\n              e: shapeData.totalShapeLength,\r\n            });\r\n            segments.push({\r\n              s: 0,\r\n              e: shapeData.totalShapeLength * (shapeE - 1),\r\n            });\r\n          }\r\n          var newShapesData = this.addShapes(shapeData, segments[0]);\r\n          if (segments[0].s !== segments[0].e) {\r\n            if (segments.length > 1) {\r\n              var lastShapeInCollection = shapeData.shape.paths.shapes[shapeData.shape.paths._length - 1];\r\n              if (lastShapeInCollection.c) {\r\n                var lastShape = newShapesData.pop();\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1], lastShape);\r\n              } else {\r\n                this.addPaths(newShapesData, localShapeCollection);\r\n                newShapesData = this.addShapes(shapeData, segments[1]);\r\n              }\r\n            }\r\n            this.addPaths(newShapesData, localShapeCollection);\r\n          }\r\n        }\r\n        shapeData.shape.paths = localShapeCollection;\r\n      }\r\n    }\r\n  } else if (this._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      // Releasign Trim Cached paths data when no trim applied in case shapes are modified inbetween.\r\n      // Don't remove this even if it's losing cached info.\r\n      this.shapes[i].pathsData.length = 0;\r\n      this.shapes[i].shape._mdf = true;\r\n    }\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addPaths = function (newPaths, localShapeCollection) {\r\n  var i;\r\n  var len = newPaths.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    localShapeCollection.addShape(newPaths[i]);\r\n  }\r\n};\r\n\r\nTrimModifier.prototype.addSegment = function (pt1, pt2, pt3, pt4, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(pt2[0], pt2[1], 'o', pos);\r\n  shapePath.setXYAt(pt3[0], pt3[1], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(pt1[0], pt1[1], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(pt4[0], pt4[1], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addSegmentFromArray = function (points, shapePath, pos, newShape) {\r\n  shapePath.setXYAt(points[1], points[5], 'o', pos);\r\n  shapePath.setXYAt(points[2], points[6], 'i', pos + 1);\r\n  if (newShape) {\r\n    shapePath.setXYAt(points[0], points[4], 'v', pos);\r\n  }\r\n  shapePath.setXYAt(points[3], points[7], 'v', pos + 1);\r\n};\r\n\r\nTrimModifier.prototype.addShapes = function (shapeData, shapeSegment, shapePath) {\r\n  var pathsData = shapeData.pathsData;\r\n  var shapePaths = shapeData.shape.paths.shapes;\r\n  var i;\r\n  var len = shapeData.shape.paths._length;\r\n  var j;\r\n  var jLen;\r\n  var addedLength = 0;\r\n  var currentLengthData;\r\n  var segmentCount;\r\n  var lengths;\r\n  var segment;\r\n  var shapes = [];\r\n  var initPos;\r\n  var newShape = true;\r\n  if (!shapePath) {\r\n    shapePath = shapePool.newElement();\r\n    segmentCount = 0;\r\n    initPos = 0;\r\n  } else {\r\n    segmentCount = shapePath._length;\r\n    initPos = shapePath._length;\r\n  }\r\n  shapes.push(shapePath);\r\n  for (i = 0; i < len; i += 1) {\r\n    lengths = pathsData[i].lengths;\r\n    shapePath.c = shapePaths[i].c;\r\n    jLen = shapePaths[i].c ? lengths.length : lengths.length + 1;\r\n    for (j = 1; j < jLen; j += 1) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength + currentLengthData.addedLength < shapeSegment.s) {\r\n        addedLength += currentLengthData.addedLength;\r\n        shapePath.c = false;\r\n      } else if (addedLength > shapeSegment.e) {\r\n        shapePath.c = false;\r\n        break;\r\n      } else {\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + currentLengthData.addedLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[j], shapePaths[i].v[j], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[j], shapePaths[i].o[j - 1], shapePaths[i].i[j], (shapeSegment.s - addedLength) / currentLengthData.addedLength, (shapeSegment.e - addedLength) / currentLengthData.addedLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n        addedLength += currentLengthData.addedLength;\r\n        segmentCount += 1;\r\n      }\r\n    }\r\n    if (shapePaths[i].c && lengths.length) {\r\n      currentLengthData = lengths[j - 1];\r\n      if (addedLength <= shapeSegment.e) {\r\n        var segmentLength = lengths[j - 1].addedLength;\r\n        if (shapeSegment.s <= addedLength && shapeSegment.e >= addedLength + segmentLength) {\r\n          this.addSegment(shapePaths[i].v[j - 1], shapePaths[i].o[j - 1], shapePaths[i].i[0], shapePaths[i].v[0], shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n        } else {\r\n          segment = bez.getNewSegment(shapePaths[i].v[j - 1], shapePaths[i].v[0], shapePaths[i].o[j - 1], shapePaths[i].i[0], (shapeSegment.s - addedLength) / segmentLength, (shapeSegment.e - addedLength) / segmentLength, lengths[j - 1]);\r\n          this.addSegmentFromArray(segment, shapePath, segmentCount, newShape);\r\n          // this.addSegment(segment.pt1, segment.pt3, segment.pt4, segment.pt2, shapePath, segmentCount, newShape);\r\n          newShape = false;\r\n          shapePath.c = false;\r\n        }\r\n      } else {\r\n        shapePath.c = false;\r\n      }\r\n      addedLength += currentLengthData.addedLength;\r\n      segmentCount += 1;\r\n    }\r\n    if (shapePath._length) {\r\n      shapePath.setXYAt(shapePath.v[initPos][0], shapePath.v[initPos][1], 'i', initPos);\r\n      shapePath.setXYAt(shapePath.v[shapePath._length - 1][0], shapePath.v[shapePath._length - 1][1], 'o', shapePath._length - 1);\r\n    }\r\n    if (addedLength > shapeSegment.e) {\r\n      break;\r\n    }\r\n    if (i < len - 1) {\r\n      shapePath = shapePool.newElement();\r\n      newShape = true;\r\n      shapes.push(shapePath);\r\n      segmentCount = 0;\r\n    }\r\n  }\r\n  return shapes;\r\n};\r\n\r\nShapeModifiers.registerModifier('tm', TrimModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, roundCorner, ShapeModifiers */\r\n\r\nfunction RoundCornersModifier() {}\r\nextendPrototype([ShapeModifier], RoundCornersModifier);\r\nRoundCornersModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.rd = PropertyFactory.getProp(elem, data.r, 0, null, this);\r\n  this._isAnimated = !!this.rd.effectsSequence.length;\r\n};\r\n\r\nRoundCornersModifier.prototype.processPath = function (path, round) {\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var i;\r\n  var len = path._length;\r\n  var currentV;\r\n  var currentI;\r\n  var currentO;\r\n  var closerV;\r\n  var distance;\r\n  var newPosPerc;\r\n  var index = 0;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < len; i += 1) {\r\n    currentV = path.v[i];\r\n    currentO = path.o[i];\r\n    currentI = path.i[i];\r\n    if (currentV[0] === currentO[0] && currentV[1] === currentO[1] && currentV[0] === currentI[0] && currentV[1] === currentI[1]) {\r\n      if ((i === 0 || i === len - 1) && !path.c) {\r\n        clonedPath.setTripleAt(currentV[0], currentV[1], currentO[0], currentO[1], currentI[0], currentI[1], index);\r\n        /* clonedPath.v[index] = currentV;\r\n                clonedPath.o[index] = currentO;\r\n                clonedPath.i[index] = currentI; */\r\n        index += 1;\r\n      } else {\r\n        if (i === 0) {\r\n          closerV = path.v[len - 1];\r\n        } else {\r\n          closerV = path.v[i - 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        iX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = iX;\r\n        iY = currentV[1] - (currentV[1] - closerV[1]) * newPosPerc;\r\n        vY = iY;\r\n        oX = vX - (vX - currentV[0]) * roundCorner;\r\n        oY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n\r\n        if (i === len - 1) {\r\n          closerV = path.v[0];\r\n        } else {\r\n          closerV = path.v[i + 1];\r\n        }\r\n        distance = Math.sqrt(Math.pow(currentV[0] - closerV[0], 2) + Math.pow(currentV[1] - closerV[1], 2));\r\n        newPosPerc = distance ? Math.min(distance / 2, round) / distance : 0;\r\n        oX = currentV[0] + (closerV[0] - currentV[0]) * newPosPerc;\r\n        vX = oX;\r\n        oY = currentV[1] + (closerV[1] - currentV[1]) * newPosPerc;\r\n        vY = oY;\r\n        iX = vX - (vX - currentV[0]) * roundCorner;\r\n        iY = vY - (vY - currentV[1]) * roundCorner;\r\n        clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, index);\r\n        index += 1;\r\n      }\r\n    } else {\r\n      clonedPath.setTripleAt(path.v[i][0], path.v[i][1], path.o[i][0], path.o[i][1], path.i[i][0], path.i[i][1], index);\r\n      index += 1;\r\n    }\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nRoundCornersModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var rd = this.rd.v;\r\n\r\n  if (rd !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], rd));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\n\r\nShapeModifiers.registerModifier('rd', RoundCornersModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, PropertyFactory, shapePool, ShapeModifiers */\r\n\r\nfunction PuckerAndBloatModifier() {}\r\nextendPrototype([ShapeModifier], PuckerAndBloatModifier);\r\nPuckerAndBloatModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.amount = PropertyFactory.getProp(elem, data.a, 0, null, this);\r\n  this._isAnimated = !!this.amount.effectsSequence.length;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processPath = function (path, amount) {\r\n  var percent = amount / 100;\r\n  var centerPoint = [0, 0];\r\n  var pathLength = path._length;\r\n  var i = 0;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    centerPoint[0] += path.v[i][0];\r\n    centerPoint[1] += path.v[i][1];\r\n  }\r\n  centerPoint[0] /= pathLength;\r\n  centerPoint[1] /= pathLength;\r\n  var clonedPath = shapePool.newElement();\r\n  clonedPath.c = path.c;\r\n  var vX;\r\n  var vY;\r\n  var oX;\r\n  var oY;\r\n  var iX;\r\n  var iY;\r\n  for (i = 0; i < pathLength; i += 1) {\r\n    vX = path.v[i][0] + (centerPoint[0] - path.v[i][0]) * percent;\r\n    vY = path.v[i][1] + (centerPoint[1] - path.v[i][1]) * percent;\r\n    oX = path.o[i][0] + (centerPoint[0] - path.o[i][0]) * -percent;\r\n    oY = path.o[i][1] + (centerPoint[1] - path.o[i][1]) * -percent;\r\n    iX = path.i[i][0] + (centerPoint[0] - path.i[i][0]) * -percent;\r\n    iY = path.i[i][1] + (centerPoint[1] - path.i[i][1]) * -percent;\r\n    clonedPath.setTripleAt(vX, vY, oX, oY, iX, iY, i);\r\n  }\r\n  return clonedPath;\r\n};\r\n\r\nPuckerAndBloatModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var shapePaths;\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var j;\r\n  var jLen;\r\n  var amount = this.amount.v;\r\n\r\n  if (amount !== 0) {\r\n    var shapeData;\r\n    var localShapeCollection;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapeData = this.shapes[i];\r\n      localShapeCollection = shapeData.localShapeCollection;\r\n      if (!(!shapeData.shape._mdf && !this._mdf && !_isFirstFrame)) {\r\n        localShapeCollection.releaseShapes();\r\n        shapeData.shape._mdf = true;\r\n        shapePaths = shapeData.shape.paths.shapes;\r\n        jLen = shapeData.shape.paths._length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          localShapeCollection.addShape(this.processPath(shapePaths[j], amount));\r\n        }\r\n      }\r\n      shapeData.shape.paths = shapeData.localShapeCollection;\r\n    }\r\n  }\r\n  if (!this.dynamicProperties.length) {\r\n    this._mdf = false;\r\n  }\r\n};\r\nShapeModifiers.registerModifier('pb', PuckerAndBloatModifier);\r\n\r\n/* global extendPrototype, ShapeModifier, TransformPropertyFactory, PropertyFactory, Matrix, ShapeModifiers */\r\n\r\nfunction RepeaterModifier() {}\r\nextendPrototype([ShapeModifier], RepeaterModifier);\r\n\r\nRepeaterModifier.prototype.initModifierProperties = function (elem, data) {\r\n  this.getValue = this.processKeys;\r\n  this.c = PropertyFactory.getProp(elem, data.c, 0, null, this);\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, null, this);\r\n  this.tr = TransformPropertyFactory.getTransformProperty(elem, data.tr, this);\r\n  this.so = PropertyFactory.getProp(elem, data.tr.so, 0, 0.01, this);\r\n  this.eo = PropertyFactory.getProp(elem, data.tr.eo, 0, 0.01, this);\r\n  this.data = data;\r\n  if (!this.dynamicProperties.length) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = !!this.dynamicProperties.length;\r\n  this.pMatrix = new Matrix();\r\n  this.rMatrix = new Matrix();\r\n  this.sMatrix = new Matrix();\r\n  this.tMatrix = new Matrix();\r\n  this.matrix = new Matrix();\r\n};\r\n\r\nRepeaterModifier.prototype.applyTransforms = function (pMatrix, rMatrix, sMatrix, transform, perc, inv) {\r\n  var dir = inv ? -1 : 1;\r\n  var scaleX = transform.s.v[0] + (1 - transform.s.v[0]) * (1 - perc);\r\n  var scaleY = transform.s.v[1] + (1 - transform.s.v[1]) * (1 - perc);\r\n  pMatrix.translate(transform.p.v[0] * dir * perc, transform.p.v[1] * dir * perc, transform.p.v[2]);\r\n  rMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  rMatrix.rotate(-transform.r.v * dir * perc);\r\n  rMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.translate(-transform.a.v[0], -transform.a.v[1], transform.a.v[2]);\r\n  sMatrix.scale(inv ? 1 / scaleX : scaleX, inv ? 1 / scaleY : scaleY);\r\n  sMatrix.translate(transform.a.v[0], transform.a.v[1], transform.a.v[2]);\r\n};\r\n\r\nRepeaterModifier.prototype.init = function (elem, arr, pos, elemsData) {\r\n  this.elem = elem;\r\n  this.arr = arr;\r\n  this.pos = pos;\r\n  this.elemsData = elemsData;\r\n  this._currentCopies = 0;\r\n  this._elements = [];\r\n  this._groups = [];\r\n  this.frameId = -1;\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.initModifierProperties(elem, arr[pos]);\r\n  while (pos > 0) {\r\n    pos -= 1;\r\n    // this._elements.unshift(arr.splice(pos,1)[0]);\r\n    this._elements.unshift(arr[pos]);\r\n  }\r\n  if (this.dynamicProperties.length) {\r\n    this.k = true;\r\n  } else {\r\n    this.getValue(true);\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.resetElements = function (elements) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._processed = false;\r\n    if (elements[i].ty === 'gr') {\r\n      this.resetElements(elements[i].it);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.cloneElements = function (elements) {\r\n  var newElements = JSON.parse(JSON.stringify(elements));\r\n  this.resetElements(newElements);\r\n  return newElements;\r\n};\r\n\r\nRepeaterModifier.prototype.changeGroupRender = function (elements, renderFlag) {\r\n  var i;\r\n  var len = elements.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    elements[i]._render = renderFlag;\r\n    if (elements[i].ty === 'gr') {\r\n      this.changeGroupRender(elements[i].it, renderFlag);\r\n    }\r\n  }\r\n};\r\n\r\nRepeaterModifier.prototype.processShapes = function (_isFirstFrame) {\r\n  var items;\r\n  var itemsTransform;\r\n  var i;\r\n  var dir;\r\n  var cont;\r\n  var hasReloaded = false;\r\n  if (this._mdf || _isFirstFrame) {\r\n    var copies = Math.ceil(this.c.v);\r\n    if (this._groups.length < copies) {\r\n      while (this._groups.length < copies) {\r\n        var group = {\r\n          it: this.cloneElements(this._elements),\r\n          ty: 'gr',\r\n        };\r\n        group.it.push({\r\n          a: { a: 0, ix: 1, k: [0, 0] }, nm: 'Transform', o: { a: 0, ix: 7, k: 100 }, p: { a: 0, ix: 2, k: [0, 0] }, r: { a: 1, ix: 6, k: [{ s: 0, e: 0, t: 0 }, { s: 0, e: 0, t: 1 }] }, s: { a: 0, ix: 3, k: [100, 100] }, sa: { a: 0, ix: 5, k: 0 }, sk: { a: 0, ix: 4, k: 0 }, ty: 'tr',\r\n        });\r\n\r\n        this.arr.splice(0, 0, group);\r\n        this._groups.splice(0, 0, group);\r\n        this._currentCopies += 1;\r\n      }\r\n      this.elem.reloadShapes();\r\n      hasReloaded = true;\r\n    }\r\n    cont = 0;\r\n    var renderFlag;\r\n    for (i = 0; i <= this._groups.length - 1; i += 1) {\r\n      renderFlag = cont < copies;\r\n      this._groups[i]._render = renderFlag;\r\n      this.changeGroupRender(this._groups[i].it, renderFlag);\r\n      if (!renderFlag) {\r\n        var elems = this.elemsData[i].it;\r\n        var transformData = elems[elems.length - 1];\r\n        if (transformData.transform.op.v !== 0) {\r\n          transformData.transform.op._mdf = true;\r\n          transformData.transform.op.v = 0;\r\n        } else {\r\n          transformData.transform.op._mdf = false;\r\n        }\r\n      }\r\n      cont += 1;\r\n    }\r\n\r\n    this._currentCopies = copies;\r\n    /// /\r\n\r\n    var offset = this.o.v;\r\n    var offsetModulo = offset % 1;\r\n    var roundOffset = offset > 0 ? Math.floor(offset) : Math.ceil(offset);\r\n    var pProps = this.pMatrix.props;\r\n    var rProps = this.rMatrix.props;\r\n    var sProps = this.sMatrix.props;\r\n    this.pMatrix.reset();\r\n    this.rMatrix.reset();\r\n    this.sMatrix.reset();\r\n    this.tMatrix.reset();\r\n    this.matrix.reset();\r\n    var iteration = 0;\r\n\r\n    if (offset > 0) {\r\n      while (iteration < roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        iteration += 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, offsetModulo, false);\r\n        iteration += offsetModulo;\r\n      }\r\n    } else if (offset < 0) {\r\n      while (iteration > roundOffset) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, true);\r\n        iteration -= 1;\r\n      }\r\n      if (offsetModulo) {\r\n        this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, -offsetModulo, true);\r\n        iteration -= offsetModulo;\r\n      }\r\n    }\r\n    i = this.data.m === 1 ? 0 : this._currentCopies - 1;\r\n    dir = this.data.m === 1 ? 1 : -1;\r\n    cont = this._currentCopies;\r\n    var j;\r\n    var jLen;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      jLen = itemsTransform.length;\r\n      items[items.length - 1].transform.mProps._mdf = true;\r\n      items[items.length - 1].transform.op._mdf = true;\r\n      items[items.length - 1].transform.op.v = this._currentCopies === 1\r\n        ? this.so.v\r\n        : this.so.v + (this.eo.v - this.so.v) * (i / (this._currentCopies - 1));\r\n\r\n      if (iteration !== 0) {\r\n        if ((i !== 0 && dir === 1) || (i !== this._currentCopies - 1 && dir === -1)) {\r\n          this.applyTransforms(this.pMatrix, this.rMatrix, this.sMatrix, this.tr, 1, false);\r\n        }\r\n        this.matrix.transform(rProps[0], rProps[1], rProps[2], rProps[3], rProps[4], rProps[5], rProps[6], rProps[7], rProps[8], rProps[9], rProps[10], rProps[11], rProps[12], rProps[13], rProps[14], rProps[15]);\r\n        this.matrix.transform(sProps[0], sProps[1], sProps[2], sProps[3], sProps[4], sProps[5], sProps[6], sProps[7], sProps[8], sProps[9], sProps[10], sProps[11], sProps[12], sProps[13], sProps[14], sProps[15]);\r\n        this.matrix.transform(pProps[0], pProps[1], pProps[2], pProps[3], pProps[4], pProps[5], pProps[6], pProps[7], pProps[8], pProps[9], pProps[10], pProps[11], pProps[12], pProps[13], pProps[14], pProps[15]);\r\n\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n        this.matrix.reset();\r\n      } else {\r\n        this.matrix.reset();\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsTransform[j] = this.matrix.props[j];\r\n        }\r\n      }\r\n      iteration += 1;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  } else {\r\n    cont = this._currentCopies;\r\n    i = 0;\r\n    dir = 1;\r\n    while (cont) {\r\n      items = this.elemsData[i].it;\r\n      itemsTransform = items[items.length - 1].transform.mProps.v.props;\r\n      items[items.length - 1].transform.mProps._mdf = false;\r\n      items[items.length - 1].transform.op._mdf = false;\r\n      cont -= 1;\r\n      i += dir;\r\n    }\r\n  }\r\n  return hasReloaded;\r\n};\r\n\r\nRepeaterModifier.prototype.addShape = function () {};\r\n\r\nShapeModifiers.registerModifier('rp', RepeaterModifier);\r\n\r\n/* global createSizedArray, shapePool */\r\n\r\nfunction ShapeCollection() {\r\n  this._length = 0;\r\n  this._maxLength = 4;\r\n  this.shapes = createSizedArray(this._maxLength);\r\n}\r\n\r\nShapeCollection.prototype.addShape = function (shapeData) {\r\n  if (this._length === this._maxLength) {\r\n    this.shapes = this.shapes.concat(createSizedArray(this._maxLength));\r\n    this._maxLength *= 2;\r\n  }\r\n  this.shapes[this._length] = shapeData;\r\n  this._length += 1;\r\n};\r\n\r\nShapeCollection.prototype.releaseShapes = function () {\r\n  var i;\r\n  for (i = 0; i < this._length; i += 1) {\r\n    shapePool.release(this.shapes[i]);\r\n  }\r\n  this._length = 0;\r\n};\r\n\r\n/* global createSizedArray, createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction DashProperty(elem, data, renderer, container) {\r\n  this.elem = elem;\r\n  this.frameId = -1;\r\n  this.dataProps = createSizedArray(data.length);\r\n  this.renderer = renderer;\r\n  this.k = false;\r\n  this.dashStr = '';\r\n  this.dashArray = createTypedArray('float32', data.length ? data.length - 1 : 0);\r\n  this.dashoffset = createTypedArray('float32', 1);\r\n  this.initDynamicPropertyContainer(container);\r\n  var i;\r\n  var len = data.length || 0;\r\n  var prop;\r\n  for (i = 0; i < len; i += 1) {\r\n    prop = PropertyFactory.getProp(elem, data[i].v, 0, 0, this);\r\n    this.k = prop.k || this.k;\r\n    this.dataProps[i] = { n: data[i].n, p: prop };\r\n  }\r\n  if (!this.k) {\r\n    this.getValue(true);\r\n  }\r\n  this._isAnimated = this.k;\r\n}\r\n\r\nDashProperty.prototype.getValue = function (forceRender) {\r\n  if (this.elem.globalData.frameId === this.frameId && !forceRender) {\r\n    return;\r\n  }\r\n  this.frameId = this.elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n  this._mdf = this._mdf || forceRender;\r\n  if (this._mdf) {\r\n    var i = 0;\r\n    var len = this.dataProps.length;\r\n    if (this.renderer === 'svg') {\r\n      this.dashStr = '';\r\n    }\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.dataProps[i].n !== 'o') {\r\n        if (this.renderer === 'svg') {\r\n          this.dashStr += ' ' + this.dataProps[i].p.v;\r\n        } else {\r\n          this.dashArray[i] = this.dataProps[i].p.v;\r\n        }\r\n      } else {\r\n        this.dashoffset[0] = this.dataProps[i].p.v;\r\n      }\r\n    }\r\n  }\r\n};\r\nextendPrototype([DynamicPropertyContainer], DashProperty);\r\n\r\n/* global createTypedArray, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\nfunction GradientProperty(elem, data, container) {\r\n  this.data = data;\r\n  this.c = createTypedArray('uint8c', data.p * 4);\r\n  var cLength = data.k.k[0].s ? (data.k.k[0].s.length - data.p * 4) : data.k.k.length - data.p * 4;\r\n  this.o = createTypedArray('float32', cLength);\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  this._collapsable = this.checkCollapsable();\r\n  this._hasOpacity = cLength;\r\n  this.initDynamicPropertyContainer(container);\r\n  this.prop = PropertyFactory.getProp(elem, data.k, 1, null, this);\r\n  this.k = this.prop.k;\r\n  this.getValue(true);\r\n}\r\n\r\nGradientProperty.prototype.comparePoints = function (values, points) {\r\n  var i = 0;\r\n  var len = this.o.length / 2;\r\n  var diff;\r\n  while (i < len) {\r\n    diff = Math.abs(values[i * 4] - values[points * 4 + i * 2]);\r\n    if (diff > 0.01) {\r\n      return false;\r\n    }\r\n    i += 1;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.checkCollapsable = function () {\r\n  if (this.o.length / 2 !== this.c.length / 4) {\r\n    return false;\r\n  }\r\n  if (this.data.k.k[0].s) {\r\n    var i = 0;\r\n    var len = this.data.k.k.length;\r\n    while (i < len) {\r\n      if (!this.comparePoints(this.data.k.k[i].s, this.data.p)) {\r\n        return false;\r\n      }\r\n      i += 1;\r\n    }\r\n  } else if (!this.comparePoints(this.data.k.k, this.data.p)) {\r\n    return false;\r\n  }\r\n  return true;\r\n};\r\n\r\nGradientProperty.prototype.getValue = function (forceRender) {\r\n  this.prop.getValue();\r\n  this._mdf = false;\r\n  this._cmdf = false;\r\n  this._omdf = false;\r\n  if (this.prop._mdf || forceRender) {\r\n    var i;\r\n    var len = this.data.p * 4;\r\n    var mult;\r\n    var val;\r\n    for (i = 0; i < len; i += 1) {\r\n      mult = i % 4 === 0 ? 100 : 255;\r\n      val = Math.round(this.prop.v[i] * mult);\r\n      if (this.c[i] !== val) {\r\n        this.c[i] = val;\r\n        this._cmdf = !forceRender;\r\n      }\r\n    }\r\n    if (this.o.length) {\r\n      len = this.prop.v.length;\r\n      for (i = this.data.p * 4; i < len; i += 1) {\r\n        mult = i % 2 === 0 ? 100 : 1;\r\n        val = i % 2 === 0 ? Math.round(this.prop.v[i] * 100) : this.prop.v[i];\r\n        if (this.o[i - this.data.p * 4] !== val) {\r\n          this.o[i - this.data.p * 4] = val;\r\n          this._omdf = !forceRender;\r\n        }\r\n      }\r\n    }\r\n    this._mdf = !forceRender;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], GradientProperty);\r\n\r\n/* exported buildShapeString */\r\n\r\nvar buildShapeString = function (pathNodes, length, closed, mat) {\r\n  if (length === 0) {\r\n    return '';\r\n  }\r\n  var _o = pathNodes.o;\r\n  var _i = pathNodes.i;\r\n  var _v = pathNodes.v;\r\n  var i;\r\n  var shapeString = ' M' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n  for (i = 1; i < length; i += 1) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[i][0], _i[i][1]) + ' ' + mat.applyToPointStringified(_v[i][0], _v[i][1]);\r\n  }\r\n  if (closed && length) {\r\n    shapeString += ' C' + mat.applyToPointStringified(_o[i - 1][0], _o[i - 1][1]) + ' ' + mat.applyToPointStringified(_i[0][0], _i[0][1]) + ' ' + mat.applyToPointStringified(_v[0][0], _v[0][1]);\r\n    shapeString += 'z';\r\n  }\r\n  return shapeString;\r\n};\r\n\r\n/* global Howl */\r\n/* exported audioControllerFactory */\r\n\r\nvar audioControllerFactory = (function () {\r\n  function AudioController(audioFactory) {\r\n    this.audios = [];\r\n    this.audioFactory = audioFactory;\r\n    this._volume = 1;\r\n    this._isMuted = false;\r\n  }\r\n\r\n  AudioController.prototype = {\r\n    addAudio: function (audio) {\r\n      this.audios.push(audio);\r\n    },\r\n    pause: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].pause();\r\n      }\r\n    },\r\n    resume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].resume();\r\n      }\r\n    },\r\n    setRate: function (rateValue) {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].setRate(rateValue);\r\n      }\r\n    },\r\n    createAudio: function (assetPath) {\r\n      if (this.audioFactory) {\r\n        return this.audioFactory(assetPath);\r\n      } if (Howl) {\r\n        return new Howl({\r\n          src: [assetPath],\r\n        });\r\n      }\r\n      return {\r\n        isPlaying: false,\r\n        play: function () { this.isPlaying = true; },\r\n        seek: function () { this.isPlaying = false; },\r\n        playing: function () {},\r\n        rate: function () {},\r\n        setVolume: function () {},\r\n      };\r\n    },\r\n    setAudioFactory: function (audioFactory) {\r\n      this.audioFactory = audioFactory;\r\n    },\r\n    setVolume: function (value) {\r\n      this._volume = value;\r\n      this._updateVolume();\r\n    },\r\n    mute: function () {\r\n      this._isMuted = true;\r\n      this._updateVolume();\r\n    },\r\n    unmute: function () {\r\n      this._isMuted = false;\r\n      this._updateVolume();\r\n    },\r\n    getVolume: function () {\r\n      return this._volume;\r\n    },\r\n    _updateVolume: function () {\r\n      var i;\r\n      var len = this.audios.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        this.audios[i].volume(this._volume * (this._isMuted ? 0 : 1));\r\n      }\r\n    },\r\n  };\r\n\r\n  return function () {\r\n    return new AudioController();\r\n  };\r\n}());\r\n\r\n/* global createTag, createNS, isSafari, dataManager */\r\n/* exported ImagePreloader */\r\n\r\nvar ImagePreloader = (function () {\r\n  var proxyImage = (function () {\r\n    var canvas = createTag('canvas');\r\n    canvas.width = 1;\r\n    canvas.height = 1;\r\n    var ctx = canvas.getContext('2d');\r\n    ctx.fillStyle = 'rgba(0,0,0,0)';\r\n    ctx.fillRect(0, 0, 1, 1);\r\n    return canvas;\r\n  }());\r\n\r\n  function imageLoaded() {\r\n    this.loadedAssets += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n  function footageLoaded() {\r\n    this.loadedFootagesCount += 1;\r\n    if (this.loadedAssets === this.totalImages && this.loadedFootagesCount === this.totalFootages) {\r\n      if (this.imagesLoadedCb) {\r\n        this.imagesLoadedCb(null);\r\n      }\r\n    }\r\n  }\r\n\r\n  function getAssetsPath(assetData, assetsPath, originalPath) {\r\n    var path = '';\r\n    if (assetData.e) {\r\n      path = assetData.p;\r\n    } else if (assetsPath) {\r\n      var imagePath = assetData.p;\r\n      if (imagePath.indexOf('images/') !== -1) {\r\n        imagePath = imagePath.split('/')[1];\r\n      }\r\n      path = assetsPath + imagePath;\r\n    } else {\r\n      path = originalPath;\r\n      path += assetData.u ? assetData.u : '';\r\n      path += assetData.p;\r\n    }\r\n    return path;\r\n  }\r\n\r\n  function testImageLoaded(img) {\r\n    var _count = 0;\r\n    var intervalId = setInterval(function () {\r\n      var box = img.getBBox();\r\n      if (box.width || _count > 500) {\r\n        this._imageLoaded();\r\n        clearInterval(intervalId);\r\n      }\r\n      _count += 1;\r\n    }.bind(this), 50);\r\n  }\r\n\r\n  function createImageData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createNS('image');\r\n    if (isSafari) {\r\n      this.testImageLoaded(img);\r\n    } else {\r\n      img.addEventListener('load', this._imageLoaded, false);\r\n    }\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.setAttributeNS('http://www.w3.org/1999/xlink', 'href', path);\r\n    if (this._elementHelper.append) {\r\n      this._elementHelper.append(img);\r\n    } else {\r\n      this._elementHelper.appendChild(img);\r\n    }\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createImgData(assetData) {\r\n    var path = getAssetsPath(assetData, this.assetsPath, this.path);\r\n    var img = createTag('img');\r\n    img.crossOrigin = 'anonymous';\r\n    img.addEventListener('load', this._imageLoaded, false);\r\n    img.addEventListener('error', function () {\r\n      ob.img = proxyImage;\r\n      this._imageLoaded();\r\n    }.bind(this), false);\r\n    img.src = path;\r\n    var ob = {\r\n      img: img,\r\n      assetData: assetData,\r\n    };\r\n    return ob;\r\n  }\r\n\r\n  function createFootageData(data) {\r\n    var ob = {\r\n      assetData: data,\r\n    };\r\n    var path = getAssetsPath(data, this.assetsPath, this.path);\r\n    dataManager.loadData(path, function (footageData) {\r\n      ob.img = footageData;\r\n      this._footageLoaded();\r\n    }.bind(this), function () {\r\n      ob.img = {};\r\n      this._footageLoaded();\r\n    }.bind(this));\r\n    return ob;\r\n  }\r\n\r\n  function loadAssets(assets, cb) {\r\n    this.imagesLoadedCb = cb;\r\n    var i;\r\n    var len = assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!assets[i].layers) {\r\n        if (!assets[i].t || assets[i].t === 'seq') {\r\n          this.totalImages += 1;\r\n          this.images.push(this._createImageData(assets[i]));\r\n        } else if (assets[i].t === 3) {\r\n          this.totalFootages += 1;\r\n          this.images.push(this.createFootageData(assets[i]));\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  function setPath(path) {\r\n    this.path = path || '';\r\n  }\r\n\r\n  function setAssetsPath(path) {\r\n    this.assetsPath = path || '';\r\n  }\r\n\r\n  function getAsset(assetData) {\r\n    var i = 0;\r\n    var len = this.images.length;\r\n    while (i < len) {\r\n      if (this.images[i].assetData === assetData) {\r\n        return this.images[i].img;\r\n      }\r\n      i += 1;\r\n    }\r\n    return null;\r\n  }\r\n\r\n  function destroy() {\r\n    this.imagesLoadedCb = null;\r\n    this.images.length = 0;\r\n  }\r\n\r\n  function loadedImages() {\r\n    return this.totalImages === this.loadedAssets;\r\n  }\r\n\r\n  function loadedFootages() {\r\n    return this.totalFootages === this.loadedFootagesCount;\r\n  }\r\n\r\n  function setCacheType(type, elementHelper) {\r\n    if (type === 'svg') {\r\n      this._elementHelper = elementHelper;\r\n      this._createImageData = this.createImageData.bind(this);\r\n    } else {\r\n      this._createImageData = this.createImgData.bind(this);\r\n    }\r\n  }\r\n\r\n  function ImagePreloaderFactory() {\r\n    this._imageLoaded = imageLoaded.bind(this);\r\n    this._footageLoaded = footageLoaded.bind(this);\r\n    this.testImageLoaded = testImageLoaded.bind(this);\r\n    this.createFootageData = createFootageData.bind(this);\r\n    this.assetsPath = '';\r\n    this.path = '';\r\n    this.totalImages = 0;\r\n    this.totalFootages = 0;\r\n    this.loadedAssets = 0;\r\n    this.loadedFootagesCount = 0;\r\n    this.imagesLoadedCb = null;\r\n    this.images = [];\r\n  }\r\n\r\n  ImagePreloaderFactory.prototype = {\r\n    loadAssets: loadAssets,\r\n    setAssetsPath: setAssetsPath,\r\n    setPath: setPath,\r\n    loadedImages: loadedImages,\r\n    loadedFootages: loadedFootages,\r\n    destroy: destroy,\r\n    getAsset: getAsset,\r\n    createImgData: createImgData,\r\n    createImageData: createImageData,\r\n    imageLoaded: imageLoaded,\r\n    footageLoaded: footageLoaded,\r\n    setCacheType: setCacheType,\r\n  };\r\n\r\n  return ImagePreloaderFactory;\r\n}());\r\n\r\n/* exported featureSupport */\r\n\r\nvar featureSupport = (function () {\r\n  var ob = {\r\n    maskType: true,\r\n  };\r\n  if (/MSIE 10/i.test(navigator.userAgent) || /MSIE 9/i.test(navigator.userAgent) || /rv:11.0/i.test(navigator.userAgent) || /Edge\\/\\d./i.test(navigator.userAgent)) {\r\n    ob.maskType = false;\r\n  }\r\n  return ob;\r\n}());\r\n\r\n/* global createNS */\r\n/* exported filtersFactory */\r\n\r\nvar filtersFactory = (function () {\r\n  var ob = {};\r\n  ob.createFilter = createFilter;\r\n  ob.createAlphaToLuminanceFilter = createAlphaToLuminanceFilter;\r\n\r\n  function createFilter(filId, skipCoordinates) {\r\n    var fil = createNS('filter');\r\n    fil.setAttribute('id', filId);\r\n    if (skipCoordinates !== true) {\r\n      fil.setAttribute('filterUnits', 'objectBoundingBox');\r\n      fil.setAttribute('x', '0%');\r\n      fil.setAttribute('y', '0%');\r\n      fil.setAttribute('width', '100%');\r\n      fil.setAttribute('height', '100%');\r\n    }\r\n    return fil;\r\n  }\r\n\r\n  function createAlphaToLuminanceFilter() {\r\n    var feColorMatrix = createNS('feColorMatrix');\r\n    feColorMatrix.setAttribute('type', 'matrix');\r\n    feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n    feColorMatrix.setAttribute('values', '0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1');\r\n    return feColorMatrix;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global createSizedArray, PropertyFactory, TextAnimatorDataProperty, bez, addHueToRGB,\r\n  addSaturationToRGB, addBrightnessToRGB, LetterProps, Matrix, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction TextAnimatorProperty(textData, renderType, elem) {\r\n  this._isFirstFrame = true;\r\n  this._hasMaskedPath = false;\r\n  this._frameId = -1;\r\n  this._textData = textData;\r\n  this._renderType = renderType;\r\n  this._elem = elem;\r\n  this._animatorsData = createSizedArray(this._textData.a.length);\r\n  this._pathData = {};\r\n  this._moreOptions = {\r\n    alignment: {},\r\n  };\r\n  this.renderedLetters = [];\r\n  this.lettersChangedFlag = false;\r\n  this.initDynamicPropertyContainer(elem);\r\n}\r\n\r\nTextAnimatorProperty.prototype.searchProperties = function () {\r\n  var i;\r\n  var len = this._textData.a.length;\r\n  var animatorProps;\r\n  var getProp = PropertyFactory.getProp;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatorProps = this._textData.a[i];\r\n    this._animatorsData[i] = new TextAnimatorDataProperty(this._elem, animatorProps, this);\r\n  }\r\n  if (this._textData.p && 'm' in this._textData.p) {\r\n    this._pathData = {\r\n      a: getProp(this._elem, this._textData.p.a, 0, 0, this),\r\n      f: getProp(this._elem, this._textData.p.f, 0, 0, this),\r\n      l: getProp(this._elem, this._textData.p.l, 0, 0, this),\r\n      r: getProp(this._elem, this._textData.p.r, 0, 0, this),\r\n      p: getProp(this._elem, this._textData.p.p, 0, 0, this),\r\n      m: this._elem.maskManager.getMaskProperty(this._textData.p.m),\r\n    };\r\n    this._hasMaskedPath = true;\r\n  } else {\r\n    this._hasMaskedPath = false;\r\n  }\r\n  this._moreOptions.alignment = getProp(this._elem, this._textData.m.a, 1, 0, this);\r\n};\r\n\r\nTextAnimatorProperty.prototype.getMeasures = function (documentData, lettersChangedFlag) {\r\n  this.lettersChangedFlag = lettersChangedFlag;\r\n  if (!this._mdf && !this._isFirstFrame && !lettersChangedFlag && (!this._hasMaskedPath || !this._pathData.m._mdf)) {\r\n    return;\r\n  }\r\n  this._isFirstFrame = false;\r\n  var alignment = this._moreOptions.alignment.v;\r\n  var animators = this._animatorsData;\r\n  var textData = this._textData;\r\n  var matrixHelper = this.mHelper;\r\n  var renderType = this._renderType;\r\n  var renderedLettersCount = this.renderedLetters.length;\r\n  var xPos;\r\n  var yPos;\r\n  var i;\r\n  var len;\r\n  var letters = documentData.l;\r\n  var pathInfo;\r\n  var currentLength;\r\n  var currentPoint;\r\n  var segmentLength;\r\n  var flag;\r\n  var pointInd;\r\n  var segmentInd;\r\n  var prevPoint;\r\n  var points;\r\n  var segments;\r\n  var partialLength;\r\n  var totalLength;\r\n  var perc;\r\n  var tanAngle;\r\n  var mask;\r\n  if (this._hasMaskedPath) {\r\n    mask = this._pathData.m;\r\n    if (!this._pathData.n || this._pathData._mdf) {\r\n      var paths = mask.v;\r\n      if (this._pathData.r.v) {\r\n        paths = paths.reverse();\r\n      }\r\n      // TODO: release bezier data cached from previous pathInfo: this._pathData.pi\r\n      pathInfo = {\r\n        tLength: 0,\r\n        segments: [],\r\n      };\r\n      len = paths._length - 1;\r\n      var bezierData;\r\n      totalLength = 0;\r\n      for (i = 0; i < len; i += 1) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[i + 1],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[i + 1][0] - paths.v[i + 1][0], paths.i[i + 1][1] - paths.v[i + 1][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      i = len;\r\n      if (mask.v.c) {\r\n        bezierData = bez.buildBezierData(paths.v[i],\r\n          paths.v[0],\r\n          [paths.o[i][0] - paths.v[i][0], paths.o[i][1] - paths.v[i][1]],\r\n          [paths.i[0][0] - paths.v[0][0], paths.i[0][1] - paths.v[0][1]]);\r\n        pathInfo.tLength += bezierData.segmentLength;\r\n        pathInfo.segments.push(bezierData);\r\n        totalLength += bezierData.segmentLength;\r\n      }\r\n      this._pathData.pi = pathInfo;\r\n    }\r\n    pathInfo = this._pathData.pi;\r\n\r\n    currentLength = this._pathData.f.v;\r\n    segmentInd = 0;\r\n    pointInd = 1;\r\n    segmentLength = 0;\r\n    flag = true;\r\n    segments = pathInfo.segments;\r\n    if (currentLength < 0 && mask.v.c) {\r\n      if (pathInfo.tLength < Math.abs(currentLength)) {\r\n        currentLength = -Math.abs(currentLength) % pathInfo.tLength;\r\n      }\r\n      segmentInd = segments.length - 1;\r\n      points = segments[segmentInd].points;\r\n      pointInd = points.length - 1;\r\n      while (currentLength < 0) {\r\n        currentLength += points[pointInd].partialLength;\r\n        pointInd -= 1;\r\n        if (pointInd < 0) {\r\n          segmentInd -= 1;\r\n          points = segments[segmentInd].points;\r\n          pointInd = points.length - 1;\r\n        }\r\n      }\r\n    }\r\n    points = segments[segmentInd].points;\r\n    prevPoint = points[pointInd - 1];\r\n    currentPoint = points[pointInd];\r\n    partialLength = currentPoint.partialLength;\r\n  }\r\n\r\n  len = letters.length;\r\n  xPos = 0;\r\n  yPos = 0;\r\n  var yOff = documentData.finalSize * 1.2 * 0.714;\r\n  var firstLine = true;\r\n  var animatorProps;\r\n  var animatorSelector;\r\n  var j;\r\n  var jLen;\r\n  var letterValue;\r\n\r\n  jLen = animators.length;\r\n\r\n  var mult;\r\n  var ind = -1;\r\n  var offf;\r\n  var xPathPos;\r\n  var yPathPos;\r\n  var initPathPos = currentLength;\r\n  var initSegmentInd = segmentInd;\r\n  var initPointInd = pointInd;\r\n  var currentLine = -1;\r\n  var elemOpacity;\r\n  var sc;\r\n  var sw;\r\n  var fc;\r\n  var k;\r\n  var letterSw;\r\n  var letterSc;\r\n  var letterFc;\r\n  var letterM = '';\r\n  var letterP = this.defaultPropsArray;\r\n  var letterO;\r\n\r\n  //\r\n  if (documentData.j === 2 || documentData.j === 1) {\r\n    var animatorJustifyOffset = 0;\r\n    var animatorFirstCharOffset = 0;\r\n    var justifyOffsetMult = documentData.j === 2 ? -0.5 : -1;\r\n    var lastIndex = 0;\r\n    var isNewLine = true;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      if (letters[i].n) {\r\n        if (animatorJustifyOffset) {\r\n          animatorJustifyOffset += animatorFirstCharOffset;\r\n        }\r\n        while (lastIndex < i) {\r\n          letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n          lastIndex += 1;\r\n        }\r\n        animatorJustifyOffset = 0;\r\n        isNewLine = true;\r\n      } else {\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.t.propType) {\r\n            if (isNewLine && documentData.j === 2) {\r\n              animatorFirstCharOffset += animatorProps.t.v * justifyOffsetMult;\r\n            }\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorJustifyOffset += animatorProps.t.v * mult[0] * justifyOffsetMult;\r\n            } else {\r\n              animatorJustifyOffset += animatorProps.t.v * mult * justifyOffsetMult;\r\n            }\r\n          }\r\n        }\r\n        isNewLine = false;\r\n      }\r\n    }\r\n    if (animatorJustifyOffset) {\r\n      animatorJustifyOffset += animatorFirstCharOffset;\r\n    }\r\n    while (lastIndex < i) {\r\n      letters[lastIndex].animatorJustifyOffset = animatorJustifyOffset;\r\n      lastIndex += 1;\r\n    }\r\n  }\r\n  //\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    matrixHelper.reset();\r\n    elemOpacity = 1;\r\n    if (letters[i].n) {\r\n      xPos = 0;\r\n      yPos += documentData.yOffset;\r\n      yPos += firstLine ? 1 : 0;\r\n      currentLength = initPathPos;\r\n      firstLine = false;\r\n      if (this._hasMaskedPath) {\r\n        segmentInd = initSegmentInd;\r\n        pointInd = initPointInd;\r\n        points = segments[segmentInd].points;\r\n        prevPoint = points[pointInd - 1];\r\n        currentPoint = points[pointInd];\r\n        partialLength = currentPoint.partialLength;\r\n        segmentLength = 0;\r\n      }\r\n      letterM = '';\r\n      letterFc = '';\r\n      letterSw = '';\r\n      letterO = '';\r\n      letterP = this.defaultPropsArray;\r\n    } else {\r\n      if (this._hasMaskedPath) {\r\n        if (currentLine !== letters[i].line) {\r\n          switch (documentData.j) {\r\n            case 1:\r\n              currentLength += totalLength - documentData.lineWidths[letters[i].line];\r\n              break;\r\n            case 2:\r\n              currentLength += (totalLength - documentData.lineWidths[letters[i].line]) / 2;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n          currentLine = letters[i].line;\r\n        }\r\n        if (ind !== letters[i].ind) {\r\n          if (letters[ind]) {\r\n            currentLength += letters[ind].extra;\r\n          }\r\n          currentLength += letters[i].an / 2;\r\n          ind = letters[i].ind;\r\n        }\r\n        currentLength += (alignment[0] * letters[i].an) * 0.005;\r\n        var animatorOffset = 0;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          animatorProps = animators[j].a;\r\n          if (animatorProps.p.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.p.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.p.v[0] * mult;\r\n            }\r\n          }\r\n          if (animatorProps.a.propType) {\r\n            animatorSelector = animators[j].s;\r\n            mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n            if (mult.length) {\r\n              animatorOffset += animatorProps.a.v[0] * mult[0];\r\n            } else {\r\n              animatorOffset += animatorProps.a.v[0] * mult;\r\n            }\r\n          }\r\n        }\r\n        flag = true;\r\n        // Force alignment only works with a single line for now\r\n        if (this._pathData.a.v) {\r\n          currentLength = letters[0].an * 0.5 + ((totalLength - this._pathData.f.v - letters[0].an * 0.5 - letters[letters.length - 1].an * 0.5) * ind) / (len - 1);\r\n          currentLength += this._pathData.f.v;\r\n        }\r\n        while (flag) {\r\n          if (segmentLength + partialLength >= currentLength + animatorOffset || !points) {\r\n            perc = (currentLength + animatorOffset - segmentLength) / currentPoint.partialLength;\r\n            xPathPos = prevPoint.point[0] + (currentPoint.point[0] - prevPoint.point[0]) * perc;\r\n            yPathPos = prevPoint.point[1] + (currentPoint.point[1] - prevPoint.point[1]) * perc;\r\n            matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, -(alignment[1] * yOff) * 0.01);\r\n            flag = false;\r\n          } else if (points) {\r\n            segmentLength += currentPoint.partialLength;\r\n            pointInd += 1;\r\n            if (pointInd >= points.length) {\r\n              pointInd = 0;\r\n              segmentInd += 1;\r\n              if (!segments[segmentInd]) {\r\n                if (mask.v.c) {\r\n                  pointInd = 0;\r\n                  segmentInd = 0;\r\n                  points = segments[segmentInd].points;\r\n                } else {\r\n                  segmentLength -= currentPoint.partialLength;\r\n                  points = null;\r\n                }\r\n              } else {\r\n                points = segments[segmentInd].points;\r\n              }\r\n            }\r\n            if (points) {\r\n              prevPoint = currentPoint;\r\n              currentPoint = points[pointInd];\r\n              partialLength = currentPoint.partialLength;\r\n            }\r\n          }\r\n        }\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n      } else {\r\n        offf = letters[i].an / 2 - letters[i].add;\r\n        matrixHelper.translate(-offf, 0, 0);\r\n\r\n        // Grouping alignment\r\n        matrixHelper.translate((-alignment[0] * letters[i].an) * 0.005, (-alignment[1] * yOff) * 0.01, 0);\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.t.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          // This condition is to prevent applying tracking to first character in each line. Might be better to use a boolean \"isNewLine\"\r\n          if (xPos !== 0 || documentData.j !== 0) {\r\n            if (this._hasMaskedPath) {\r\n              if (mult.length) {\r\n                currentLength += animatorProps.t.v * mult[0];\r\n              } else {\r\n                currentLength += animatorProps.t.v * mult;\r\n              }\r\n            } else if (mult.length) {\r\n              xPos += animatorProps.t.v * mult[0];\r\n            } else {\r\n              xPos += animatorProps.t.v * mult;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        sw = documentData.sw || 0;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        if (documentData.sc) {\r\n          sc = [documentData.sc[0], documentData.sc[1], documentData.sc[2]];\r\n        } else {\r\n          sc = [0, 0, 0];\r\n        }\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        fc = [documentData.fc[0], documentData.fc[1], documentData.fc[2]];\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.a.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n\r\n          if (mult.length) {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult[0], -animatorProps.a.v[1] * mult[1], animatorProps.a.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(-animatorProps.a.v[0] * mult, -animatorProps.a.v[1] * mult, animatorProps.a.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        if (animatorProps.s.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (mult.length) {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult[0]), 1 + ((animatorProps.s.v[1] - 1) * mult[1]), 1);\r\n          } else {\r\n            matrixHelper.scale(1 + ((animatorProps.s.v[0] - 1) * mult), 1 + ((animatorProps.s.v[1] - 1) * mult), 1);\r\n          }\r\n        }\r\n      }\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n        animatorSelector = animators[j].s;\r\n        mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n        if (animatorProps.sk.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult[0], animatorProps.sa.v * mult[1]);\r\n          } else {\r\n            matrixHelper.skewFromAxis(-animatorProps.sk.v * mult, animatorProps.sa.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.r.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult[2]);\r\n          } else {\r\n            matrixHelper.rotateZ(-animatorProps.r.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.ry.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult[1]);\r\n          } else {\r\n            matrixHelper.rotateY(animatorProps.ry.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.rx.propType) {\r\n          if (mult.length) {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult[0]);\r\n          } else {\r\n            matrixHelper.rotateX(animatorProps.rx.v * mult);\r\n          }\r\n        }\r\n        if (animatorProps.o.propType) {\r\n          if (mult.length) {\r\n            elemOpacity += ((animatorProps.o.v) * mult[0] - elemOpacity) * mult[0];\r\n          } else {\r\n            elemOpacity += ((animatorProps.o.v) * mult - elemOpacity) * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeWidthAnim && animatorProps.sw.propType) {\r\n          if (mult.length) {\r\n            sw += animatorProps.sw.v * mult[0];\r\n          } else {\r\n            sw += animatorProps.sw.v * mult;\r\n          }\r\n        }\r\n        if (documentData.strokeColorAnim && animatorProps.sc.propType) {\r\n          for (k = 0; k < 3; k += 1) {\r\n            if (mult.length) {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult[0];\r\n            } else {\r\n              sc[k] += (animatorProps.sc.v[k] - sc[k]) * mult;\r\n            }\r\n          }\r\n        }\r\n        if (documentData.fillColorAnim && documentData.fc) {\r\n          if (animatorProps.fc.propType) {\r\n            for (k = 0; k < 3; k += 1) {\r\n              if (mult.length) {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult[0];\r\n              } else {\r\n                fc[k] += (animatorProps.fc.v[k] - fc[k]) * mult;\r\n              }\r\n            }\r\n          }\r\n          if (animatorProps.fh.propType) {\r\n            if (mult.length) {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult[0]);\r\n            } else {\r\n              fc = addHueToRGB(fc, animatorProps.fh.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fs.propType) {\r\n            if (mult.length) {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult[0]);\r\n            } else {\r\n              fc = addSaturationToRGB(fc, animatorProps.fs.v * mult);\r\n            }\r\n          }\r\n          if (animatorProps.fb.propType) {\r\n            if (mult.length) {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult[0]);\r\n            } else {\r\n              fc = addBrightnessToRGB(fc, animatorProps.fb.v * mult);\r\n            }\r\n          }\r\n        }\r\n      }\r\n\r\n      for (j = 0; j < jLen; j += 1) {\r\n        animatorProps = animators[j].a;\r\n\r\n        if (animatorProps.p.propType) {\r\n          animatorSelector = animators[j].s;\r\n          mult = animatorSelector.getMult(letters[i].anIndexes[j], textData.a[j].s.totalChars);\r\n          if (this._hasMaskedPath) {\r\n            if (mult.length) {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult[0], -animatorProps.p.v[2] * mult[1]);\r\n            } else {\r\n              matrixHelper.translate(0, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n            }\r\n          } else if (mult.length) {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult[0], animatorProps.p.v[1] * mult[1], -animatorProps.p.v[2] * mult[2]);\r\n          } else {\r\n            matrixHelper.translate(animatorProps.p.v[0] * mult, animatorProps.p.v[1] * mult, -animatorProps.p.v[2] * mult);\r\n          }\r\n        }\r\n      }\r\n      if (documentData.strokeWidthAnim) {\r\n        letterSw = sw < 0 ? 0 : sw;\r\n      }\r\n      if (documentData.strokeColorAnim) {\r\n        letterSc = 'rgb(' + Math.round(sc[0] * 255) + ',' + Math.round(sc[1] * 255) + ',' + Math.round(sc[2] * 255) + ')';\r\n      }\r\n      if (documentData.fillColorAnim && documentData.fc) {\r\n        letterFc = 'rgb(' + Math.round(fc[0] * 255) + ',' + Math.round(fc[1] * 255) + ',' + Math.round(fc[2] * 255) + ')';\r\n      }\r\n\r\n      if (this._hasMaskedPath) {\r\n        matrixHelper.translate(0, -documentData.ls);\r\n\r\n        matrixHelper.translate(0, (alignment[1] * yOff) * 0.01 + yPos, 0);\r\n        if (this._pathData.p.v) {\r\n          tanAngle = (currentPoint.point[1] - prevPoint.point[1]) / (currentPoint.point[0] - prevPoint.point[0]);\r\n          var rot = (Math.atan(tanAngle) * 180) / Math.PI;\r\n          if (currentPoint.point[0] < prevPoint.point[0]) {\r\n            rot += 180;\r\n          }\r\n          matrixHelper.rotate((-rot * Math.PI) / 180);\r\n        }\r\n        matrixHelper.translate(xPathPos, yPathPos, 0);\r\n        currentLength -= (alignment[0] * letters[i].an) * 0.005;\r\n        if (letters[i + 1] && ind !== letters[i + 1].ind) {\r\n          currentLength += letters[i].an / 2;\r\n          currentLength += (documentData.tr * 0.001) * documentData.finalSize;\r\n        }\r\n      } else {\r\n        matrixHelper.translate(xPos, yPos, 0);\r\n\r\n        if (documentData.ps) {\r\n          // matrixHelper.translate(documentData.ps[0],documentData.ps[1],0);\r\n          matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n        }\r\n        switch (documentData.j) {\r\n          case 1:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]), 0, 0);\r\n            break;\r\n          case 2:\r\n            matrixHelper.translate(letters[i].animatorJustifyOffset + documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[letters[i].line]) / 2, 0, 0);\r\n            break;\r\n          default:\r\n            break;\r\n        }\r\n        matrixHelper.translate(0, -documentData.ls);\r\n        matrixHelper.translate(offf, 0, 0);\r\n        matrixHelper.translate((alignment[0] * letters[i].an) * 0.005, (alignment[1] * yOff) * 0.01, 0);\r\n        xPos += letters[i].l + (documentData.tr * 0.001) * documentData.finalSize;\r\n      }\r\n      if (renderType === 'html') {\r\n        letterM = matrixHelper.toCSS();\r\n      } else if (renderType === 'svg') {\r\n        letterM = matrixHelper.to2dCSS();\r\n      } else {\r\n        letterP = [matrixHelper.props[0], matrixHelper.props[1], matrixHelper.props[2], matrixHelper.props[3], matrixHelper.props[4], matrixHelper.props[5], matrixHelper.props[6], matrixHelper.props[7], matrixHelper.props[8], matrixHelper.props[9], matrixHelper.props[10], matrixHelper.props[11], matrixHelper.props[12], matrixHelper.props[13], matrixHelper.props[14], matrixHelper.props[15]];\r\n      }\r\n      letterO = elemOpacity;\r\n    }\r\n\r\n    if (renderedLettersCount <= i) {\r\n      letterValue = new LetterProps(letterO, letterSw, letterSc, letterFc, letterM, letterP);\r\n      this.renderedLetters.push(letterValue);\r\n      renderedLettersCount += 1;\r\n      this.lettersChangedFlag = true;\r\n    } else {\r\n      letterValue = this.renderedLetters[i];\r\n      this.lettersChangedFlag = letterValue.update(letterO, letterSw, letterSc, letterFc, letterM, letterP) || this.lettersChangedFlag;\r\n    }\r\n  }\r\n};\r\n\r\nTextAnimatorProperty.prototype.getValue = function () {\r\n  if (this._elem.globalData.frameId === this._frameId) {\r\n    return;\r\n  }\r\n  this._frameId = this._elem.globalData.frameId;\r\n  this.iterateDynamicProperties();\r\n};\r\n\r\nTextAnimatorProperty.prototype.mHelper = new Matrix();\r\nTextAnimatorProperty.prototype.defaultPropsArray = [];\r\nextendPrototype([DynamicPropertyContainer], TextAnimatorProperty);\r\n\r\n/* global PropertyFactory, degToRads, TextSelectorProp */\r\n/* exported TextAnimatorDataProperty */\r\n\r\nfunction TextAnimatorDataProperty(elem, animatorProps, container) {\r\n  var defaultData = { propType: false };\r\n  var getProp = PropertyFactory.getProp;\r\n  var textAnimatorAnimatables = animatorProps.a;\r\n  this.a = {\r\n    r: textAnimatorAnimatables.r ? getProp(elem, textAnimatorAnimatables.r, 0, degToRads, container) : defaultData,\r\n    rx: textAnimatorAnimatables.rx ? getProp(elem, textAnimatorAnimatables.rx, 0, degToRads, container) : defaultData,\r\n    ry: textAnimatorAnimatables.ry ? getProp(elem, textAnimatorAnimatables.ry, 0, degToRads, container) : defaultData,\r\n    sk: textAnimatorAnimatables.sk ? getProp(elem, textAnimatorAnimatables.sk, 0, degToRads, container) : defaultData,\r\n    sa: textAnimatorAnimatables.sa ? getProp(elem, textAnimatorAnimatables.sa, 0, degToRads, container) : defaultData,\r\n    s: textAnimatorAnimatables.s ? getProp(elem, textAnimatorAnimatables.s, 1, 0.01, container) : defaultData,\r\n    a: textAnimatorAnimatables.a ? getProp(elem, textAnimatorAnimatables.a, 1, 0, container) : defaultData,\r\n    o: textAnimatorAnimatables.o ? getProp(elem, textAnimatorAnimatables.o, 0, 0.01, container) : defaultData,\r\n    p: textAnimatorAnimatables.p ? getProp(elem, textAnimatorAnimatables.p, 1, 0, container) : defaultData,\r\n    sw: textAnimatorAnimatables.sw ? getProp(elem, textAnimatorAnimatables.sw, 0, 0, container) : defaultData,\r\n    sc: textAnimatorAnimatables.sc ? getProp(elem, textAnimatorAnimatables.sc, 1, 0, container) : defaultData,\r\n    fc: textAnimatorAnimatables.fc ? getProp(elem, textAnimatorAnimatables.fc, 1, 0, container) : defaultData,\r\n    fh: textAnimatorAnimatables.fh ? getProp(elem, textAnimatorAnimatables.fh, 0, 0, container) : defaultData,\r\n    fs: textAnimatorAnimatables.fs ? getProp(elem, textAnimatorAnimatables.fs, 0, 0.01, container) : defaultData,\r\n    fb: textAnimatorAnimatables.fb ? getProp(elem, textAnimatorAnimatables.fb, 0, 0.01, container) : defaultData,\r\n    t: textAnimatorAnimatables.t ? getProp(elem, textAnimatorAnimatables.t, 0, 0, container) : defaultData,\r\n  };\r\n\r\n  this.s = TextSelectorProp.getTextSelectorProp(elem, animatorProps.s, container);\r\n  this.s.t = animatorProps.s.t;\r\n}\r\n\r\nfunction LetterProps(o, sw, sc, fc, m, p) {\r\n  this.o = o;\r\n  this.sw = sw;\r\n  this.sc = sc;\r\n  this.fc = fc;\r\n  this.m = m;\r\n  this.p = p;\r\n  this._mdf = {\r\n    o: true,\r\n    sw: !!sw,\r\n    sc: !!sc,\r\n    fc: !!fc,\r\n    m: true,\r\n    p: true,\r\n  };\r\n}\r\n\r\nLetterProps.prototype.update = function (o, sw, sc, fc, m, p) {\r\n  this._mdf.o = false;\r\n  this._mdf.sw = false;\r\n  this._mdf.sc = false;\r\n  this._mdf.fc = false;\r\n  this._mdf.m = false;\r\n  this._mdf.p = false;\r\n  var updated = false;\r\n\r\n  if (this.o !== o) {\r\n    this.o = o;\r\n    this._mdf.o = true;\r\n    updated = true;\r\n  }\r\n  if (this.sw !== sw) {\r\n    this.sw = sw;\r\n    this._mdf.sw = true;\r\n    updated = true;\r\n  }\r\n  if (this.sc !== sc) {\r\n    this.sc = sc;\r\n    this._mdf.sc = true;\r\n    updated = true;\r\n  }\r\n  if (this.fc !== fc) {\r\n    this.fc = fc;\r\n    this._mdf.fc = true;\r\n    updated = true;\r\n  }\r\n  if (this.m !== m) {\r\n    this.m = m;\r\n    this._mdf.m = true;\r\n    updated = true;\r\n  }\r\n  if (p.length && (this.p[0] !== p[0] || this.p[1] !== p[1] || this.p[4] !== p[4] || this.p[5] !== p[5] || this.p[12] !== p[12] || this.p[13] !== p[13])) {\r\n    this.p = p;\r\n    this._mdf.p = true;\r\n    updated = true;\r\n  }\r\n  return updated;\r\n};\r\n\r\n/* global FontManager, initialDefaultFrame, getFontProperties */\r\n/* exported TextProperty */\r\n\r\nfunction TextProperty(elem, data) {\r\n  this._frameId = initialDefaultFrame;\r\n  this.pv = '';\r\n  this.v = '';\r\n  this.kf = false;\r\n  this._isFirstFrame = true;\r\n  this._mdf = false;\r\n  this.data = data;\r\n  this.elem = elem;\r\n  this.comp = this.elem.comp;\r\n  this.keysIndex = 0;\r\n  this.canResize = false;\r\n  this.minimumFontSize = 1;\r\n  this.effectsSequence = [];\r\n  this.currentData = {\r\n    ascent: 0,\r\n    boxWidth: this.defaultBoxWidth,\r\n    f: '',\r\n    fStyle: '',\r\n    fWeight: '',\r\n    fc: '',\r\n    j: '',\r\n    justifyOffset: '',\r\n    l: [],\r\n    lh: 0,\r\n    lineWidths: [],\r\n    ls: '',\r\n    of: '',\r\n    s: '',\r\n    sc: '',\r\n    sw: 0,\r\n    t: 0,\r\n    tr: 0,\r\n    sz: 0,\r\n    ps: null,\r\n    fillColorAnim: false,\r\n    strokeColorAnim: false,\r\n    strokeWidthAnim: false,\r\n    yOffset: 0,\r\n    finalSize: 0,\r\n    finalText: [],\r\n    finalLineHeight: 0,\r\n    __complete: false,\r\n\r\n  };\r\n  this.copyData(this.currentData, this.data.d.k[0].s);\r\n\r\n  if (!this.searchProperty()) {\r\n    this.completeTextData(this.currentData);\r\n  }\r\n}\r\n\r\nTextProperty.prototype.defaultBoxWidth = [0, 0];\r\n\r\nTextProperty.prototype.copyData = function (obj, data) {\r\n  for (var s in data) {\r\n    if (Object.prototype.hasOwnProperty.call(data, s)) {\r\n      obj[s] = data[s];\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nTextProperty.prototype.setCurrentData = function (data) {\r\n  if (!data.__complete) {\r\n    this.completeTextData(data);\r\n  }\r\n  this.currentData = data;\r\n  this.currentData.boxWidth = this.currentData.boxWidth || this.defaultBoxWidth;\r\n  this._mdf = true;\r\n};\r\n\r\nTextProperty.prototype.searchProperty = function () {\r\n  return this.searchKeyframes();\r\n};\r\n\r\nTextProperty.prototype.searchKeyframes = function () {\r\n  this.kf = this.data.d.k.length > 1;\r\n  if (this.kf) {\r\n    this.addEffect(this.getKeyframeValue.bind(this));\r\n  }\r\n  return this.kf;\r\n};\r\n\r\nTextProperty.prototype.addEffect = function (effectFunction) {\r\n  this.effectsSequence.push(effectFunction);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.getValue = function (_finalValue) {\r\n  if ((this.elem.globalData.frameId === this.frameId || !this.effectsSequence.length) && !_finalValue) {\r\n    return;\r\n  }\r\n  this.currentData.t = this.data.d.k[this.keysIndex].s.t;\r\n  var currentValue = this.currentData;\r\n  var currentIndex = this.keysIndex;\r\n  if (this.lock) {\r\n    this.setCurrentData(this.currentData);\r\n    return;\r\n  }\r\n  this.lock = true;\r\n  this._mdf = false;\r\n  var i; var\r\n    len = this.effectsSequence.length;\r\n  var finalValue = _finalValue || this.data.d.k[this.keysIndex].s;\r\n  for (i = 0; i < len; i += 1) {\r\n    // Checking if index changed to prevent creating a new object every time the expression updates.\r\n    if (currentIndex !== this.keysIndex) {\r\n      finalValue = this.effectsSequence[i](finalValue, finalValue.t);\r\n    } else {\r\n      finalValue = this.effectsSequence[i](this.currentData, finalValue.t);\r\n    }\r\n  }\r\n  if (currentValue !== finalValue) {\r\n    this.setCurrentData(finalValue);\r\n  }\r\n  this.v = this.currentData;\r\n  this.pv = this.v;\r\n  this.lock = false;\r\n  this.frameId = this.elem.globalData.frameId;\r\n};\r\n\r\nTextProperty.prototype.getKeyframeValue = function () {\r\n  var textKeys = this.data.d.k;\r\n  var frameNum = this.elem.comp.renderedFrame;\r\n  var i = 0; var\r\n    len = textKeys.length;\r\n  while (i <= len - 1) {\r\n    if (i === len - 1 || textKeys[i + 1].t > frameNum) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  if (this.keysIndex !== i) {\r\n    this.keysIndex = i;\r\n  }\r\n  return this.data.d.k[this.keysIndex].s;\r\n};\r\n\r\nTextProperty.prototype.buildFinalText = function (text) {\r\n  var charactersArray = [];\r\n  var i = 0;\r\n  var len = text.length;\r\n  var charCode;\r\n  var secondCharCode;\r\n  var shouldCombine = false;\r\n  while (i < len) {\r\n    charCode = text.charCodeAt(i);\r\n    if (FontManager.isCombinedCharacter(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n    } else if (charCode >= 0xD800 && charCode <= 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (secondCharCode >= 0xDC00 && secondCharCode <= 0xDFFF) {\r\n        if (shouldCombine || FontManager.isModifier(charCode, secondCharCode)) {\r\n          charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n          shouldCombine = false;\r\n        } else {\r\n          charactersArray.push(text.substr(i, 2));\r\n        }\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (charCode > 0xDBFF) {\r\n      secondCharCode = text.charCodeAt(i + 1);\r\n      if (FontManager.isZeroWidthJoiner(charCode, secondCharCode)) {\r\n        shouldCombine = true;\r\n        charactersArray[charactersArray.length - 1] += text.substr(i, 2);\r\n        i += 1;\r\n      } else {\r\n        charactersArray.push(text.charAt(i));\r\n      }\r\n    } else if (FontManager.isZeroWidthJoiner(charCode)) {\r\n      charactersArray[charactersArray.length - 1] += text.charAt(i);\r\n      shouldCombine = true;\r\n    } else {\r\n      charactersArray.push(text.charAt(i));\r\n    }\r\n    i += 1;\r\n  }\r\n  return charactersArray;\r\n};\r\n\r\nTextProperty.prototype.completeTextData = function (documentData) {\r\n  documentData.__complete = true;\r\n  var fontManager = this.elem.globalData.fontManager;\r\n  var data = this.data;\r\n  var letters = [];\r\n  var i; var\r\n    len;\r\n  var newLineFlag; var index = 0; var\r\n    val;\r\n  var anchorGrouping = data.m.g;\r\n  var currentSize = 0; var currentPos = 0; var currentLine = 0; var\r\n    lineWidths = [];\r\n  var lineWidth = 0;\r\n  var maxLineWidth = 0;\r\n  var j; var\r\n    jLen;\r\n  var fontData = fontManager.getFontByName(documentData.f);\r\n  var charData; var\r\n    cLength = 0;\r\n\r\n  var fontProps = getFontProperties(fontData);\r\n  documentData.fWeight = fontProps.weight;\r\n  documentData.fStyle = fontProps.style;\r\n  documentData.finalSize = documentData.s;\r\n  documentData.finalText = this.buildFinalText(documentData.t);\r\n  len = documentData.finalText.length;\r\n  documentData.finalLineHeight = documentData.lh;\r\n  var trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n  var charCode;\r\n  if (documentData.sz) {\r\n    var flag = true;\r\n    var boxWidth = documentData.sz[0];\r\n    var boxHeight = documentData.sz[1];\r\n    var currentHeight; var\r\n      finalText;\r\n    while (flag) {\r\n      finalText = this.buildFinalText(documentData.t);\r\n      currentHeight = 0;\r\n      lineWidth = 0;\r\n      len = finalText.length;\r\n      trackingOffset = (documentData.tr / 1000) * documentData.finalSize;\r\n      var lastSpaceIndex = -1;\r\n      for (i = 0; i < len; i += 1) {\r\n        charCode = finalText[i].charCodeAt(0);\r\n        newLineFlag = false;\r\n        if (finalText[i] === ' ') {\r\n          lastSpaceIndex = i;\r\n        } else if (charCode === 13 || charCode === 3) {\r\n          lineWidth = 0;\r\n          newLineFlag = true;\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n        }\r\n        if (fontManager.chars) {\r\n          charData = fontManager.getCharData(finalText[i], fontData.fStyle, fontData.fFamily);\r\n          cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n        } else {\r\n          // tCanvasHelper.font = documentData.s + 'px '+ fontData.fFamily;\r\n          cLength = fontManager.measureText(finalText[i], documentData.f, documentData.finalSize);\r\n        }\r\n        if (lineWidth + cLength > boxWidth && finalText[i] !== ' ') {\r\n          if (lastSpaceIndex === -1) {\r\n            len += 1;\r\n          } else {\r\n            i = lastSpaceIndex;\r\n          }\r\n          currentHeight += documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n          finalText.splice(i, lastSpaceIndex === i ? 1 : 0, '\\r');\r\n          // finalText = finalText.substr(0,i) + \"\\r\" + finalText.substr(i === lastSpaceIndex ? i + 1 : i);\r\n          lastSpaceIndex = -1;\r\n          lineWidth = 0;\r\n        } else {\r\n          lineWidth += cLength;\r\n          lineWidth += trackingOffset;\r\n        }\r\n      }\r\n      currentHeight += (fontData.ascent * documentData.finalSize) / 100;\r\n      if (this.canResize && documentData.finalSize > this.minimumFontSize && boxHeight < currentHeight) {\r\n        documentData.finalSize -= 1;\r\n        documentData.finalLineHeight = (documentData.finalSize * documentData.lh) / documentData.s;\r\n      } else {\r\n        documentData.finalText = finalText;\r\n        len = documentData.finalText.length;\r\n        flag = false;\r\n      }\r\n    }\r\n  }\r\n  lineWidth = -trackingOffset;\r\n  cLength = 0;\r\n  var uncollapsedSpaces = 0;\r\n  var currentChar;\r\n  for (i = 0; i < len; i += 1) {\r\n    newLineFlag = false;\r\n    currentChar = documentData.finalText[i];\r\n    charCode = currentChar.charCodeAt(0);\r\n    if (charCode === 13 || charCode === 3) {\r\n      uncollapsedSpaces = 0;\r\n      lineWidths.push(lineWidth);\r\n      maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n      lineWidth = -2 * trackingOffset;\r\n      val = '';\r\n      newLineFlag = true;\r\n      currentLine += 1;\r\n    } else {\r\n      val = currentChar;\r\n    }\r\n    if (fontManager.chars) {\r\n      charData = fontManager.getCharData(currentChar, fontData.fStyle, fontManager.getFontByName(documentData.f).fFamily);\r\n      cLength = newLineFlag ? 0 : (charData.w * documentData.finalSize) / 100;\r\n    } else {\r\n      // var charWidth = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n      // tCanvasHelper.font = documentData.finalSize + 'px '+ fontManager.getFontByName(documentData.f).fFamily;\r\n      cLength = fontManager.measureText(val, documentData.f, documentData.finalSize);\r\n    }\r\n\r\n    //\r\n    if (currentChar === ' ') {\r\n      uncollapsedSpaces += cLength + trackingOffset;\r\n    } else {\r\n      lineWidth += cLength + trackingOffset + uncollapsedSpaces;\r\n      uncollapsedSpaces = 0;\r\n    }\r\n    letters.push({\r\n      l: cLength, an: cLength, add: currentSize, n: newLineFlag, anIndexes: [], val: val, line: currentLine, animatorJustifyOffset: 0,\r\n    });\r\n    if (anchorGrouping == 2) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || val === ' ' || i === len - 1) {\r\n        if (val === '' || val === ' ') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        index += 1;\r\n        currentSize = 0;\r\n      }\r\n    } else if (anchorGrouping == 3) { // eslint-disable-line eqeqeq\r\n      currentSize += cLength;\r\n      if (val === '' || i === len - 1) {\r\n        if (val === '') {\r\n          currentSize -= cLength;\r\n        }\r\n        while (currentPos <= i) {\r\n          letters[currentPos].an = currentSize;\r\n          letters[currentPos].ind = index;\r\n          letters[currentPos].extra = cLength;\r\n          currentPos += 1;\r\n        }\r\n        currentSize = 0;\r\n        index += 1;\r\n      }\r\n    } else {\r\n      letters[index].ind = index;\r\n      letters[index].extra = 0;\r\n      index += 1;\r\n    }\r\n  }\r\n  documentData.l = letters;\r\n  maxLineWidth = lineWidth > maxLineWidth ? lineWidth : maxLineWidth;\r\n  lineWidths.push(lineWidth);\r\n  if (documentData.sz) {\r\n    documentData.boxWidth = documentData.sz[0];\r\n    documentData.justifyOffset = 0;\r\n  } else {\r\n    documentData.boxWidth = maxLineWidth;\r\n    switch (documentData.j) {\r\n      case 1:\r\n        documentData.justifyOffset = -documentData.boxWidth;\r\n        break;\r\n      case 2:\r\n        documentData.justifyOffset = -documentData.boxWidth / 2;\r\n        break;\r\n      default:\r\n        documentData.justifyOffset = 0;\r\n    }\r\n  }\r\n  documentData.lineWidths = lineWidths;\r\n\r\n  var animators = data.a; var animatorData; var\r\n    letterData;\r\n  jLen = animators.length;\r\n  var based; var ind; var\r\n    indexes = [];\r\n  for (j = 0; j < jLen; j += 1) {\r\n    animatorData = animators[j];\r\n    if (animatorData.a.sc) {\r\n      documentData.strokeColorAnim = true;\r\n    }\r\n    if (animatorData.a.sw) {\r\n      documentData.strokeWidthAnim = true;\r\n    }\r\n    if (animatorData.a.fc || animatorData.a.fh || animatorData.a.fs || animatorData.a.fb) {\r\n      documentData.fillColorAnim = true;\r\n    }\r\n    ind = 0;\r\n    based = animatorData.s.b;\r\n    for (i = 0; i < len; i += 1) {\r\n      letterData = letters[i];\r\n      letterData.anIndexes[j] = ind;\r\n      if ((based == 1 && letterData.val !== '') || (based == 2 && letterData.val !== '' && letterData.val !== ' ') || (based == 3 && (letterData.n || letterData.val == ' ' || i == len - 1)) || (based == 4 && (letterData.n || i == len - 1))) { // eslint-disable-line eqeqeq\r\n        if (animatorData.s.rn === 1) {\r\n          indexes.push(ind);\r\n        }\r\n        ind += 1;\r\n      }\r\n    }\r\n    data.a[j].s.totalChars = ind;\r\n    var currentInd = -1; var\r\n      newInd;\r\n    if (animatorData.s.rn === 1) {\r\n      for (i = 0; i < len; i += 1) {\r\n        letterData = letters[i];\r\n        if (currentInd != letterData.anIndexes[j]) { // eslint-disable-line eqeqeq\r\n          currentInd = letterData.anIndexes[j];\r\n          newInd = indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0];\r\n        }\r\n        letterData.anIndexes[j] = newInd;\r\n      }\r\n    }\r\n  }\r\n  documentData.yOffset = documentData.finalLineHeight || documentData.finalSize * 1.2;\r\n  documentData.ls = documentData.ls || 0;\r\n  documentData.ascent = (fontData.ascent * documentData.finalSize) / 100;\r\n};\r\n\r\nTextProperty.prototype.updateDocumentData = function (newData, index) {\r\n  index = index === undefined ? this.keysIndex : index;\r\n  var dData = this.copyData({}, this.data.d.k[index].s);\r\n  dData = this.copyData(dData, newData);\r\n  this.data.d.k[index].s = dData;\r\n  this.recalculate(index);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.recalculate = function (index) {\r\n  var dData = this.data.d.k[index].s;\r\n  dData.__complete = false;\r\n  this.keysIndex = 0;\r\n  this._isFirstFrame = true;\r\n  this.getValue(dData);\r\n};\r\n\r\nTextProperty.prototype.canResizeFont = function (_canResize) {\r\n  this.canResize = _canResize;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\nTextProperty.prototype.setMinimumFontSize = function (_fontValue) {\r\n  this.minimumFontSize = Math.floor(_fontValue) || 1;\r\n  this.recalculate(this.keysIndex);\r\n  this.elem.addDynamicProperty(this);\r\n};\r\n\r\n/* global extendPrototype, BezierFactory, PropertyFactory, DynamicPropertyContainer */\r\n/* exported TextSelectorProp */\r\n\r\nvar TextSelectorProp = (function () {\r\n  var max = Math.max;\r\n  var min = Math.min;\r\n  var floor = Math.floor;\r\n\r\n  function TextSelectorPropFactory(elem, data) {\r\n    this._currentTextLength = -1;\r\n    this.k = false;\r\n    this.data = data;\r\n    this.elem = elem;\r\n    this.comp = elem.comp;\r\n    this.finalS = 0;\r\n    this.finalE = 0;\r\n    this.initDynamicPropertyContainer(elem);\r\n    this.s = PropertyFactory.getProp(elem, data.s || { k: 0 }, 0, 0, this);\r\n    if ('e' in data) {\r\n      this.e = PropertyFactory.getProp(elem, data.e, 0, 0, this);\r\n    } else {\r\n      this.e = { v: 100 };\r\n    }\r\n    this.o = PropertyFactory.getProp(elem, data.o || { k: 0 }, 0, 0, this);\r\n    this.xe = PropertyFactory.getProp(elem, data.xe || { k: 0 }, 0, 0, this);\r\n    this.ne = PropertyFactory.getProp(elem, data.ne || { k: 0 }, 0, 0, this);\r\n    this.sm = PropertyFactory.getProp(elem, data.sm || { k: 100 }, 0, 0, this);\r\n    this.a = PropertyFactory.getProp(elem, data.a, 0, 0.01, this);\r\n    if (!this.dynamicProperties.length) {\r\n      this.getValue();\r\n    }\r\n  }\r\n\r\n  TextSelectorPropFactory.prototype = {\r\n    getMult: function (ind) {\r\n      if (this._currentTextLength !== this.elem.textProperty.currentData.l.length) {\r\n        this.getValue();\r\n      }\r\n      // var easer = bez.getEasingCurve(this.ne.v/100,0,1-this.xe.v/100,1);\r\n      var x1 = 0;\r\n      var y1 = 0;\r\n      var x2 = 1;\r\n      var y2 = 1;\r\n      if (this.ne.v > 0) {\r\n        x1 = this.ne.v / 100.0;\r\n      } else {\r\n        y1 = -this.ne.v / 100.0;\r\n      }\r\n      if (this.xe.v > 0) {\r\n        x2 = 1.0 - this.xe.v / 100.0;\r\n      } else {\r\n        y2 = 1.0 + this.xe.v / 100.0;\r\n      }\r\n      var easer = BezierFactory.getBezierEasing(x1, y1, x2, y2).get;\r\n\r\n      var mult = 0;\r\n      var s = this.finalS;\r\n      var e = this.finalE;\r\n      var type = this.data.sh;\r\n      if (type === 2) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 1 : 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 3) {\r\n        if (e === s) {\r\n          mult = ind >= e ? 0 : 1;\r\n        } else {\r\n          mult = 1 - max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n        }\r\n\r\n        mult = easer(mult);\r\n      } else if (type === 4) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          mult = max(0, min(0.5 / (e - s) + (ind - s) / (e - s), 1));\r\n          if (mult < 0.5) {\r\n            mult *= 2;\r\n          } else {\r\n            mult = 1 - 2 * (mult - 0.5);\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 5) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          var tot = e - s;\r\n          /* ind += 0.5;\r\n                    mult = -4/(tot*tot)*(ind*ind)+(4/tot)*ind; */\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          var x = -tot / 2 + ind;\r\n          var a = tot / 2;\r\n          mult = Math.sqrt(1 - (x * x) / (a * a));\r\n        }\r\n        mult = easer(mult);\r\n      } else if (type === 6) {\r\n        if (e === s) {\r\n          mult = 0;\r\n        } else {\r\n          ind = min(max(0, ind + 0.5 - s), e - s);\r\n          mult = (1 + (Math.cos((Math.PI + Math.PI * 2 * (ind) / (e - s))))) / 2; // eslint-disable-line\r\n        }\r\n        mult = easer(mult);\r\n      } else {\r\n        if (ind >= floor(s)) {\r\n          if (ind - s < 0) {\r\n            mult = max(0, min(min(e, 1) - (s - ind), 1));\r\n          } else {\r\n            mult = max(0, min(e - ind, 1));\r\n          }\r\n        }\r\n        mult = easer(mult);\r\n      }\r\n      // Smoothness implementation.\r\n      // The smoothness represents a reduced range of the original [0; 1] range.\r\n      // if smoothness is 25%, the new range will be [0.375; 0.625]\r\n      // Steps are:\r\n      // - find the lower value of the new range (threshold)\r\n      // - if multiplier is smaller than that value, floor it to 0\r\n      // - if it is larger,\r\n      //     - subtract the threshold\r\n      //     - divide it by the smoothness (this will return the range to [0; 1])\r\n      // Note: If it doesn't work on some scenarios, consider applying it before the easer.\r\n      if (this.sm.v !== 100) {\r\n        var smoothness = this.sm.v * 0.01;\r\n        if (smoothness === 0) {\r\n          smoothness = 0.00000001;\r\n        }\r\n        var threshold = 0.5 - smoothness * 0.5;\r\n        if (mult < threshold) {\r\n          mult = 0;\r\n        } else {\r\n          mult = (mult - threshold) / smoothness;\r\n          if (mult > 1) {\r\n            mult = 1;\r\n          }\r\n        }\r\n      }\r\n      return mult * this.a.v;\r\n    },\r\n    getValue: function (newCharsFlag) {\r\n      this.iterateDynamicProperties();\r\n      this._mdf = newCharsFlag || this._mdf;\r\n      this._currentTextLength = this.elem.textProperty.currentData.l.length || 0;\r\n      if (newCharsFlag && this.data.r === 2) {\r\n        this.e.v = this._currentTextLength;\r\n      }\r\n      var divisor = this.data.r === 2 ? 1 : 100 / this.data.totalChars;\r\n      var o = this.o.v / divisor;\r\n      var s = this.s.v / divisor + o;\r\n      var e = (this.e.v / divisor) + o;\r\n      if (s > e) {\r\n        var _s = s;\r\n        s = e;\r\n        e = _s;\r\n      }\r\n      this.finalS = s;\r\n      this.finalE = e;\r\n    },\r\n  };\r\n  extendPrototype([DynamicPropertyContainer], TextSelectorPropFactory);\r\n\r\n  function getTextSelectorProp(elem, data, arr) {\r\n    return new TextSelectorPropFactory(elem, data, arr);\r\n  }\r\n\r\n  return {\r\n    getTextSelectorProp: getTextSelectorProp,\r\n  };\r\n}());\r\n\r\n/* global createSizedArray, pooling */\r\n/* exported poolFactory */\r\n\r\nvar poolFactory = (function () {\r\n  return function (initialLength, _create, _release) {\r\n    var _length = 0;\r\n    var _maxLength = initialLength;\r\n    var pool = createSizedArray(_maxLength);\r\n\r\n    var ob = {\r\n      newElement: newElement,\r\n      release: release,\r\n    };\r\n\r\n    function newElement() {\r\n      var element;\r\n      if (_length) {\r\n        _length -= 1;\r\n        element = pool[_length];\r\n      } else {\r\n        element = _create();\r\n      }\r\n      return element;\r\n    }\r\n\r\n    function release(element) {\r\n      if (_length === _maxLength) {\r\n        pool = pooling.double(pool);\r\n        _maxLength *= 2;\r\n      }\r\n      if (_release) {\r\n        _release(element);\r\n      }\r\n      pool[_length] = element;\r\n      _length += 1;\r\n    }\r\n\r\n    return ob;\r\n  };\r\n}());\r\n\r\n/* global createSizedArray */\r\n/* exported pooling */\r\n\r\nvar pooling = (function () {\r\n  function double(arr) {\r\n    return arr.concat(createSizedArray(arr.length));\r\n  }\r\n\r\n  return {\r\n    double: double,\r\n  };\r\n}());\r\n\r\n/* global createTypedArray, poolFactory */\r\n/* exported pointPool */\r\n\r\nvar pointPool = (function () {\r\n  function create() {\r\n    return createTypedArray('float32', 2);\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* global ShapePath, pointPool, poolFactory */\r\n/* exported shapePool */\r\n\r\nvar shapePool = (function () {\r\n  function create() {\r\n    return new ShapePath();\r\n  }\r\n\r\n  function release(shapePath) {\r\n    var len = shapePath._length;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      pointPool.release(shapePath.v[i]);\r\n      pointPool.release(shapePath.i[i]);\r\n      pointPool.release(shapePath.o[i]);\r\n      shapePath.v[i] = null;\r\n      shapePath.i[i] = null;\r\n      shapePath.o[i] = null;\r\n    }\r\n    shapePath._length = 0;\r\n    shapePath.c = false;\r\n  }\r\n\r\n  function clone(shape) {\r\n    var cloned = factory.newElement();\r\n    var i;\r\n    var len = shape._length === undefined ? shape.v.length : shape._length;\r\n    cloned.setLength(len);\r\n    cloned.c = shape.c;\r\n\r\n    for (i = 0; i < len; i += 1) {\r\n      cloned.setTripleAt(shape.v[i][0], shape.v[i][1], shape.o[i][0], shape.o[i][1], shape.i[i][0], shape.i[i][1], i);\r\n    }\r\n    return cloned;\r\n  }\r\n\r\n  var factory = poolFactory(4, create, release);\r\n  factory.clone = clone;\r\n\r\n  return factory;\r\n}());\r\n\r\n/* global createSizedArray, ShapeCollection, shapePool, pooling */\r\n/* exported shapeCollectionPool */\r\n\r\nvar shapeCollectionPool = (function () {\r\n  var ob = {\r\n    newShapeCollection: newShapeCollection,\r\n    release: release,\r\n  };\r\n\r\n  var _length = 0;\r\n  var _maxLength = 4;\r\n  var pool = createSizedArray(_maxLength);\r\n\r\n  function newShapeCollection() {\r\n    var shapeCollection;\r\n    if (_length) {\r\n      _length -= 1;\r\n      shapeCollection = pool[_length];\r\n    } else {\r\n      shapeCollection = new ShapeCollection();\r\n    }\r\n    return shapeCollection;\r\n  }\r\n\r\n  function release(shapeCollection) {\r\n    var i;\r\n    var len = shapeCollection._length;\r\n    for (i = 0; i < len; i += 1) {\r\n      shapePool.release(shapeCollection.shapes[i]);\r\n    }\r\n    shapeCollection._length = 0;\r\n\r\n    if (_length === _maxLength) {\r\n      pool = pooling.double(pool);\r\n      _maxLength *= 2;\r\n    }\r\n    pool[_length] = shapeCollection;\r\n    _length += 1;\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global poolFactory, bezierLengthPool */\r\n/* exported segmentsLengthPool */\r\n\r\nvar segmentsLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      lengths: [],\r\n      totalLength: 0,\r\n    };\r\n  }\r\n\r\n  function release(element) {\r\n    var i;\r\n    var len = element.lengths.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      bezierLengthPool.release(element.lengths[i]);\r\n    }\r\n    element.lengths.length = 0;\r\n  }\r\n\r\n  return poolFactory(8, create, release);\r\n}());\r\n\r\n/* global createTypedArray, defaultCurveSegments, poolFactory */\r\n/* exported bezierLengthPool */\r\n\r\nvar bezierLengthPool = (function () {\r\n  function create() {\r\n    return {\r\n      addedLength: 0,\r\n      percents: createTypedArray('float32', defaultCurveSegments),\r\n      lengths: createTypedArray('float32', defaultCurveSegments),\r\n    };\r\n  }\r\n  return poolFactory(8, create);\r\n}());\r\n\r\n/* exported markerParser */\r\n\r\nvar markerParser = (\r\n\r\n  function () {\r\n    function parsePayloadLines(payload) {\r\n      var lines = payload.split('\\r\\n');\r\n      var keys = {};\r\n      var line;\r\n      var keysCount = 0;\r\n      for (var i = 0; i < lines.length; i += 1) {\r\n        line = lines[i].split(':');\r\n        if (line.length === 2) {\r\n          keys[line[0]] = line[1].trim();\r\n          keysCount += 1;\r\n        }\r\n      }\r\n      if (keysCount === 0) {\r\n        throw new Error();\r\n      }\r\n      return keys;\r\n    }\r\n\r\n    return function (_markers) {\r\n      var markers = [];\r\n      for (var i = 0; i < _markers.length; i += 1) {\r\n        var _marker = _markers[i];\r\n        var markerData = {\r\n          time: _marker.tm,\r\n          duration: _marker.dr,\r\n        };\r\n        try {\r\n          markerData.payload = JSON.parse(_markers[i].cm);\r\n        } catch (_) {\r\n          try {\r\n            markerData.payload = parsePayloadLines(_markers[i].cm);\r\n          } catch (__) {\r\n            markerData.payload = {\r\n              name: _markers[i],\r\n            };\r\n          }\r\n        }\r\n        markers.push(markerData);\r\n      }\r\n      return markers;\r\n    };\r\n  }());\r\n\r\n/* global AudioElement, FootageElement, FontManager */\r\n\r\nfunction BaseRenderer() {}\r\nBaseRenderer.prototype.checkLayers = function (num) {\r\n  var i;\r\n  var len = this.layers.length;\r\n  var data;\r\n  this.completeLayers = true;\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (!this.elements[i]) {\r\n      data = this.layers[i];\r\n      if (data.ip - data.st <= (num - this.layers[i].st) && data.op - data.st > (num - this.layers[i].st)) {\r\n        this.buildItem(i);\r\n      }\r\n    }\r\n    this.completeLayers = this.elements[i] ? this.completeLayers : false;\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.createItem = function (layer) {\r\n  switch (layer.ty) {\r\n    case 2:\r\n      return this.createImage(layer);\r\n    case 0:\r\n      return this.createComp(layer);\r\n    case 1:\r\n      return this.createSolid(layer);\r\n    case 3:\r\n      return this.createNull(layer);\r\n    case 4:\r\n      return this.createShape(layer);\r\n    case 5:\r\n      return this.createText(layer);\r\n    case 6:\r\n      return this.createAudio(layer);\r\n    case 13:\r\n      return this.createCamera(layer);\r\n    case 15:\r\n      return this.createFootage(layer);\r\n    default:\r\n      return this.createNull(layer);\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.createCamera = function () {\r\n  throw new Error('You\\'re using a 3d camera. Try the html renderer.');\r\n};\r\n\r\nBaseRenderer.prototype.createAudio = function (data) {\r\n  return new AudioElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.createFootage = function (data) {\r\n  return new FootageElement(data, this.globalData, this);\r\n};\r\n\r\nBaseRenderer.prototype.buildAllItems = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.buildItem(i);\r\n  }\r\n  this.checkPendingElements();\r\n};\r\n\r\nBaseRenderer.prototype.includeLayers = function (newLayers) {\r\n  this.completeLayers = false;\r\n  var i;\r\n  var len = newLayers.length;\r\n  var j;\r\n  var jLen = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    j = 0;\r\n    while (j < jLen) {\r\n      if (this.layers[j].id === newLayers[i].id) {\r\n        this.layers[j] = newLayers[i];\r\n        break;\r\n      }\r\n      j += 1;\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setProjectInterface = function (pInterface) {\r\n  this.globalData.projectInterface = pInterface;\r\n};\r\n\r\nBaseRenderer.prototype.initItems = function () {\r\n  if (!this.globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n};\r\nBaseRenderer.prototype.buildElementParenting = function (element, parentName, hierarchy) {\r\n  var elements = this.elements;\r\n  var layers = this.layers;\r\n  var i = 0;\r\n  var len = layers.length;\r\n  while (i < len) {\r\n    if (layers[i].ind == parentName) { // eslint-disable-line eqeqeq\r\n      if (!elements[i] || elements[i] === true) {\r\n        this.buildItem(i);\r\n        this.addPendingElement(element);\r\n      } else {\r\n        hierarchy.push(elements[i]);\r\n        elements[i].setAsParent();\r\n        if (layers[i].parent !== undefined) {\r\n          this.buildElementParenting(element, layers[i].parent, hierarchy);\r\n        } else {\r\n          element.setHierarchy(hierarchy);\r\n        }\r\n      }\r\n    }\r\n    i += 1;\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.addPendingElement = function (element) {\r\n  this.pendingElements.push(element);\r\n};\r\n\r\nBaseRenderer.prototype.searchExtraCompositions = function (assets) {\r\n  var i;\r\n  var len = assets.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (assets[i].xt) {\r\n      var comp = this.createComp(assets[i]);\r\n      comp.initExpressions();\r\n      this.globalData.projectInterface.registerComposition(comp);\r\n    }\r\n  }\r\n};\r\n\r\nBaseRenderer.prototype.setupGlobalData = function (animData, fontsContainer) {\r\n  this.globalData.fontManager = new FontManager();\r\n  this.globalData.fontManager.addChars(animData.chars);\r\n  this.globalData.fontManager.addFonts(animData.fonts, fontsContainer);\r\n  this.globalData.getAssetData = this.animationItem.getAssetData.bind(this.animationItem);\r\n  this.globalData.getAssetsPath = this.animationItem.getAssetsPath.bind(this.animationItem);\r\n  this.globalData.imageLoader = this.animationItem.imagePreloader;\r\n  this.globalData.audioController = this.animationItem.audioController;\r\n  this.globalData.frameId = 0;\r\n  this.globalData.frameRate = animData.fr;\r\n  this.globalData.nm = animData.nm;\r\n  this.globalData.compSize = {\r\n    w: animData.w,\r\n    h: animData.h,\r\n  };\r\n};\r\n\r\n/* global createElementID, extendPrototype, BaseRenderer, NullElement, SVGShapeElement, SVGTextLottieElement,\r\nIImageElement, SVGCompElement, ISolidElement, createNS, locationHref, createSizedArray, expressionsPlugin */\r\n\r\nfunction SVGRenderer(animationItem, config) {\r\n  this.animationItem = animationItem;\r\n  this.layers = null;\r\n  this.renderedFrame = -1;\r\n  this.svgElement = createNS('svg');\r\n  var ariaLabel = '';\r\n  if (config && config.title) {\r\n    var titleElement = createNS('title');\r\n    var titleId = createElementID();\r\n    titleElement.setAttribute('id', titleId);\r\n    titleElement.textContent = config.title;\r\n    this.svgElement.appendChild(titleElement);\r\n    ariaLabel += titleId;\r\n  }\r\n  if (config && config.description) {\r\n    var descElement = createNS('desc');\r\n    var descId = createElementID();\r\n    descElement.setAttribute('id', descId);\r\n    descElement.textContent = config.description;\r\n    this.svgElement.appendChild(descElement);\r\n    ariaLabel += ' ' + descId;\r\n  }\r\n  if (ariaLabel) {\r\n    this.svgElement.setAttribute('aria-labelledby', ariaLabel);\r\n  }\r\n  var defs = createNS('defs');\r\n  this.svgElement.appendChild(defs);\r\n  var maskElement = createNS('g');\r\n  this.svgElement.appendChild(maskElement);\r\n  this.layerElement = maskElement;\r\n  this.renderConfig = {\r\n    preserveAspectRatio: (config && config.preserveAspectRatio) || 'xMidYMid meet',\r\n    imagePreserveAspectRatio: (config && config.imagePreserveAspectRatio) || 'xMidYMid slice',\r\n    contentVisibility: (config && config.contentVisibility) || 'visible',\r\n    progressiveLoad: (config && config.progressiveLoad) || false,\r\n    hideOnTransparent: !((config && config.hideOnTransparent === false)),\r\n    viewBoxOnly: (config && config.viewBoxOnly) || false,\r\n    viewBoxSize: (config && config.viewBoxSize) || false,\r\n    className: (config && config.className) || '',\r\n    id: (config && config.id) || '',\r\n    focusable: config && config.focusable,\r\n    filterSize: {\r\n      width: (config && config.filterSize && config.filterSize.width) || '100%',\r\n      height: (config && config.filterSize && config.filterSize.height) || '100%',\r\n      x: (config && config.filterSize && config.filterSize.x) || '0%',\r\n      y: (config && config.filterSize && config.filterSize.y) || '0%',\r\n    },\r\n  };\r\n\r\n  this.globalData = {\r\n    _mdf: false,\r\n    frameNum: -1,\r\n    defs: defs,\r\n    renderConfig: this.renderConfig,\r\n  };\r\n  this.elements = [];\r\n  this.pendingElements = [];\r\n  this.destroyed = false;\r\n  this.rendererType = 'svg';\r\n}\r\n\r\nextendPrototype([BaseRenderer], SVGRenderer);\r\n\r\nSVGRenderer.prototype.createNull = function (data) {\r\n  return new NullElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createShape = function (data) {\r\n  return new SVGShapeElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createText = function (data) {\r\n  return new SVGTextLottieElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createImage = function (data) {\r\n  return new IImageElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createComp = function (data) {\r\n  return new SVGCompElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.createSolid = function (data) {\r\n  return new ISolidElement(data, this.globalData, this);\r\n};\r\n\r\nSVGRenderer.prototype.configAnimation = function (animData) {\r\n  this.svgElement.setAttribute('xmlns', 'http://www.w3.org/2000/svg');\r\n  if (this.renderConfig.viewBoxSize) {\r\n    this.svgElement.setAttribute('viewBox', this.renderConfig.viewBoxSize);\r\n  } else {\r\n    this.svgElement.setAttribute('viewBox', '0 0 ' + animData.w + ' ' + animData.h);\r\n  }\r\n\r\n  if (!this.renderConfig.viewBoxOnly) {\r\n    this.svgElement.setAttribute('width', animData.w);\r\n    this.svgElement.setAttribute('height', animData.h);\r\n    this.svgElement.style.width = '100%';\r\n    this.svgElement.style.height = '100%';\r\n    this.svgElement.style.transform = 'translate3d(0,0,0)';\r\n    this.svgElement.style.contentVisibility = this.renderConfig.contentVisibility;\r\n  }\r\n  if (this.renderConfig.className) {\r\n    this.svgElement.setAttribute('class', this.renderConfig.className);\r\n  }\r\n  if (this.renderConfig.id) {\r\n    this.svgElement.setAttribute('id', this.renderConfig.id);\r\n  }\r\n  if (this.renderConfig.focusable !== undefined) {\r\n    this.svgElement.setAttribute('focusable', this.renderConfig.focusable);\r\n  }\r\n  this.svgElement.setAttribute('preserveAspectRatio', this.renderConfig.preserveAspectRatio);\r\n  // this.layerElement.style.transform = 'translate3d(0,0,0)';\r\n  // this.layerElement.style.transformOrigin = this.layerElement.style.mozTransformOrigin = this.layerElement.style.webkitTransformOrigin = this.layerElement.style['-webkit-transform'] = \"0px 0px 0px\";\r\n  this.animationItem.wrapper.appendChild(this.svgElement);\r\n  // Mask animation\r\n  var defs = this.globalData.defs;\r\n\r\n  this.setupGlobalData(animData, defs);\r\n  this.globalData.progressiveLoad = this.renderConfig.progressiveLoad;\r\n  this.data = animData;\r\n\r\n  var maskElement = createNS('clipPath');\r\n  var rect = createNS('rect');\r\n  rect.setAttribute('width', animData.w);\r\n  rect.setAttribute('height', animData.h);\r\n  rect.setAttribute('x', 0);\r\n  rect.setAttribute('y', 0);\r\n  var maskId = createElementID();\r\n  maskElement.setAttribute('id', maskId);\r\n  maskElement.appendChild(rect);\r\n  this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + maskId + ')');\r\n\r\n  defs.appendChild(maskElement);\r\n  this.layers = animData.layers;\r\n  this.elements = createSizedArray(animData.layers.length);\r\n};\r\n\r\nSVGRenderer.prototype.destroy = function () {\r\n  if (this.animationItem.wrapper) {\r\n    this.animationItem.wrapper.innerText = '';\r\n  }\r\n  this.layerElement = null;\r\n  this.globalData.defs = null;\r\n  var i;\r\n  var len = this.layers ? this.layers.length : 0;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n  this.elements.length = 0;\r\n  this.destroyed = true;\r\n  this.animationItem = null;\r\n};\r\n\r\nSVGRenderer.prototype.updateContainerSize = function () {\r\n};\r\n\r\nSVGRenderer.prototype.buildItem = function (pos) {\r\n  var elements = this.elements;\r\n  if (elements[pos] || this.layers[pos].ty === 99) {\r\n    return;\r\n  }\r\n  elements[pos] = true;\r\n  var element = this.createItem(this.layers[pos]);\r\n\r\n  elements[pos] = element;\r\n  if (expressionsPlugin) {\r\n    if (this.layers[pos].ty === 0) {\r\n      this.globalData.projectInterface.registerComposition(element);\r\n    }\r\n    element.initExpressions();\r\n  }\r\n  this.appendElementInPos(element, pos);\r\n  if (this.layers[pos].tt) {\r\n    if (!this.elements[pos - 1] || this.elements[pos - 1] === true) {\r\n      this.buildItem(pos - 1);\r\n      this.addPendingElement(element);\r\n    } else {\r\n      element.setMatte(elements[pos - 1].layerId);\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.checkPendingElements = function () {\r\n  while (this.pendingElements.length) {\r\n    var element = this.pendingElements.pop();\r\n    element.checkParenting();\r\n    if (element.data.tt) {\r\n      var i = 0;\r\n      var len = this.elements.length;\r\n      while (i < len) {\r\n        if (this.elements[i] === element) {\r\n          element.setMatte(this.elements[i - 1].layerId);\r\n          break;\r\n        }\r\n        i += 1;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.renderFrame = function (num) {\r\n  if (this.renderedFrame === num || this.destroyed) {\r\n    return;\r\n  }\r\n  if (num === null) {\r\n    num = this.renderedFrame;\r\n  } else {\r\n    this.renderedFrame = num;\r\n  }\r\n  // console.log('-------');\r\n  // console.log('FRAME ',num);\r\n  this.globalData.frameNum = num;\r\n  this.globalData.frameId += 1;\r\n  this.globalData.projectInterface.currentFrame = num;\r\n  this.globalData._mdf = false;\r\n  var i;\r\n  var len = this.layers.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(num);\r\n  }\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(num - this.layers[i].st);\r\n    }\r\n  }\r\n  if (this.globalData._mdf) {\r\n    for (i = 0; i < len; i += 1) {\r\n      if (this.completeLayers || this.elements[i]) {\r\n        this.elements[i].renderFrame();\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.appendElementInPos = function (element, pos) {\r\n  var newElement = element.getBaseElement();\r\n  if (!newElement) {\r\n    return;\r\n  }\r\n  var i = 0;\r\n  var nextElement;\r\n  while (i < pos) {\r\n    if (this.elements[i] && this.elements[i] !== true && this.elements[i].getBaseElement()) {\r\n      nextElement = this.elements[i].getBaseElement();\r\n    }\r\n    i += 1;\r\n  }\r\n  if (nextElement) {\r\n    this.layerElement.insertBefore(newElement, nextElement);\r\n  } else {\r\n    this.layerElement.appendChild(newElement);\r\n  }\r\n};\r\n\r\nSVGRenderer.prototype.hide = function () {\r\n  this.layerElement.style.display = 'none';\r\n};\r\n\r\nSVGRenderer.prototype.show = function () {\r\n  this.layerElement.style.display = 'block';\r\n};\r\n\r\n/* global createSizedArray, createElementID, PropertyFactory, ShapePropertyFactory, createNS, locationHref */\r\n\r\nfunction MaskElement(data, element, globalData) {\r\n  this.data = data;\r\n  this.element = element;\r\n  this.globalData = globalData;\r\n  this.storedData = [];\r\n  this.masksProperties = this.data.masksProperties || [];\r\n  this.maskElement = null;\r\n  var defs = this.globalData.defs;\r\n  var i;\r\n  var len = this.masksProperties ? this.masksProperties.length : 0;\r\n  this.viewData = createSizedArray(len);\r\n  this.solidPath = '';\r\n\r\n  var path;\r\n  var properties = this.masksProperties;\r\n  var count = 0;\r\n  var currentMasks = [];\r\n  var j;\r\n  var jLen;\r\n  var layerId = createElementID();\r\n  var rect;\r\n  var expansor;\r\n  var feMorph;\r\n  var x;\r\n  var maskType = 'clipPath';\r\n  var maskRef = 'clip-path';\r\n  for (i = 0; i < len; i += 1) {\r\n    if ((properties[i].mode !== 'a' && properties[i].mode !== 'n') || properties[i].inv || properties[i].o.k !== 100 || properties[i].o.x) {\r\n      maskType = 'mask';\r\n      maskRef = 'mask';\r\n    }\r\n\r\n    if ((properties[i].mode === 's' || properties[i].mode === 'i') && count === 0) {\r\n      rect = createNS('rect');\r\n      rect.setAttribute('fill', '#ffffff');\r\n      rect.setAttribute('width', this.element.comp.data.w || 0);\r\n      rect.setAttribute('height', this.element.comp.data.h || 0);\r\n      currentMasks.push(rect);\r\n    } else {\r\n      rect = null;\r\n    }\r\n\r\n    path = createNS('path');\r\n    if (properties[i].mode === 'n') {\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        elem: path,\r\n        lastPath: '',\r\n      };\r\n      defs.appendChild(path);\r\n    } else {\r\n      count += 1;\r\n\r\n      path.setAttribute('fill', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      path.setAttribute('clip-rule', 'nonzero');\r\n      var filterID;\r\n\r\n      if (properties[i].x.k !== 0) {\r\n        maskType = 'mask';\r\n        maskRef = 'mask';\r\n        x = PropertyFactory.getProp(this.element, properties[i].x, 0, null, this.element);\r\n        filterID = createElementID();\r\n        expansor = createNS('filter');\r\n        expansor.setAttribute('id', filterID);\r\n        feMorph = createNS('feMorphology');\r\n        feMorph.setAttribute('operator', 'erode');\r\n        feMorph.setAttribute('in', 'SourceGraphic');\r\n        feMorph.setAttribute('radius', '0');\r\n        expansor.appendChild(feMorph);\r\n        defs.appendChild(expansor);\r\n        path.setAttribute('stroke', properties[i].mode === 's' ? '#000000' : '#ffffff');\r\n      } else {\r\n        feMorph = null;\r\n        x = null;\r\n      }\r\n\r\n      // TODO move this to a factory or to a constructor\r\n      this.storedData[i] = {\r\n        elem: path,\r\n        x: x,\r\n        expan: feMorph,\r\n        lastPath: '',\r\n        lastOperator: '',\r\n        filterId: filterID,\r\n        lastRadius: 0,\r\n      };\r\n      if (properties[i].mode === 'i') {\r\n        jLen = currentMasks.length;\r\n        var g = createNS('g');\r\n        for (j = 0; j < jLen; j += 1) {\r\n          g.appendChild(currentMasks[j]);\r\n        }\r\n        var mask = createNS('mask');\r\n        mask.setAttribute('mask-type', 'alpha');\r\n        mask.setAttribute('id', layerId + '_' + count);\r\n        mask.appendChild(path);\r\n        defs.appendChild(mask);\r\n        g.setAttribute('mask', 'url(' + locationHref + '#' + layerId + '_' + count + ')');\r\n\r\n        currentMasks.length = 0;\r\n        currentMasks.push(g);\r\n      } else {\r\n        currentMasks.push(path);\r\n      }\r\n      if (properties[i].inv && !this.solidPath) {\r\n        this.solidPath = this.createLayerSolidPath();\r\n      }\r\n      // TODO move this to a factory or to a constructor\r\n      this.viewData[i] = {\r\n        elem: path,\r\n        lastPath: '',\r\n        op: PropertyFactory.getProp(this.element, properties[i].o, 0, 0.01, this.element),\r\n        prop: ShapePropertyFactory.getShapeProp(this.element, properties[i], 3),\r\n        invRect: rect,\r\n      };\r\n      if (!this.viewData[i].prop.k) {\r\n        this.drawPath(properties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n      }\r\n    }\r\n  }\r\n\r\n  this.maskElement = createNS(maskType);\r\n\r\n  len = currentMasks.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.maskElement.appendChild(currentMasks[i]);\r\n  }\r\n\r\n  if (count > 0) {\r\n    this.maskElement.setAttribute('id', layerId);\r\n    this.element.maskedElement.setAttribute(maskRef, 'url(' + locationHref + '#' + layerId + ')');\r\n    defs.appendChild(this.maskElement);\r\n  }\r\n  if (this.viewData.length) {\r\n    this.element.addRenderableComponent(this);\r\n  }\r\n}\r\n\r\nMaskElement.prototype.getMaskProperty = function (pos) {\r\n  return this.viewData[pos].prop;\r\n};\r\n\r\nMaskElement.prototype.renderFrame = function (isFirstFrame) {\r\n  var finalMat = this.element.finalTransform.mat;\r\n  var i;\r\n  var len = this.masksProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.viewData[i].prop._mdf || isFirstFrame) {\r\n      this.drawPath(this.masksProperties[i], this.viewData[i].prop.v, this.viewData[i]);\r\n    }\r\n    if (this.viewData[i].op._mdf || isFirstFrame) {\r\n      this.viewData[i].elem.setAttribute('fill-opacity', this.viewData[i].op.v);\r\n    }\r\n    if (this.masksProperties[i].mode !== 'n') {\r\n      if (this.viewData[i].invRect && (this.element.finalTransform.mProp._mdf || isFirstFrame)) {\r\n        this.viewData[i].invRect.setAttribute('transform', finalMat.getInverseMatrix().to2dCSS());\r\n      }\r\n      if (this.storedData[i].x && (this.storedData[i].x._mdf || isFirstFrame)) {\r\n        var feMorph = this.storedData[i].expan;\r\n        if (this.storedData[i].x.v < 0) {\r\n          if (this.storedData[i].lastOperator !== 'erode') {\r\n            this.storedData[i].lastOperator = 'erode';\r\n            this.storedData[i].elem.setAttribute('filter', 'url(' + locationHref + '#' + this.storedData[i].filterId + ')');\r\n          }\r\n          feMorph.setAttribute('radius', -this.storedData[i].x.v);\r\n        } else {\r\n          if (this.storedData[i].lastOperator !== 'dilate') {\r\n            this.storedData[i].lastOperator = 'dilate';\r\n            this.storedData[i].elem.setAttribute('filter', null);\r\n          }\r\n          this.storedData[i].elem.setAttribute('stroke-width', this.storedData[i].x.v * 2);\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nMaskElement.prototype.getMaskelement = function () {\r\n  return this.maskElement;\r\n};\r\n\r\nMaskElement.prototype.createLayerSolidPath = function () {\r\n  var path = 'M0,0 ';\r\n  path += ' h' + this.globalData.compSize.w;\r\n  path += ' v' + this.globalData.compSize.h;\r\n  path += ' h-' + this.globalData.compSize.w;\r\n  path += ' v-' + this.globalData.compSize.h + ' ';\r\n  return path;\r\n};\r\n\r\nMaskElement.prototype.drawPath = function (pathData, pathNodes, viewData) {\r\n  var pathString = ' M' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  var i;\r\n  var len;\r\n  len = pathNodes._length;\r\n  for (i = 1; i < len; i += 1) {\r\n    // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[i][0]+','+pathNodes.i[i][1] + \" \"+pathNodes.v[i][0]+','+pathNodes.v[i][1];\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[i][0] + ',' + pathNodes.i[i][1] + ' ' + pathNodes.v[i][0] + ',' + pathNodes.v[i][1];\r\n  }\r\n  // pathString += \" C\"+pathNodes.o[i-1][0]+','+pathNodes.o[i-1][1] + \" \"+pathNodes.i[0][0]+','+pathNodes.i[0][1] + \" \"+pathNodes.v[0][0]+','+pathNodes.v[0][1];\r\n  if (pathNodes.c && len > 1) {\r\n    pathString += ' C' + pathNodes.o[i - 1][0] + ',' + pathNodes.o[i - 1][1] + ' ' + pathNodes.i[0][0] + ',' + pathNodes.i[0][1] + ' ' + pathNodes.v[0][0] + ',' + pathNodes.v[0][1];\r\n  }\r\n  // pathNodes.__renderedString = pathString;\r\n\r\n  if (viewData.lastPath !== pathString) {\r\n    var pathShapeValue = '';\r\n    if (viewData.elem) {\r\n      if (pathNodes.c) {\r\n        pathShapeValue = pathData.inv ? this.solidPath + pathString : pathString;\r\n      }\r\n      viewData.elem.setAttribute('d', pathShapeValue);\r\n    }\r\n    viewData.lastPath = pathString;\r\n  }\r\n};\r\n\r\nMaskElement.prototype.destroy = function () {\r\n  this.element = null;\r\n  this.globalData = null;\r\n  this.maskElement = null;\r\n  this.data = null;\r\n  this.masksProperties = null;\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles AE's layer parenting property.\r\n *\r\n */\r\n\r\nfunction HierarchyElement() {}\r\n\r\nHierarchyElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes hierarchy properties\r\n     *\r\n     */\r\n  initHierarchy: function () {\r\n    // element's parent list\r\n    this.hierarchy = [];\r\n    // if element is parent of another layer _isParent will be true\r\n    this._isParent = false;\r\n    this.checkParenting();\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer's hierarchy.\r\n     * @param {array} hierarch\r\n     * layer's parent list\r\n     *\r\n     */\r\n  setHierarchy: function (hierarchy) {\r\n    this.hierarchy = hierarchy;\r\n  },\r\n  /**\r\n     * @function\r\n     * Sets layer as parent.\r\n     *\r\n     */\r\n  setAsParent: function () {\r\n    this._isParent = true;\r\n  },\r\n  /**\r\n     * @function\r\n     * Searches layer's parenting chain\r\n     *\r\n     */\r\n  checkParenting: function () {\r\n    if (this.data.parent !== undefined) {\r\n      this.comp.buildElementParenting(this, this.data.parent, []);\r\n    }\r\n  },\r\n};\r\n\r\n/**\r\n * @file\r\n * Handles element's layer frame update.\r\n * Checks layer in point and out point\r\n *\r\n */\r\n\r\nfunction FrameElement() {}\r\n\r\nFrameElement.prototype = {\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     */\r\n  initFrame: function () {\r\n    // set to true when inpoint is rendered\r\n    this._isFirstFrame = false;\r\n    // list of animated properties\r\n    this.dynamicProperties = [];\r\n    // If layer has been modified in current tick this will be true\r\n    this._mdf = false;\r\n  },\r\n  /**\r\n     * @function\r\n     * Calculates all dynamic values\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     * @param {boolean} isVisible\r\n     * if layers is currently in range\r\n     *\r\n     */\r\n  prepareProperties: function (num, isVisible) {\r\n    var i;\r\n    var len = this.dynamicProperties.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (isVisible || (this._isParent && this.dynamicProperties[i].propType === 'transform')) {\r\n        this.dynamicProperties[i].getValue();\r\n        if (this.dynamicProperties[i]._mdf) {\r\n          this.globalData._mdf = true;\r\n          this._mdf = true;\r\n        }\r\n      }\r\n    }\r\n  },\r\n  addDynamicProperty: function (prop) {\r\n    if (this.dynamicProperties.indexOf(prop) === -1) {\r\n      this.dynamicProperties.push(prop);\r\n    }\r\n  },\r\n};\r\n\r\n/* global TransformPropertyFactory, Matrix */\r\n\r\nfunction TransformElement() {}\r\n\r\nTransformElement.prototype = {\r\n  initTransform: function () {\r\n    this.finalTransform = {\r\n      mProp: this.data.ks ? TransformPropertyFactory.getTransformProperty(this, this.data.ks, this) : { o: 0 },\r\n      _matMdf: false,\r\n      _opMdf: false,\r\n      mat: new Matrix(),\r\n    };\r\n    if (this.data.ao) {\r\n      this.finalTransform.mProp.autoOriented = true;\r\n    }\r\n\r\n    // TODO: check TYPE 11: Guided elements\r\n    if (this.data.ty !== 11) {\r\n      // this.createElements();\r\n    }\r\n  },\r\n  renderTransform: function () {\r\n    this.finalTransform._opMdf = this.finalTransform.mProp.o._mdf || this._isFirstFrame;\r\n    this.finalTransform._matMdf = this.finalTransform.mProp._mdf || this._isFirstFrame;\r\n\r\n    if (this.hierarchy) {\r\n      var mat;\r\n      var finalMat = this.finalTransform.mat;\r\n      var i = 0;\r\n      var len = this.hierarchy.length;\r\n      // Checking if any of the transformation matrices in the hierarchy chain has changed.\r\n      if (!this.finalTransform._matMdf) {\r\n        while (i < len) {\r\n          if (this.hierarchy[i].finalTransform.mProp._mdf) {\r\n            this.finalTransform._matMdf = true;\r\n            break;\r\n          }\r\n          i += 1;\r\n        }\r\n      }\r\n\r\n      if (this.finalTransform._matMdf) {\r\n        mat = this.finalTransform.mProp.v.props;\r\n        finalMat.cloneFromProps(mat);\r\n        for (i = 0; i < len; i += 1) {\r\n          mat = this.hierarchy[i].finalTransform.mProp.v.props;\r\n          finalMat.transform(mat[0], mat[1], mat[2], mat[3], mat[4], mat[5], mat[6], mat[7], mat[8], mat[9], mat[10], mat[11], mat[12], mat[13], mat[14], mat[15]);\r\n        }\r\n      }\r\n    }\r\n  },\r\n  globalToLocal: function (pt) {\r\n    var transforms = [];\r\n    transforms.push(this.finalTransform);\r\n    var flag = true;\r\n    var comp = this.comp;\r\n    while (flag) {\r\n      if (comp.finalTransform) {\r\n        if (comp.data.hasMask) {\r\n          transforms.splice(0, 0, comp.finalTransform);\r\n        }\r\n        comp = comp.comp;\r\n      } else {\r\n        flag = false;\r\n      }\r\n    }\r\n    var i;\r\n    var len = transforms.length;\r\n    var ptNew;\r\n    for (i = 0; i < len; i += 1) {\r\n      ptNew = transforms[i].mat.applyToPointArray(0, 0, 0);\r\n      // ptNew = transforms[i].mat.applyToPointArray(pt[0],pt[1],pt[2]);\r\n      pt = [pt[0] - ptNew[0], pt[1] - ptNew[1], 0];\r\n    }\r\n    return pt;\r\n  },\r\n  mHelper: new Matrix(),\r\n};\r\n\r\nfunction RenderableElement() {\r\n\r\n}\r\n\r\nRenderableElement.prototype = {\r\n  initRenderable: function () {\r\n    // layer's visibility related to inpoint and outpoint. Rename isVisible to isInRange\r\n    this.isInRange = false;\r\n    // layer's display state\r\n    this.hidden = false;\r\n    // If layer's transparency equals 0, it can be hidden\r\n    this.isTransparent = false;\r\n    // list of animated components\r\n    this.renderableComponents = [];\r\n  },\r\n  addRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) === -1) {\r\n      this.renderableComponents.push(component);\r\n    }\r\n  },\r\n  removeRenderableComponent: function (component) {\r\n    if (this.renderableComponents.indexOf(component) !== -1) {\r\n      this.renderableComponents.splice(this.renderableComponents.indexOf(component), 1);\r\n    }\r\n  },\r\n  prepareRenderableFrame: function (num) {\r\n    this.checkLayerLimits(num);\r\n  },\r\n  checkTransparency: function () {\r\n    if (this.finalTransform.mProp.o.v <= 0) {\r\n      if (!this.isTransparent && this.globalData.renderConfig.hideOnTransparent) {\r\n        this.isTransparent = true;\r\n        this.hide();\r\n      }\r\n    } else if (this.isTransparent) {\r\n      this.isTransparent = false;\r\n      this.show();\r\n    }\r\n  },\r\n  /**\r\n     * @function\r\n     * Initializes frame related properties.\r\n     *\r\n     * @param {number} num\r\n     * current frame number in Layer's time\r\n     *\r\n     */\r\n  checkLayerLimits: function (num) {\r\n    if (this.data.ip - this.data.st <= num && this.data.op - this.data.st > num) {\r\n      if (this.isInRange !== true) {\r\n        this.globalData._mdf = true;\r\n        this._mdf = true;\r\n        this.isInRange = true;\r\n        this.show();\r\n      }\r\n    } else if (this.isInRange !== false) {\r\n      this.globalData._mdf = true;\r\n      this.isInRange = false;\r\n      this.hide();\r\n    }\r\n  },\r\n  renderRenderable: function () {\r\n    var i;\r\n    var len = this.renderableComponents.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.renderableComponents[i].renderFrame(this._isFirstFrame);\r\n    }\r\n    /* this.maskManager.renderFrame(this.finalTransform.mat);\r\n        this.renderableEffectsManager.renderFrame(this._isFirstFrame); */\r\n  },\r\n  sourceRectAtTime: function () {\r\n    return {\r\n      top: 0,\r\n      left: 0,\r\n      width: 100,\r\n      height: 100,\r\n    };\r\n  },\r\n  getLayerSize: function () {\r\n    if (this.data.ty === 5) {\r\n      return { w: this.data.textData.width, h: this.data.textData.height };\r\n    }\r\n    return { w: this.data.width, h: this.data.height };\r\n  },\r\n};\r\n\r\n/* global extendPrototype, RenderableElement, createProxyFunction */\r\n\r\nfunction RenderableDOMElement() {}\r\n\r\n(function () {\r\n  var _prototype = {\r\n    initElement: function (data, globalData, comp) {\r\n      this.initFrame();\r\n      this.initBaseData(data, globalData, comp);\r\n      this.initTransform(data, globalData, comp);\r\n      this.initHierarchy();\r\n      this.initRenderable();\r\n      this.initRendererElement();\r\n      this.createContainerElements();\r\n      this.createRenderableComponents();\r\n      this.createContent();\r\n      this.hide();\r\n    },\r\n    hide: function () {\r\n      if (!this.hidden && (!this.isInRange || this.isTransparent)) {\r\n        var elem = this.baseElement || this.layerElement;\r\n        elem.style.display = 'none';\r\n        this.hidden = true;\r\n      }\r\n    },\r\n    show: function () {\r\n      if (this.isInRange && !this.isTransparent) {\r\n        if (!this.data.hd) {\r\n          var elem = this.baseElement || this.layerElement;\r\n          elem.style.display = 'block';\r\n        }\r\n        this.hidden = false;\r\n        this._isFirstFrame = true;\r\n      }\r\n    },\r\n    renderFrame: function () {\r\n      // If it is exported as hidden (data.hd === true) no need to render\r\n      // If it is not visible no need to render\r\n      if (this.data.hd || this.hidden) {\r\n        return;\r\n      }\r\n      this.renderTransform();\r\n      this.renderRenderable();\r\n      this.renderElement();\r\n      this.renderInnerContent();\r\n      if (this._isFirstFrame) {\r\n        this._isFirstFrame = false;\r\n      }\r\n    },\r\n    renderInnerContent: function () {},\r\n    prepareFrame: function (num) {\r\n      this._mdf = false;\r\n      this.prepareRenderableFrame(num);\r\n      this.prepareProperties(num, this.isInRange);\r\n      this.checkTransparency();\r\n    },\r\n    destroy: function () {\r\n      this.innerElem = null;\r\n      this.destroyBaseElement();\r\n    },\r\n  };\r\n  extendPrototype([RenderableElement, createProxyFunction(_prototype)], RenderableDOMElement);\r\n}());\r\n\r\n/* exported ProcessedElement */\r\n\r\nfunction ProcessedElement(element, position) {\r\n  this.elem = element;\r\n  this.pos = position;\r\n}\r\n\r\n/* global createNS */\r\n\r\nfunction SVGStyleData(data, level) {\r\n  this.data = data;\r\n  this.type = data.ty;\r\n  this.d = '';\r\n  this.lvl = level;\r\n  this._mdf = false;\r\n  this.closed = data.hd === true;\r\n  this.pElem = createNS('path');\r\n  this.msElem = null;\r\n}\r\n\r\nSVGStyleData.prototype.reset = function () {\r\n  this.d = '';\r\n  this._mdf = false;\r\n};\r\n\r\nfunction SVGShapeData(transformers, level, shape) {\r\n  this.caches = [];\r\n  this.styles = [];\r\n  this.transformers = transformers;\r\n  this.lStr = '';\r\n  this.sh = shape;\r\n  this.lvl = level;\r\n  // TODO find if there are some cases where _isAnimated can be false.\r\n  // For now, since shapes add up with other shapes. They have to be calculated every time.\r\n  // One way of finding out is checking if all styles associated to this shape depend only of this shape\r\n  this._isAnimated = !!shape.k;\r\n  // TODO: commenting this for now since all shapes are animated\r\n  var i = 0;\r\n  var len = transformers.length;\r\n  while (i < len) {\r\n    if (transformers[i].mProps.dynamicProperties.length) {\r\n      this._isAnimated = true;\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n}\r\n\r\nSVGShapeData.prototype.setAsAnimated = function () {\r\n  this._isAnimated = true;\r\n};\r\n\r\n/* exported SVGTransformData */\r\n\r\nfunction SVGTransformData(mProps, op, container) {\r\n  this.transform = {\r\n    mProps: mProps,\r\n    op: op,\r\n    container: container,\r\n  };\r\n  this.elements = [];\r\n  this._isAnimated = this.transform.mProps.dynamicProperties.length || this.transform.op.effectsSequence.length;\r\n}\r\n\r\n/* global DashProperty, PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGStrokeStyleData);\r\n\r\n/* global PropertyFactory, extendPrototype, DynamicPropertyContainer */\r\n\r\nfunction SVGFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.c = PropertyFactory.getProp(elem, data.c, 1, 255, this);\r\n  this.style = styleOb;\r\n}\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGFillStyleData);\r\n\r\n/* global PropertyFactory, degToRads, GradientProperty, createElementID, createNS, locationHref,\r\nextendPrototype, DynamicPropertyContainer, lineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGGradientFillStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.initGradientData(elem, data, styleOb);\r\n}\r\n\r\nSVGGradientFillStyleData.prototype.initGradientData = function (elem, data, styleOb) {\r\n  this.o = PropertyFactory.getProp(elem, data.o, 0, 0.01, this);\r\n  this.s = PropertyFactory.getProp(elem, data.s, 1, null, this);\r\n  this.e = PropertyFactory.getProp(elem, data.e, 1, null, this);\r\n  this.h = PropertyFactory.getProp(elem, data.h || { k: 0 }, 0, 0.01, this);\r\n  this.a = PropertyFactory.getProp(elem, data.a || { k: 0 }, 0, degToRads, this);\r\n  this.g = new GradientProperty(elem, data.g, this);\r\n  this.style = styleOb;\r\n  this.stops = [];\r\n  this.setGradientData(styleOb.pElem, data);\r\n  this.setGradientOpacity(data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientData = function (pathElement, data) {\r\n  var gradientId = createElementID();\r\n  var gfill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n  gfill.setAttribute('id', gradientId);\r\n  gfill.setAttribute('spreadMethod', 'pad');\r\n  gfill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n  var stops = [];\r\n  var stop;\r\n  var j;\r\n  var jLen;\r\n  jLen = data.g.p * 4;\r\n  for (j = 0; j < jLen; j += 4) {\r\n    stop = createNS('stop');\r\n    gfill.appendChild(stop);\r\n    stops.push(stop);\r\n  }\r\n  pathElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + gradientId + ')');\r\n  this.gf = gfill;\r\n  this.cst = stops;\r\n};\r\n\r\nSVGGradientFillStyleData.prototype.setGradientOpacity = function (data, styleOb) {\r\n  if (this.g._hasOpacity && !this.g._collapsable) {\r\n    var stop;\r\n    var j;\r\n    var jLen;\r\n    var mask = createNS('mask');\r\n    var maskElement = createNS('path');\r\n    mask.appendChild(maskElement);\r\n    var opacityId = createElementID();\r\n    var maskId = createElementID();\r\n    mask.setAttribute('id', maskId);\r\n    var opFill = createNS(data.t === 1 ? 'linearGradient' : 'radialGradient');\r\n    opFill.setAttribute('id', opacityId);\r\n    opFill.setAttribute('spreadMethod', 'pad');\r\n    opFill.setAttribute('gradientUnits', 'userSpaceOnUse');\r\n    jLen = data.g.k.k[0].s ? data.g.k.k[0].s.length : data.g.k.k.length;\r\n    var stops = this.stops;\r\n    for (j = data.g.p * 4; j < jLen; j += 2) {\r\n      stop = createNS('stop');\r\n      stop.setAttribute('stop-color', 'rgb(255,255,255)');\r\n      opFill.appendChild(stop);\r\n      stops.push(stop);\r\n    }\r\n    maskElement.setAttribute(data.ty === 'gf' ? 'fill' : 'stroke', 'url(' + locationHref + '#' + opacityId + ')');\r\n    if (data.ty === 'gs') {\r\n      maskElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n      maskElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n      if (data.lj === 1) {\r\n        maskElement.setAttribute('stroke-miterlimit', data.ml);\r\n      }\r\n    }\r\n    this.of = opFill;\r\n    this.ms = mask;\r\n    this.ost = stops;\r\n    this.maskId = maskId;\r\n    styleOb.msElem = maskElement;\r\n  }\r\n};\r\n\r\nextendPrototype([DynamicPropertyContainer], SVGGradientFillStyleData);\r\n\r\n/* global PropertyFactory, DashProperty, extendPrototype, SVGGradientFillStyleData, DynamicPropertyContainer */\r\n\r\nfunction SVGGradientStrokeStyleData(elem, data, styleOb) {\r\n  this.initDynamicPropertyContainer(elem);\r\n  this.getValue = this.iterateDynamicProperties;\r\n  this.w = PropertyFactory.getProp(elem, data.w, 0, null, this);\r\n  this.d = new DashProperty(elem, data.d || {}, 'svg', this);\r\n  this.initGradientData(elem, data, styleOb);\r\n  this._isAnimated = !!this._isAnimated;\r\n}\r\n\r\nextendPrototype([SVGGradientFillStyleData, DynamicPropertyContainer], SVGGradientStrokeStyleData);\r\n\r\n/* global createNS */\r\n/* exported ShapeGroupData */\r\n\r\nfunction ShapeGroupData() {\r\n  this.it = [];\r\n  this.prevViewData = [];\r\n  this.gr = createNS('g');\r\n}\r\n\r\n/* global Matrix, buildShapeString, bmFloor */\r\n/* exported SVGElementsRenderer */\r\n\r\nvar SVGElementsRenderer = (function () {\r\n  var _identityMatrix = new Matrix();\r\n  var _matrixHelper = new Matrix();\r\n\r\n  var ob = {\r\n    createRenderFunction: createRenderFunction,\r\n  };\r\n\r\n  function createRenderFunction(data) {\r\n    switch (data.ty) {\r\n      case 'fl':\r\n        return renderFill;\r\n      case 'gf':\r\n        return renderGradient;\r\n      case 'gs':\r\n        return renderGradientStroke;\r\n      case 'st':\r\n        return renderStroke;\r\n      case 'sh':\r\n      case 'el':\r\n      case 'rc':\r\n      case 'sr':\r\n        return renderPath;\r\n      case 'tr':\r\n        return renderContentTransform;\r\n      default:\r\n        return null;\r\n    }\r\n  }\r\n\r\n  function renderContentTransform(styleData, itemData, isFirstFrame) {\r\n    if (isFirstFrame || itemData.transform.op._mdf) {\r\n      itemData.transform.container.setAttribute('opacity', itemData.transform.op.v);\r\n    }\r\n    if (isFirstFrame || itemData.transform.mProps._mdf) {\r\n      itemData.transform.container.setAttribute('transform', itemData.transform.mProps.v.to2dCSS());\r\n    }\r\n  }\r\n\r\n  function renderPath(styleData, itemData, isFirstFrame) {\r\n    var j;\r\n    var jLen;\r\n    var pathStringTransformed;\r\n    var redraw;\r\n    var pathNodes;\r\n    var l;\r\n    var lLen = itemData.styles.length;\r\n    var lvl = itemData.lvl;\r\n    var paths;\r\n    var mat;\r\n    var props;\r\n    var iterations;\r\n    var k;\r\n    for (l = 0; l < lLen; l += 1) {\r\n      redraw = itemData.sh._mdf || isFirstFrame;\r\n      if (itemData.styles[l].lvl < lvl) {\r\n        mat = _matrixHelper.reset();\r\n        iterations = lvl - itemData.styles[l].lvl;\r\n        k = itemData.transformers.length - 1;\r\n        while (!redraw && iterations > 0) {\r\n          redraw = itemData.transformers[k].mProps._mdf || redraw;\r\n          iterations -= 1;\r\n          k -= 1;\r\n        }\r\n        if (redraw) {\r\n          iterations = lvl - itemData.styles[l].lvl;\r\n          k = itemData.transformers.length - 1;\r\n          while (iterations > 0) {\r\n            props = itemData.transformers[k].mProps.v.props;\r\n            mat.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n            iterations -= 1;\r\n            k -= 1;\r\n          }\r\n        }\r\n      } else {\r\n        mat = _identityMatrix;\r\n      }\r\n      paths = itemData.sh.paths;\r\n      jLen = paths._length;\r\n      if (redraw) {\r\n        pathStringTransformed = '';\r\n        for (j = 0; j < jLen; j += 1) {\r\n          pathNodes = paths.shapes[j];\r\n          if (pathNodes && pathNodes._length) {\r\n            pathStringTransformed += buildShapeString(pathNodes, pathNodes._length, pathNodes.c, mat);\r\n          }\r\n        }\r\n        itemData.caches[l] = pathStringTransformed;\r\n      } else {\r\n        pathStringTransformed = itemData.caches[l];\r\n      }\r\n      itemData.styles[l].d += styleData.hd === true ? '' : pathStringTransformed;\r\n      itemData.styles[l]._mdf = redraw || itemData.styles[l]._mdf;\r\n    }\r\n  }\r\n\r\n  function renderFill(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n\r\n    if (itemData.c._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('fill-opacity', itemData.o.v);\r\n    }\r\n  }\r\n\r\n  function renderGradientStroke(styleData, itemData, isFirstFrame) {\r\n    renderGradient(styleData, itemData, isFirstFrame);\r\n    renderStroke(styleData, itemData, isFirstFrame);\r\n  }\r\n\r\n  function renderGradient(styleData, itemData, isFirstFrame) {\r\n    var gfill = itemData.gf;\r\n    var hasOpacity = itemData.g._hasOpacity;\r\n    var pt1 = itemData.s.v;\r\n    var pt2 = itemData.e.v;\r\n\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      var attr = styleData.ty === 'gf' ? 'fill-opacity' : 'stroke-opacity';\r\n      itemData.style.pElem.setAttribute(attr, itemData.o.v);\r\n    }\r\n    if (itemData.s._mdf || isFirstFrame) {\r\n      var attr1 = styleData.t === 1 ? 'x1' : 'cx';\r\n      var attr2 = attr1 === 'x1' ? 'y1' : 'cy';\r\n      gfill.setAttribute(attr1, pt1[0]);\r\n      gfill.setAttribute(attr2, pt1[1]);\r\n      if (hasOpacity && !itemData.g._collapsable) {\r\n        itemData.of.setAttribute(attr1, pt1[0]);\r\n        itemData.of.setAttribute(attr2, pt1[1]);\r\n      }\r\n    }\r\n    var stops;\r\n    var i;\r\n    var len;\r\n    var stop;\r\n    if (itemData.g._cmdf || isFirstFrame) {\r\n      stops = itemData.cst;\r\n      var cValues = itemData.g.c;\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        stop.setAttribute('offset', cValues[i * 4] + '%');\r\n        stop.setAttribute('stop-color', 'rgb(' + cValues[i * 4 + 1] + ',' + cValues[i * 4 + 2] + ',' + cValues[i * 4 + 3] + ')');\r\n      }\r\n    }\r\n    if (hasOpacity && (itemData.g._omdf || isFirstFrame)) {\r\n      var oValues = itemData.g.o;\r\n      if (itemData.g._collapsable) {\r\n        stops = itemData.cst;\r\n      } else {\r\n        stops = itemData.ost;\r\n      }\r\n      len = stops.length;\r\n      for (i = 0; i < len; i += 1) {\r\n        stop = stops[i];\r\n        if (!itemData.g._collapsable) {\r\n          stop.setAttribute('offset', oValues[i * 2] + '%');\r\n        }\r\n        stop.setAttribute('stop-opacity', oValues[i * 2 + 1]);\r\n      }\r\n    }\r\n    if (styleData.t === 1) {\r\n      if (itemData.e._mdf || isFirstFrame) {\r\n        gfill.setAttribute('x2', pt2[0]);\r\n        gfill.setAttribute('y2', pt2[1]);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('x2', pt2[0]);\r\n          itemData.of.setAttribute('y2', pt2[1]);\r\n        }\r\n      }\r\n    } else {\r\n      var rad;\r\n      if (itemData.s._mdf || itemData.e._mdf || isFirstFrame) {\r\n        rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        gfill.setAttribute('r', rad);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('r', rad);\r\n        }\r\n      }\r\n      if (itemData.e._mdf || itemData.h._mdf || itemData.a._mdf || isFirstFrame) {\r\n        if (!rad) {\r\n          rad = Math.sqrt(Math.pow(pt1[0] - pt2[0], 2) + Math.pow(pt1[1] - pt2[1], 2));\r\n        }\r\n        var ang = Math.atan2(pt2[1] - pt1[1], pt2[0] - pt1[0]);\r\n\r\n        var percent = itemData.h.v;\r\n        if (percent >= 1) {\r\n          percent = 0.99;\r\n        } else if (percent <= -1) {\r\n          percent = -0.99;\r\n        }\r\n        var dist = rad * percent;\r\n        var x = Math.cos(ang + itemData.a.v) * dist + pt1[0];\r\n        var y = Math.sin(ang + itemData.a.v) * dist + pt1[1];\r\n        gfill.setAttribute('fx', x);\r\n        gfill.setAttribute('fy', y);\r\n        if (hasOpacity && !itemData.g._collapsable) {\r\n          itemData.of.setAttribute('fx', x);\r\n          itemData.of.setAttribute('fy', y);\r\n        }\r\n      }\r\n      // gfill.setAttribute('fy','200');\r\n    }\r\n  }\r\n\r\n  function renderStroke(styleData, itemData, isFirstFrame) {\r\n    var styleElem = itemData.style;\r\n    var d = itemData.d;\r\n    if (d && (d._mdf || isFirstFrame) && d.dashStr) {\r\n      styleElem.pElem.setAttribute('stroke-dasharray', d.dashStr);\r\n      styleElem.pElem.setAttribute('stroke-dashoffset', d.dashoffset[0]);\r\n    }\r\n    if (itemData.c && (itemData.c._mdf || isFirstFrame)) {\r\n      styleElem.pElem.setAttribute('stroke', 'rgb(' + bmFloor(itemData.c.v[0]) + ',' + bmFloor(itemData.c.v[1]) + ',' + bmFloor(itemData.c.v[2]) + ')');\r\n    }\r\n    if (itemData.o._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-opacity', itemData.o.v);\r\n    }\r\n    if (itemData.w._mdf || isFirstFrame) {\r\n      styleElem.pElem.setAttribute('stroke-width', itemData.w.v);\r\n      if (styleElem.msElem) {\r\n        styleElem.msElem.setAttribute('stroke-width', itemData.w.v);\r\n      }\r\n    }\r\n  }\r\n\r\n  return ob;\r\n}());\r\n\r\n/* global Matrix */\r\n\r\nfunction ShapeTransformManager() {\r\n  this.sequences = {};\r\n  this.sequenceList = [];\r\n  this.transform_key_count = 0;\r\n}\r\n\r\nShapeTransformManager.prototype = {\r\n  addTransformSequence: function (transforms) {\r\n    var i;\r\n    var len = transforms.length;\r\n    var key = '_';\r\n    for (i = 0; i < len; i += 1) {\r\n      key += transforms[i].transform.key + '_';\r\n    }\r\n    var sequence = this.sequences[key];\r\n    if (!sequence) {\r\n      sequence = {\r\n        transforms: [].concat(transforms),\r\n        finalTransform: new Matrix(),\r\n        _mdf: false,\r\n      };\r\n      this.sequences[key] = sequence;\r\n      this.sequenceList.push(sequence);\r\n    }\r\n    return sequence;\r\n  },\r\n  processSequence: function (sequence, isFirstFrame) {\r\n    var i = 0;\r\n    var len = sequence.transforms.length;\r\n    var _mdf = isFirstFrame;\r\n    while (i < len && !isFirstFrame) {\r\n      if (sequence.transforms[i].transform.mProps._mdf) {\r\n        _mdf = true;\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n    if (_mdf) {\r\n      var props;\r\n      sequence.finalTransform.reset();\r\n      for (i = len - 1; i >= 0; i -= 1) {\r\n        props = sequence.transforms[i].transform.mProps.v.props;\r\n        sequence.finalTransform.transform(props[0], props[1], props[2], props[3], props[4], props[5], props[6], props[7], props[8], props[9], props[10], props[11], props[12], props[13], props[14], props[15]);\r\n      }\r\n    }\r\n    sequence._mdf = _mdf;\r\n  },\r\n  processSequences: function (isFirstFrame) {\r\n    var i;\r\n    var len = this.sequenceList.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.processSequence(this.sequenceList[i], isFirstFrame);\r\n    }\r\n  },\r\n  getNewKey: function () {\r\n    this.transform_key_count += 1;\r\n    return '_' + this.transform_key_count;\r\n  },\r\n};\r\n\r\n/* global LayerExpressionInterface, EffectsExpressionInterface, CompExpressionInterface, ShapeExpressionInterface,\r\nTextExpressionInterface, getBlendMode,createElementID, EffectsManager */\r\n\r\nfunction BaseElement() {\r\n}\r\n\r\nBaseElement.prototype = {\r\n  checkMasks: function () {\r\n    if (!this.data.hasMask) {\r\n      return false;\r\n    }\r\n    var i = 0;\r\n    var len = this.data.masksProperties.length;\r\n    while (i < len) {\r\n      if ((this.data.masksProperties[i].mode !== 'n' && this.data.masksProperties[i].cl !== false)) {\r\n        return true;\r\n      }\r\n      i += 1;\r\n    }\r\n    return false;\r\n  },\r\n  initExpressions: function () {\r\n    this.layerInterface = LayerExpressionInterface(this);\r\n    if (this.data.hasMask && this.maskManager) {\r\n      this.layerInterface.registerMaskInterface(this.maskManager);\r\n    }\r\n    var effectsInterface = EffectsExpressionInterface.createEffectsInterface(this, this.layerInterface);\r\n    this.layerInterface.registerEffectsInterface(effectsInterface);\r\n\r\n    if (this.data.ty === 0 || this.data.xt) {\r\n      this.compInterface = CompExpressionInterface(this);\r\n    } else if (this.data.ty === 4) {\r\n      this.layerInterface.shapeInterface = ShapeExpressionInterface(this.shapesData, this.itemsData, this.layerInterface);\r\n      this.layerInterface.content = this.layerInterface.shapeInterface;\r\n    } else if (this.data.ty === 5) {\r\n      this.layerInterface.textInterface = TextExpressionInterface(this);\r\n      this.layerInterface.text = this.layerInterface.textInterface;\r\n    }\r\n  },\r\n  setBlendMode: function () {\r\n    var blendModeValue = getBlendMode(this.data.bm);\r\n    var elem = this.baseElement || this.layerElement;\r\n\r\n    elem.style['mix-blend-mode'] = blendModeValue;\r\n  },\r\n  initBaseData: function (data, globalData, comp) {\r\n    this.globalData = globalData;\r\n    this.comp = comp;\r\n    this.data = data;\r\n    this.layerId = createElementID();\r\n\r\n    // Stretch factor for old animations missing this property.\r\n    if (!this.data.sr) {\r\n      this.data.sr = 1;\r\n    }\r\n    // effects manager\r\n    this.effectsManager = new EffectsManager(this.data, this, this.dynamicProperties);\r\n  },\r\n  getType: function () {\r\n    return this.type;\r\n  },\r\n  sourceRectAtTime: function () {},\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement */\r\n\r\nfunction NullElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initFrame();\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n}\r\n\r\nNullElement.prototype.prepareFrame = function (num) {\r\n  this.prepareProperties(num, true);\r\n};\r\n\r\nNullElement.prototype.renderFrame = function () {\r\n};\r\n\r\nNullElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nNullElement.prototype.destroy = function () {\r\n};\r\n\r\nNullElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nNullElement.prototype.hide = function () {\r\n};\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement], NullElement);\r\n\r\n/* global filtersFactory, featureSupport, filtersFactory, createElementID, createNS, MaskElement, SVGEffects, locationHref */\r\n\r\nfunction SVGBaseElement() {\r\n}\r\n\r\nSVGBaseElement.prototype = {\r\n  initRendererElement: function () {\r\n    this.layerElement = createNS('g');\r\n  },\r\n  createContainerElements: function () {\r\n    this.matteElement = createNS('g');\r\n    this.transformedElement = this.layerElement;\r\n    this.maskedElement = this.layerElement;\r\n    this._sizeChanged = false;\r\n    var layerElementParent = null;\r\n    // If this layer acts as a mask for the following layer\r\n    var filId;\r\n    var fil;\r\n    var gg;\r\n    if (this.data.td) {\r\n      if (this.data.td == 3 || this.data.td == 1) { // eslint-disable-line eqeqeq\r\n        var masker = createNS('mask');\r\n        masker.setAttribute('id', this.layerId);\r\n        masker.setAttribute('mask-type', this.data.td == 3 ? 'luminance' : 'alpha'); // eslint-disable-line eqeqeq\r\n        masker.appendChild(this.layerElement);\r\n        layerElementParent = masker;\r\n        this.globalData.defs.appendChild(masker);\r\n        // This is only for IE and Edge when mask if of type alpha\r\n        if (!featureSupport.maskType && this.data.td == 1) { // eslint-disable-line eqeqeq\r\n          masker.setAttribute('mask-type', 'luminance');\r\n          filId = createElementID();\r\n          fil = filtersFactory.createFilter(filId);\r\n          this.globalData.defs.appendChild(fil);\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          masker.appendChild(gg);\r\n          gg.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        }\r\n      } else if (this.data.td == 2) { // eslint-disable-line eqeqeq\r\n        var maskGroup = createNS('mask');\r\n        maskGroup.setAttribute('id', this.layerId);\r\n        maskGroup.setAttribute('mask-type', 'alpha');\r\n        var maskGrouper = createNS('g');\r\n        maskGroup.appendChild(maskGrouper);\r\n        filId = createElementID();\r\n        fil = filtersFactory.createFilter(filId);\r\n        /// /\r\n\r\n        // This solution doesn't work on Android when meta tag with viewport attribute is set\r\n        /* var feColorMatrix = createNS('feColorMatrix');\r\n                feColorMatrix.setAttribute('type', 'matrix');\r\n                feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n                feColorMatrix.setAttribute('values','1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 -1 1');\r\n                fil.appendChild(feColorMatrix); */\r\n        /// /\r\n        var feCTr = createNS('feComponentTransfer');\r\n        feCTr.setAttribute('in', 'SourceGraphic');\r\n        fil.appendChild(feCTr);\r\n        var feFunc = createNS('feFuncA');\r\n        feFunc.setAttribute('type', 'table');\r\n        feFunc.setAttribute('tableValues', '1.0 0.0');\r\n        feCTr.appendChild(feFunc);\r\n        /// /\r\n        this.globalData.defs.appendChild(fil);\r\n        var alphaRect = createNS('rect');\r\n        alphaRect.setAttribute('width', this.comp.data.w);\r\n        alphaRect.setAttribute('height', this.comp.data.h);\r\n        alphaRect.setAttribute('x', '0');\r\n        alphaRect.setAttribute('y', '0');\r\n        alphaRect.setAttribute('fill', '#ffffff');\r\n        alphaRect.setAttribute('opacity', '0');\r\n        maskGrouper.setAttribute('filter', 'url(' + locationHref + '#' + filId + ')');\r\n        maskGrouper.appendChild(alphaRect);\r\n        maskGrouper.appendChild(this.layerElement);\r\n        layerElementParent = maskGrouper;\r\n        if (!featureSupport.maskType) {\r\n          maskGroup.setAttribute('mask-type', 'luminance');\r\n          fil.appendChild(filtersFactory.createAlphaToLuminanceFilter());\r\n          gg = createNS('g');\r\n          maskGrouper.appendChild(alphaRect);\r\n          gg.appendChild(this.layerElement);\r\n          layerElementParent = gg;\r\n          maskGrouper.appendChild(gg);\r\n        }\r\n        this.globalData.defs.appendChild(maskGroup);\r\n      }\r\n    } else if (this.data.tt) {\r\n      this.matteElement.appendChild(this.layerElement);\r\n      layerElementParent = this.matteElement;\r\n      this.baseElement = this.matteElement;\r\n    } else {\r\n      this.baseElement = this.layerElement;\r\n    }\r\n    if (this.data.ln) {\r\n      this.layerElement.setAttribute('id', this.data.ln);\r\n    }\r\n    if (this.data.cl) {\r\n      this.layerElement.setAttribute('class', this.data.cl);\r\n    }\r\n    // Clipping compositions to hide content that exceeds boundaries. If collapsed transformations is on, component should not be clipped\r\n    if (this.data.ty === 0 && !this.data.hd) {\r\n      var cp = createNS('clipPath');\r\n      var pt = createNS('path');\r\n      pt.setAttribute('d', 'M0,0 L' + this.data.w + ',0 L' + this.data.w + ',' + this.data.h + ' L0,' + this.data.h + 'z');\r\n      var clipId = createElementID();\r\n      cp.setAttribute('id', clipId);\r\n      cp.appendChild(pt);\r\n      this.globalData.defs.appendChild(cp);\r\n\r\n      if (this.checkMasks()) {\r\n        var cpGroup = createNS('g');\r\n        cpGroup.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n        cpGroup.appendChild(this.layerElement);\r\n        this.transformedElement = cpGroup;\r\n        if (layerElementParent) {\r\n          layerElementParent.appendChild(this.transformedElement);\r\n        } else {\r\n          this.baseElement = this.transformedElement;\r\n        }\r\n      } else {\r\n        this.layerElement.setAttribute('clip-path', 'url(' + locationHref + '#' + clipId + ')');\r\n      }\r\n    }\r\n    if (this.data.bm !== 0) {\r\n      this.setBlendMode();\r\n    }\r\n  },\r\n  renderElement: function () {\r\n    if (this.finalTransform._matMdf) {\r\n      this.transformedElement.setAttribute('transform', this.finalTransform.mat.to2dCSS());\r\n    }\r\n    if (this.finalTransform._opMdf) {\r\n      this.transformedElement.setAttribute('opacity', this.finalTransform.mProp.o.v);\r\n    }\r\n  },\r\n  destroyBaseElement: function () {\r\n    this.layerElement = null;\r\n    this.matteElement = null;\r\n    this.maskManager.destroy();\r\n  },\r\n  getBaseElement: function () {\r\n    if (this.data.hd) {\r\n      return null;\r\n    }\r\n    return this.baseElement;\r\n  },\r\n  createRenderableComponents: function () {\r\n    this.maskManager = new MaskElement(this.data, this, this.globalData);\r\n    this.renderableEffectsManager = new SVGEffects(this);\r\n  },\r\n  setMatte: function (id) {\r\n    if (!this.matteElement) {\r\n      return;\r\n    }\r\n    this.matteElement.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n  },\r\n};\r\n\r\n/* global ProcessedElement */\r\n\r\nfunction IShapeElement() {\r\n}\r\n\r\nIShapeElement.prototype = {\r\n  addShapeToModifiers: function (data) {\r\n    var i;\r\n    var len = this.shapeModifiers.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapeModifiers[i].addShape(data);\r\n    }\r\n  },\r\n  isShapeInAnimatedModifiers: function (data) {\r\n    var i = 0;\r\n    var len = this.shapeModifiers.length;\r\n    while (i < len) {\r\n      if (this.shapeModifiers[i].isAnimatedWithShape(data)) {\r\n        return true;\r\n      }\r\n    }\r\n    return false;\r\n  },\r\n  renderModifiers: function () {\r\n    if (!this.shapeModifiers.length) {\r\n      return;\r\n    }\r\n    var i;\r\n    var len = this.shapes.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.shapes[i].sh.reset();\r\n    }\r\n\r\n    len = this.shapeModifiers.length;\r\n    var shouldBreakProcess;\r\n    for (i = len - 1; i >= 0; i -= 1) {\r\n      shouldBreakProcess = this.shapeModifiers[i].processShapes(this._isFirstFrame);\r\n      // workaround to fix cases where a repeater resets the shape so the following processes get called twice\r\n      // TODO: find a better solution for this\r\n      if (shouldBreakProcess) {\r\n        break;\r\n      }\r\n    }\r\n  },\r\n\r\n  searchProcessedElement: function (elem) {\r\n    var elements = this.processedElements;\r\n    var i = 0;\r\n    var len = elements.length;\r\n    while (i < len) {\r\n      if (elements[i].elem === elem) {\r\n        return elements[i].pos;\r\n      }\r\n      i += 1;\r\n    }\r\n    return 0;\r\n  },\r\n  addProcessedElement: function (elem, pos) {\r\n    var elements = this.processedElements;\r\n    var i = elements.length;\r\n    while (i) {\r\n      i -= 1;\r\n      if (elements[i].elem === elem) {\r\n        elements[i].pos = pos;\r\n        return;\r\n      }\r\n    }\r\n    elements.push(new ProcessedElement(elem, pos));\r\n  },\r\n  prepareFrame: function (num) {\r\n    this.prepareRenderableFrame(num);\r\n    this.prepareProperties(num, this.isInRange);\r\n  },\r\n};\r\n\r\n/* global TextProperty, TextAnimatorProperty, buildShapeString, LetterProps */\r\n\r\nfunction ITextElement() {\r\n}\r\n\r\nITextElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.lettersChangedFlag = true;\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.textProperty = new TextProperty(this, data.t, this.dynamicProperties);\r\n  this.textAnimator = new TextAnimatorProperty(data.t, this.renderType, this);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initHierarchy();\r\n  this.initRenderable();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  this.createContent();\r\n  this.hide();\r\n  this.textAnimator.searchProperties(this.dynamicProperties);\r\n};\r\n\r\nITextElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (this.textProperty._mdf || this.textProperty._isFirstFrame) {\r\n    this.buildNewText();\r\n    this.textProperty._isFirstFrame = false;\r\n    this.textProperty._mdf = false;\r\n  }\r\n};\r\n\r\nITextElement.prototype.createPathShape = function (matrixHelper, shapes) {\r\n  var j;\r\n  var jLen = shapes.length;\r\n  var pathNodes;\r\n  var shapeStr = '';\r\n  for (j = 0; j < jLen; j += 1) {\r\n    pathNodes = shapes[j].ks.k;\r\n    shapeStr += buildShapeString(pathNodes, pathNodes.i.length, true, matrixHelper);\r\n  }\r\n  return shapeStr;\r\n};\r\n\r\nITextElement.prototype.updateDocumentData = function (newData, index) {\r\n  this.textProperty.updateDocumentData(newData, index);\r\n};\r\n\r\nITextElement.prototype.canResizeFont = function (_canResize) {\r\n  this.textProperty.canResizeFont(_canResize);\r\n};\r\n\r\nITextElement.prototype.setMinimumFontSize = function (_fontSize) {\r\n  this.textProperty.setMinimumFontSize(_fontSize);\r\n};\r\n\r\nITextElement.prototype.applyTextPropertiesToMatrix = function (documentData, matrixHelper, lineNumber, xPos, yPos) {\r\n  if (documentData.ps) {\r\n    matrixHelper.translate(documentData.ps[0], documentData.ps[1] + documentData.ascent, 0);\r\n  }\r\n  matrixHelper.translate(0, -documentData.ls, 0);\r\n  switch (documentData.j) {\r\n    case 1:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]), 0, 0);\r\n      break;\r\n    case 2:\r\n      matrixHelper.translate(documentData.justifyOffset + (documentData.boxWidth - documentData.lineWidths[lineNumber]) / 2, 0, 0);\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n  matrixHelper.translate(xPos, yPos, 0);\r\n};\r\n\r\nITextElement.prototype.buildColor = function (colorData) {\r\n  return 'rgb(' + Math.round(colorData[0] * 255) + ',' + Math.round(colorData[1] * 255) + ',' + Math.round(colorData[2] * 255) + ')';\r\n};\r\n\r\nITextElement.prototype.emptyProp = new LetterProps();\r\n\r\nITextElement.prototype.destroy = function () {\r\n\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement */\r\n\r\nfunction ICompElement() {}\r\n\r\nextendPrototype([BaseElement, TransformElement, HierarchyElement, FrameElement, RenderableDOMElement], ICompElement);\r\n\r\nICompElement.prototype.initElement = function (data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initBaseData(data, globalData, comp);\r\n  this.initTransform(data, globalData, comp);\r\n  this.initRenderable();\r\n  this.initHierarchy();\r\n  this.initRendererElement();\r\n  this.createContainerElements();\r\n  this.createRenderableComponents();\r\n  if (this.data.xt || !globalData.progressiveLoad) {\r\n    this.buildAllItems();\r\n  }\r\n  this.hide();\r\n};\r\n\r\n/* ICompElement.prototype.hide = function(){\r\n    if(!this.hidden){\r\n        this.hideElement();\r\n        var i,len = this.elements.length;\r\n        for( i = 0; i < len; i+=1 ){\r\n            if(this.elements[i]){\r\n                this.elements[i].hide();\r\n            }\r\n        }\r\n    }\r\n}; */\r\n\r\nICompElement.prototype.prepareFrame = function (num) {\r\n  this._mdf = false;\r\n  this.prepareRenderableFrame(num);\r\n  this.prepareProperties(num, this.isInRange);\r\n  if (!this.isInRange && !this.data.xt) {\r\n    return;\r\n  }\r\n\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    if (timeRemapped === this.data.op) {\r\n      timeRemapped = this.data.op - 1;\r\n    }\r\n    this.renderedFrame = timeRemapped;\r\n  } else {\r\n    this.renderedFrame = num / this.data.sr;\r\n  }\r\n  var i;\r\n  var len = this.elements.length;\r\n  if (!this.completeLayers) {\r\n    this.checkLayers(this.renderedFrame);\r\n  }\r\n  // This iteration needs to be backwards because of how expressions connect between each other\r\n  for (i = len - 1; i >= 0; i -= 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].prepareFrame(this.renderedFrame - this.layers[i].st);\r\n      if (this.elements[i]._mdf) {\r\n        this._mdf = true;\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.renderInnerContent = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.completeLayers || this.elements[i]) {\r\n      this.elements[i].renderFrame();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.setElements = function (elems) {\r\n  this.elements = elems;\r\n};\r\n\r\nICompElement.prototype.getElements = function () {\r\n  return this.elements;\r\n};\r\n\r\nICompElement.prototype.destroyElements = function () {\r\n  var i;\r\n  var len = this.layers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.elements[i]) {\r\n      this.elements[i].destroy();\r\n    }\r\n  }\r\n};\r\n\r\nICompElement.prototype.destroy = function () {\r\n  this.destroyElements();\r\n  this.destroyBaseElement();\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, createNS */\r\n\r\nfunction IImageElement(data, globalData, comp) {\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initElement(data, globalData, comp);\r\n  this.sourceRect = {\r\n    top: 0, left: 0, width: this.assetData.w, height: this.assetData.h,\r\n  };\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement], IImageElement);\r\n\r\nIImageElement.prototype.createContent = function () {\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n\r\n  this.innerElem = createNS('image');\r\n  this.innerElem.setAttribute('width', this.assetData.w + 'px');\r\n  this.innerElem.setAttribute('height', this.assetData.h + 'px');\r\n  this.innerElem.setAttribute('preserveAspectRatio', this.assetData.pr || this.globalData.renderConfig.imagePreserveAspectRatio);\r\n  this.innerElem.setAttributeNS('http://www.w3.org/1999/xlink', 'href', assetPath);\r\n\r\n  this.layerElement.appendChild(this.innerElem);\r\n};\r\n\r\nIImageElement.prototype.sourceRectAtTime = function () {\r\n  return this.sourceRect;\r\n};\r\n\r\n/* global extendPrototype, IImageElement, createNS */\r\n\r\nfunction ISolidElement(data, globalData, comp) {\r\n  this.initElement(data, globalData, comp);\r\n}\r\nextendPrototype([IImageElement], ISolidElement);\r\n\r\nISolidElement.prototype.createContent = function () {\r\n  var rect = createNS('rect');\r\n  /// /rect.style.width = this.data.sw;\r\n  /// /rect.style.height = this.data.sh;\r\n  /// /rect.style.fill = this.data.sc;\r\n  rect.setAttribute('width', this.data.sw);\r\n  rect.setAttribute('height', this.data.sh);\r\n  rect.setAttribute('fill', this.data.sc);\r\n  this.layerElement.appendChild(rect);\r\n};\r\n\r\n/* global PropertyFactory, extendPrototype, RenderableElement, BaseElement, FrameElement */\r\n\r\nfunction AudioElement(data, globalData, comp) {\r\n  this.initFrame();\r\n  this.initRenderable();\r\n  this.assetData = globalData.getAssetData(data.refId);\r\n  this.initBaseData(data, globalData, comp);\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n  var assetPath = this.globalData.getAssetsPath(this.assetData);\r\n  this.audio = this.globalData.audioController.createAudio(assetPath);\r\n  this._currentTime = 0;\r\n  this.globalData.audioController.addAudio(this);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nAudioElement.prototype.prepareFrame = function (num) {\r\n  this.prepareRenderableFrame(num, true);\r\n  this.prepareProperties(num, true);\r\n  if (!this.tm._placeholder) {\r\n    var timeRemapped = this.tm.v;\r\n    this._currentTime = timeRemapped;\r\n  } else {\r\n    this._currentTime = num / this.data.sr;\r\n  }\r\n};\r\n\r\nextendPrototype([RenderableElement, BaseElement, FrameElement], AudioElement);\r\n\r\nAudioElement.prototype.renderFrame = function () {\r\n  if (this.isInRange && this._canPlay) {\r\n    if (!this._isPlaying) {\r\n      this.audio.play();\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n      this._isPlaying = true;\r\n    } else if (!this.audio.playing()\r\n      || Math.abs(this._currentTime / this.globalData.frameRate - this.audio.seek()) > 0.1\r\n    ) {\r\n      this.audio.seek(this._currentTime / this.globalData.frameRate);\r\n    }\r\n  }\r\n};\r\n\r\nAudioElement.prototype.show = function () {\r\n  // this.audio.play()\r\n};\r\n\r\nAudioElement.prototype.hide = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n};\r\n\r\nAudioElement.prototype.pause = function () {\r\n  this.audio.pause();\r\n  this._isPlaying = false;\r\n  this._canPlay = false;\r\n};\r\n\r\nAudioElement.prototype.resume = function () {\r\n  this._canPlay = true;\r\n};\r\n\r\nAudioElement.prototype.setRate = function (rateValue) {\r\n  this.audio.rate(rateValue);\r\n};\r\n\r\nAudioElement.prototype.volume = function (volumeValue) {\r\n  this.audio.volume(volumeValue);\r\n};\r\n\r\nAudioElement.prototype.getBaseElement = function () {\r\n  return null;\r\n};\r\n\r\nAudioElement.prototype.destroy = function () {\r\n};\r\n\r\nAudioElement.prototype.sourceRectAtTime = function () {\r\n};\r\n\r\nAudioElement.prototype.initExpressions = function () {\r\n};\r\n\r\n/* global createSizedArray, PropertyFactory, extendPrototype, SVGRenderer, ICompElement, SVGBaseElement */\r\n\r\nfunction SVGCompElement(data, globalData, comp) {\r\n  this.layers = data.layers;\r\n  this.supports3d = true;\r\n  this.completeLayers = false;\r\n  this.pendingElements = [];\r\n  this.elements = this.layers ? createSizedArray(this.layers.length) : [];\r\n  // this.layerElement = createNS('g');\r\n  this.initElement(data, globalData, comp);\r\n  this.tm = data.tm ? PropertyFactory.getProp(this, data.tm, 0, globalData.frameRate, this) : { _placeholder: true };\r\n}\r\n\r\nextendPrototype([SVGRenderer, ICompElement, SVGBaseElement], SVGCompElement);\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement,\r\nRenderableDOMElement, ITextElement, createSizedArray, createNS */\r\n\r\nfunction SVGTextLottieElement(data, globalData, comp) {\r\n  this.textSpans = [];\r\n  this.renderType = 'svg';\r\n  this.initElement(data, globalData, comp);\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, HierarchyElement, FrameElement, RenderableDOMElement, ITextElement], SVGTextLottieElement);\r\n\r\nSVGTextLottieElement.prototype.createContent = function () {\r\n  if (this.data.singleShape && !this.globalData.fontManager.chars) {\r\n    this.textContainer = createNS('text');\r\n  }\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildTextContents = function (textArray) {\r\n  var i = 0;\r\n  var len = textArray.length;\r\n  var textContents = [];\r\n  var currentTextContent = '';\r\n  while (i < len) {\r\n    if (textArray[i] === String.fromCharCode(13) || textArray[i] === String.fromCharCode(3)) {\r\n      textContents.push(currentTextContent);\r\n      currentTextContent = '';\r\n    } else {\r\n      currentTextContent += textArray[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  textContents.push(currentTextContent);\r\n  return textContents;\r\n};\r\n\r\nSVGTextLottieElement.prototype.buildNewText = function () {\r\n  var i;\r\n  var len;\r\n\r\n  var documentData = this.textProperty.currentData;\r\n  this.renderedLetters = createSizedArray(documentData ? documentData.l.length : 0);\r\n  if (documentData.fc) {\r\n    this.layerElement.setAttribute('fill', this.buildColor(documentData.fc));\r\n  } else {\r\n    this.layerElement.setAttribute('fill', 'rgba(0,0,0,0)');\r\n  }\r\n  if (documentData.sc) {\r\n    this.layerElement.setAttribute('stroke', this.buildColor(documentData.sc));\r\n    this.layerElement.setAttribute('stroke-width', documentData.sw);\r\n  }\r\n  this.layerElement.setAttribute('font-size', documentData.finalSize);\r\n  var fontData = this.globalData.fontManager.getFontByName(documentData.f);\r\n  if (fontData.fClass) {\r\n    this.layerElement.setAttribute('class', fontData.fClass);\r\n  } else {\r\n    this.layerElement.setAttribute('font-family', fontData.fFamily);\r\n    var fWeight = documentData.fWeight;\r\n    var fStyle = documentData.fStyle;\r\n    this.layerElement.setAttribute('font-style', fStyle);\r\n    this.layerElement.setAttribute('font-weight', fWeight);\r\n  }\r\n  this.layerElement.setAttribute('aria-label', documentData.t);\r\n\r\n  var letters = documentData.l || [];\r\n  var usesGlyphs = !!this.globalData.fontManager.chars;\r\n  len = letters.length;\r\n\r\n  var tSpan;\r\n  var matrixHelper = this.mHelper;\r\n  var shapes;\r\n  var shapeStr = '';\r\n  var singleShape = this.data.singleShape;\r\n  var xPos = 0;\r\n  var yPos = 0;\r\n  var firstLine = true;\r\n  var trackingOffset = documentData.tr * 0.001 * documentData.finalSize;\r\n  if (singleShape && !usesGlyphs && !documentData.sz) {\r\n    var tElement = this.textContainer;\r\n    var justify = 'start';\r\n    switch (documentData.j) {\r\n      case 1:\r\n        justify = 'end';\r\n        break;\r\n      case 2:\r\n        justify = 'middle';\r\n        break;\r\n      default:\r\n        justify = 'start';\r\n        break;\r\n    }\r\n    tElement.setAttribute('text-anchor', justify);\r\n    tElement.setAttribute('letter-spacing', trackingOffset);\r\n    var textContent = this.buildTextContents(documentData.finalText);\r\n    len = textContent.length;\r\n    yPos = documentData.ps ? documentData.ps[1] + documentData.ascent : 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      tSpan = this.textSpans[i] || createNS('tspan');\r\n      tSpan.textContent = textContent[i];\r\n      tSpan.setAttribute('x', 0);\r\n      tSpan.setAttribute('y', yPos);\r\n      tSpan.style.display = 'inherit';\r\n      tElement.appendChild(tSpan);\r\n      this.textSpans[i] = tSpan;\r\n      yPos += documentData.finalLineHeight;\r\n    }\r\n\r\n    this.layerElement.appendChild(tElement);\r\n  } else {\r\n    var cachedSpansLength = this.textSpans.length;\r\n    var shapeData;\r\n    var charData;\r\n    for (i = 0; i < len; i += 1) {\r\n      if (!usesGlyphs || !singleShape || i === 0) {\r\n        tSpan = cachedSpansLength > i ? this.textSpans[i] : createNS(usesGlyphs ? 'path' : 'text');\r\n        if (cachedSpansLength <= i) {\r\n          tSpan.setAttribute('stroke-linecap', 'butt');\r\n          tSpan.setAttribute('stroke-linejoin', 'round');\r\n          tSpan.setAttribute('stroke-miterlimit', '4');\r\n          this.textSpans[i] = tSpan;\r\n          this.layerElement.appendChild(tSpan);\r\n        }\r\n        tSpan.style.display = 'inherit';\r\n      }\r\n\r\n      matrixHelper.reset();\r\n      matrixHelper.scale(documentData.finalSize / 100, documentData.finalSize / 100);\r\n      if (singleShape) {\r\n        if (letters[i].n) {\r\n          xPos = -trackingOffset;\r\n          yPos += documentData.yOffset;\r\n          yPos += firstLine ? 1 : 0;\r\n          firstLine = false;\r\n        }\r\n        this.applyTextPropertiesToMatrix(documentData, matrixHelper, letters[i].line, xPos, yPos);\r\n        xPos += letters[i].l || 0;\r\n        // xPos += letters[i].val === ' ' ? 0 : trackingOffset;\r\n        xPos += trackingOffset;\r\n      }\r\n      if (usesGlyphs) {\r\n        charData = this.globalData.fontManager.getCharData(documentData.finalText[i], fontData.fStyle, this.globalData.fontManager.getFontByName(documentData.f).fFamily);\r\n        shapeData = (charData && charData.data) || {};\r\n        shapes = shapeData.shapes ? shapeData.shapes[0].it : [];\r\n        if (!singleShape) {\r\n          tSpan.setAttribute('d', this.createPathShape(matrixHelper, shapes));\r\n        } else {\r\n          shapeStr += this.createPathShape(matrixHelper, shapes);\r\n        }\r\n      } else {\r\n        if (singleShape) {\r\n          tSpan.setAttribute('transform', 'translate(' + matrixHelper.props[12] + ',' + matrixHelper.props[13] + ')');\r\n        }\r\n        tSpan.textContent = letters[i].val;\r\n        tSpan.setAttributeNS('http://www.w3.org/XML/1998/namespace', 'xml:space', 'preserve');\r\n      }\r\n      //\r\n    }\r\n    if (singleShape && tSpan) {\r\n      tSpan.setAttribute('d', shapeStr);\r\n    }\r\n  }\r\n  while (i < this.textSpans.length) {\r\n    this.textSpans[i].style.display = 'none';\r\n    i += 1;\r\n  }\r\n\r\n  this._sizeChanged = true;\r\n};\r\n\r\nSVGTextLottieElement.prototype.sourceRectAtTime = function () {\r\n  this.prepareFrame(this.comp.renderedFrame - this.data.st);\r\n  this.renderInnerContent();\r\n  if (this._sizeChanged) {\r\n    this._sizeChanged = false;\r\n    var textBox = this.layerElement.getBBox();\r\n    this.bbox = {\r\n      top: textBox.y,\r\n      left: textBox.x,\r\n      width: textBox.width,\r\n      height: textBox.height,\r\n    };\r\n  }\r\n  return this.bbox;\r\n};\r\n\r\nSVGTextLottieElement.prototype.renderInnerContent = function () {\r\n  if (!this.data.singleShape) {\r\n    this.textAnimator.getMeasures(this.textProperty.currentData, this.lettersChangedFlag);\r\n    if (this.lettersChangedFlag || this.textAnimator.lettersChangedFlag) {\r\n      this._sizeChanged = true;\r\n      var i;\r\n      var len;\r\n      var renderedLetters = this.textAnimator.renderedLetters;\r\n\r\n      var letters = this.textProperty.currentData.l;\r\n\r\n      len = letters.length;\r\n      var renderedLetter;\r\n      var textSpan;\r\n      for (i = 0; i < len; i += 1) {\r\n        if (!letters[i].n) {\r\n          renderedLetter = renderedLetters[i];\r\n          textSpan = this.textSpans[i];\r\n          if (renderedLetter._mdf.m) {\r\n            textSpan.setAttribute('transform', renderedLetter.m);\r\n          }\r\n          if (renderedLetter._mdf.o) {\r\n            textSpan.setAttribute('opacity', renderedLetter.o);\r\n          }\r\n          if (renderedLetter._mdf.sw) {\r\n            textSpan.setAttribute('stroke-width', renderedLetter.sw);\r\n          }\r\n          if (renderedLetter._mdf.sc) {\r\n            textSpan.setAttribute('stroke', renderedLetter.sc);\r\n          }\r\n          if (renderedLetter._mdf.fc) {\r\n            textSpan.setAttribute('fill', renderedLetter.fc);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/* global extendPrototype, BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement,\r\nFrameElement, RenderableDOMElement, Matrix, SVGStyleData, SVGStrokeStyleData, SVGFillStyleData,\r\nSVGGradientFillStyleData, SVGGradientStrokeStyleData, locationHref, getBlendMode, ShapeGroupData,\r\nTransformPropertyFactory, SVGTransformData, ShapePropertyFactory, SVGShapeData, SVGElementsRenderer, ShapeModifiers,\r\nlineCapEnum, lineJoinEnum */\r\n\r\nfunction SVGShapeElement(data, globalData, comp) {\r\n  // List of drawable elements\r\n  this.shapes = [];\r\n  // Full shape data\r\n  this.shapesData = data.shapes;\r\n  // List of styles that will be applied to shapes\r\n  this.stylesList = [];\r\n  // List of modifiers that will be applied to shapes\r\n  this.shapeModifiers = [];\r\n  // List of items in shape tree\r\n  this.itemsData = [];\r\n  // List of items in previous shape tree\r\n  this.processedElements = [];\r\n  // List of animated components\r\n  this.animatedContents = [];\r\n  this.initElement(data, globalData, comp);\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n  // List of elements that have been created\r\n  this.prevViewData = [];\r\n  // Moving any property that doesn't get too much access after initialization because of v8 way of handling more than 10 properties.\r\n}\r\n\r\nextendPrototype([BaseElement, TransformElement, SVGBaseElement, IShapeElement, HierarchyElement, FrameElement, RenderableDOMElement], SVGShapeElement);\r\n\r\nSVGShapeElement.prototype.initSecondaryElement = function () {\r\n};\r\n\r\nSVGShapeElement.prototype.identityMatrix = new Matrix();\r\n\r\nSVGShapeElement.prototype.buildExpressionInterface = function () {};\r\n\r\nSVGShapeElement.prototype.createContent = function () {\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n};\r\n\r\n/*\r\nThis method searches for multiple shapes that affect a single element and one of them is animated\r\n*/\r\nSVGShapeElement.prototype.filterUniqueShapes = function () {\r\n  var i;\r\n  var len = this.shapes.length;\r\n  var shape;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  var style;\r\n  var tempShapes = [];\r\n  var areAnimated = false;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    style = this.stylesList[j];\r\n    areAnimated = false;\r\n    tempShapes.length = 0;\r\n    for (i = 0; i < len; i += 1) {\r\n      shape = this.shapes[i];\r\n      if (shape.styles.indexOf(style) !== -1) {\r\n        tempShapes.push(shape);\r\n        areAnimated = shape._isAnimated || areAnimated;\r\n      }\r\n    }\r\n    if (tempShapes.length > 1 && areAnimated) {\r\n      this.setShapesAsAnimated(tempShapes);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.setShapesAsAnimated = function (shapes) {\r\n  var i;\r\n  var len = shapes.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    shapes[i].setAsAnimated();\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.createStyleElement = function (data, level) {\r\n  // TODO: prevent drawing of hidden styles\r\n  var elementData;\r\n  var styleOb = new SVGStyleData(data, level);\r\n\r\n  var pathElement = styleOb.pElem;\r\n  if (data.ty === 'st') {\r\n    elementData = new SVGStrokeStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'fl') {\r\n    elementData = new SVGFillStyleData(this, data, styleOb);\r\n  } else if (data.ty === 'gf' || data.ty === 'gs') {\r\n    var GradientConstructor = data.ty === 'gf' ? SVGGradientFillStyleData : SVGGradientStrokeStyleData;\r\n    elementData = new GradientConstructor(this, data, styleOb);\r\n    this.globalData.defs.appendChild(elementData.gf);\r\n    if (elementData.maskId) {\r\n      this.globalData.defs.appendChild(elementData.ms);\r\n      this.globalData.defs.appendChild(elementData.of);\r\n      pathElement.setAttribute('mask', 'url(' + locationHref + '#' + elementData.maskId + ')');\r\n    }\r\n  }\r\n\r\n  if (data.ty === 'st' || data.ty === 'gs') {\r\n    pathElement.setAttribute('stroke-linecap', lineCapEnum[data.lc || 2]);\r\n    pathElement.setAttribute('stroke-linejoin', lineJoinEnum[data.lj || 2]);\r\n    pathElement.setAttribute('fill-opacity', '0');\r\n    if (data.lj === 1) {\r\n      pathElement.setAttribute('stroke-miterlimit', data.ml);\r\n    }\r\n  }\r\n\r\n  if (data.r === 2) {\r\n    pathElement.setAttribute('fill-rule', 'evenodd');\r\n  }\r\n\r\n  if (data.ln) {\r\n    pathElement.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    pathElement.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    pathElement.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  this.stylesList.push(styleOb);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createGroupElement = function (data) {\r\n  var elementData = new ShapeGroupData();\r\n  if (data.ln) {\r\n    elementData.gr.setAttribute('id', data.ln);\r\n  }\r\n  if (data.cl) {\r\n    elementData.gr.setAttribute('class', data.cl);\r\n  }\r\n  if (data.bm) {\r\n    elementData.gr.style['mix-blend-mode'] = getBlendMode(data.bm);\r\n  }\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createTransformElement = function (data, container) {\r\n  var transformProperty = TransformPropertyFactory.getTransformProperty(this, data, this);\r\n  var elementData = new SVGTransformData(transformProperty, transformProperty.o, container);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.createShapeElement = function (data, ownTransformers, level) {\r\n  var ty = 4;\r\n  if (data.ty === 'rc') {\r\n    ty = 5;\r\n  } else if (data.ty === 'el') {\r\n    ty = 6;\r\n  } else if (data.ty === 'sr') {\r\n    ty = 7;\r\n  }\r\n  var shapeProperty = ShapePropertyFactory.getShapeProp(this, data, ty, this);\r\n  var elementData = new SVGShapeData(ownTransformers, level, shapeProperty);\r\n  this.shapes.push(elementData);\r\n  this.addShapeToModifiers(elementData);\r\n  this.addToAnimatedContents(data, elementData);\r\n  return elementData;\r\n};\r\n\r\nSVGShapeElement.prototype.addToAnimatedContents = function (data, element) {\r\n  var i = 0;\r\n  var len = this.animatedContents.length;\r\n  while (i < len) {\r\n    if (this.animatedContents[i].element === element) {\r\n      return;\r\n    }\r\n    i += 1;\r\n  }\r\n  this.animatedContents.push({\r\n    fn: SVGElementsRenderer.createRenderFunction(data),\r\n    element: element,\r\n    data: data,\r\n  });\r\n};\r\n\r\nSVGShapeElement.prototype.setElementStyles = function (elementData) {\r\n  var arr = elementData.styles;\r\n  var j;\r\n  var jLen = this.stylesList.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    if (!this.stylesList[j].closed) {\r\n      arr.push(this.stylesList[j]);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.reloadShapes = function () {\r\n  this._isFirstFrame = true;\r\n  var i;\r\n  var len = this.itemsData.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.prevViewData[i] = this.itemsData[i];\r\n  }\r\n  this.searchShapes(this.shapesData, this.itemsData, this.prevViewData, this.layerElement, 0, [], true);\r\n  this.filterUniqueShapes();\r\n  len = this.dynamicProperties.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.dynamicProperties[i].getValue();\r\n  }\r\n  this.renderModifiers();\r\n};\r\n\r\nSVGShapeElement.prototype.searchShapes = function (arr, itemsData, prevViewData, container, level, transformers, render) {\r\n  var ownTransformers = [].concat(transformers);\r\n  var i;\r\n  var len = arr.length - 1;\r\n  var j;\r\n  var jLen;\r\n  var ownStyles = [];\r\n  var ownModifiers = [];\r\n  var currentTransform;\r\n  var modifier;\r\n  var processedPos;\r\n  for (i = len; i >= 0; i -= 1) {\r\n    processedPos = this.searchProcessedElement(arr[i]);\r\n    if (!processedPos) {\r\n      arr[i]._render = render;\r\n    } else {\r\n      itemsData[i] = prevViewData[processedPos - 1];\r\n    }\r\n    if (arr[i].ty === 'fl' || arr[i].ty === 'st' || arr[i].ty === 'gf' || arr[i].ty === 'gs') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createStyleElement(arr[i], level);\r\n      } else {\r\n        itemsData[i].style.closed = false;\r\n      }\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].style.pElem.parentNode !== container) {\r\n          container.appendChild(itemsData[i].style.pElem);\r\n        }\r\n      }\r\n      ownStyles.push(itemsData[i].style);\r\n    } else if (arr[i].ty === 'gr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createGroupElement(arr[i]);\r\n      } else {\r\n        jLen = itemsData[i].it.length;\r\n        for (j = 0; j < jLen; j += 1) {\r\n          itemsData[i].prevViewData[j] = itemsData[i].it[j];\r\n        }\r\n      }\r\n      this.searchShapes(arr[i].it, itemsData[i].it, itemsData[i].prevViewData, itemsData[i].gr, level + 1, ownTransformers, render);\r\n      if (arr[i]._render) {\r\n        if (itemsData[i].gr.parentNode !== container) {\r\n          container.appendChild(itemsData[i].gr);\r\n        }\r\n      }\r\n    } else if (arr[i].ty === 'tr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createTransformElement(arr[i], container);\r\n      }\r\n      currentTransform = itemsData[i].transform;\r\n      ownTransformers.push(currentTransform);\r\n    } else if (arr[i].ty === 'sh' || arr[i].ty === 'rc' || arr[i].ty === 'el' || arr[i].ty === 'sr') {\r\n      if (!processedPos) {\r\n        itemsData[i] = this.createShapeElement(arr[i], ownTransformers, level);\r\n      }\r\n      this.setElementStyles(itemsData[i]);\r\n    } else if (arr[i].ty === 'tm' || arr[i].ty === 'rd' || arr[i].ty === 'ms' || arr[i].ty === 'pb') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        modifier.init(this, arr[i]);\r\n        itemsData[i] = modifier;\r\n        this.shapeModifiers.push(modifier);\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = false;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    } else if (arr[i].ty === 'rp') {\r\n      if (!processedPos) {\r\n        modifier = ShapeModifiers.getModifier(arr[i].ty);\r\n        itemsData[i] = modifier;\r\n        modifier.init(this, arr, i, itemsData);\r\n        this.shapeModifiers.push(modifier);\r\n        render = false;\r\n      } else {\r\n        modifier = itemsData[i];\r\n        modifier.closed = true;\r\n      }\r\n      ownModifiers.push(modifier);\r\n    }\r\n    this.addProcessedElement(arr[i], i + 1);\r\n  }\r\n  len = ownStyles.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownStyles[i].closed = true;\r\n  }\r\n  len = ownModifiers.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    ownModifiers[i].closed = true;\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderInnerContent = function () {\r\n  this.renderModifiers();\r\n  var i;\r\n  var len = this.stylesList.length;\r\n  for (i = 0; i < len; i += 1) {\r\n    this.stylesList[i].reset();\r\n  }\r\n  this.renderShape();\r\n\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.stylesList[i]._mdf || this._isFirstFrame) {\r\n      if (this.stylesList[i].msElem) {\r\n        this.stylesList[i].msElem.setAttribute('d', this.stylesList[i].d);\r\n        // Adding M0 0 fixes same mask bug on all browsers\r\n        this.stylesList[i].d = 'M0 0' + this.stylesList[i].d;\r\n      }\r\n      this.stylesList[i].pElem.setAttribute('d', this.stylesList[i].d || 'M0 0');\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.renderShape = function () {\r\n  var i;\r\n  var len = this.animatedContents.length;\r\n  var animatedContent;\r\n  for (i = 0; i < len; i += 1) {\r\n    animatedContent = this.animatedContents[i];\r\n    if ((this._isFirstFrame || animatedContent.element._isAnimated) && animatedContent.data !== true) {\r\n      animatedContent.fn(animatedContent.data, animatedContent.element, this._isFirstFrame);\r\n    }\r\n  }\r\n};\r\n\r\nSVGShapeElement.prototype.destroy = function () {\r\n  this.destroyBaseElement();\r\n  this.shapesData = null;\r\n  this.itemsData = null;\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTintFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f2');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n  if (filterManager.effectElements[2].p.v !== 100 || filterManager.effectElements[2].p.k) {\r\n    var feMerge = createNS('feMerge');\r\n    filter.appendChild(feMerge);\r\n    var feMergeNode;\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'SourceGraphic');\r\n    feMerge.appendChild(feMergeNode);\r\n    feMergeNode = createNS('feMergeNode');\r\n    feMergeNode.setAttribute('in', 'f2');\r\n    feMerge.appendChild(feMergeNode);\r\n  }\r\n}\r\n\r\nSVGTintFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var colorBlack = this.filterManager.effectElements[0].p.v;\r\n    var colorWhite = this.filterManager.effectElements[1].p.v;\r\n    var opacity = this.filterManager.effectElements[2].p.v / 100;\r\n    this.matrixFilter.setAttribute('values', (colorWhite[0] - colorBlack[0]) + ' 0 0 0 ' + colorBlack[0] + ' ' + (colorWhite[1] - colorBlack[1]) + ' 0 0 0 ' + colorBlack[1] + ' ' + (colorWhite[2] - colorBlack[2]) + ' 0 0 0 ' + colorBlack[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGFillFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'sRGB');\r\n  feColorMatrix.setAttribute('values', '1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0');\r\n  filter.appendChild(feColorMatrix);\r\n  this.matrixFilter = feColorMatrix;\r\n}\r\nSVGFillFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color = this.filterManager.effectElements[2].p.v;\r\n    var opacity = this.filterManager.effectElements[6].p.v;\r\n    this.matrixFilter.setAttribute('values', '0 0 0 0 ' + color[0] + ' 0 0 0 0 ' + color[1] + ' 0 0 0 0 ' + color[2] + ' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGGaussianBlurEffect(filter, filterManager) {\r\n  // Outset the filter region by 100% on all sides to accommodate blur expansion.\r\n  filter.setAttribute('x', '-100%');\r\n  filter.setAttribute('y', '-100%');\r\n  filter.setAttribute('width', '300%');\r\n  filter.setAttribute('height', '300%');\r\n\r\n  this.filterManager = filterManager;\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  filter.appendChild(feGaussianBlur);\r\n  this.feGaussianBlur = feGaussianBlur;\r\n}\r\n\r\nSVGGaussianBlurEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    // Empirical value, matching AE's blur appearance.\r\n    var kBlurrinessToSigma = 0.3;\r\n    var sigma = this.filterManager.effectElements[0].p.v * kBlurrinessToSigma;\r\n\r\n    // Dimensions mapping:\r\n    //\r\n    //   1 -> horizontal & vertical\r\n    //   2 -> horizontal only\r\n    //   3 -> vertical only\r\n    //\r\n    var dimensions = this.filterManager.effectElements[1].p.v;\r\n    var sigmaX = (dimensions == 3) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n    var sigmaY = (dimensions == 2) ? 0 : sigma; // eslint-disable-line eqeqeq\r\n\r\n    this.feGaussianBlur.setAttribute('stdDeviation', sigmaX + ' ' + sigmaY);\r\n\r\n    // Repeat edges mapping:\r\n    //\r\n    //   0 -> off -> duplicate\r\n    //   1 -> on  -> wrap\r\n    var edgeMode = (this.filterManager.effectElements[2].p.v == 1) ? 'wrap' : 'duplicate'; // eslint-disable-line eqeqeq\r\n    this.feGaussianBlur.setAttribute('edgeMode', edgeMode);\r\n  }\r\n};\r\n\r\n/* global createNS, createElementID, locationHref, bmFloor */\r\n\r\nfunction SVGStrokeEffect(elem, filterManager) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.elem = elem;\r\n  this.paths = [];\r\n}\r\n\r\nSVGStrokeEffect.prototype.initialize = function () {\r\n  var elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n  var path;\r\n  var groupPath;\r\n  var i;\r\n  var len;\r\n  if (this.filterManager.effectElements[1].p.v === 1) {\r\n    len = this.elem.maskManager.masksProperties.length;\r\n    i = 0;\r\n  } else {\r\n    i = this.filterManager.effectElements[0].p.v - 1;\r\n    len = i + 1;\r\n  }\r\n  groupPath = createNS('g');\r\n  groupPath.setAttribute('fill', 'none');\r\n  groupPath.setAttribute('stroke-linecap', 'round');\r\n  groupPath.setAttribute('stroke-dashoffset', 1);\r\n  for (i; i < len; i += 1) {\r\n    path = createNS('path');\r\n    groupPath.appendChild(path);\r\n    this.paths.push({ p: path, m: i });\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 3) {\r\n    var mask = createNS('mask');\r\n    var id = createElementID();\r\n    mask.setAttribute('id', id);\r\n    mask.setAttribute('mask-type', 'alpha');\r\n    mask.appendChild(groupPath);\r\n    this.elem.globalData.defs.appendChild(mask);\r\n    var g = createNS('g');\r\n    g.setAttribute('mask', 'url(' + locationHref + '#' + id + ')');\r\n    while (elemChildren[0]) {\r\n      g.appendChild(elemChildren[0]);\r\n    }\r\n    this.elem.layerElement.appendChild(g);\r\n    this.masker = mask;\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  } else if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (this.filterManager.effectElements[10].p.v === 2) {\r\n      elemChildren = this.elem.layerElement.children || this.elem.layerElement.childNodes;\r\n      while (elemChildren.length) {\r\n        this.elem.layerElement.removeChild(elemChildren[0]);\r\n      }\r\n    }\r\n    this.elem.layerElement.appendChild(groupPath);\r\n    this.elem.layerElement.removeAttribute('mask');\r\n    groupPath.setAttribute('stroke', '#fff');\r\n  }\r\n  this.initialized = true;\r\n  this.pathMasker = groupPath;\r\n};\r\n\r\nSVGStrokeEffect.prototype.renderFrame = function (forceRender) {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n  var i;\r\n  var len = this.paths.length;\r\n  var mask;\r\n  var path;\r\n  for (i = 0; i < len; i += 1) {\r\n    if (this.paths[i].m !== -1) {\r\n      mask = this.elem.maskManager.viewData[this.paths[i].m];\r\n      path = this.paths[i].p;\r\n      if (forceRender || this.filterManager._mdf || mask.prop._mdf) {\r\n        path.setAttribute('d', mask.lastPath);\r\n      }\r\n      if (forceRender || this.filterManager.effectElements[9].p._mdf || this.filterManager.effectElements[4].p._mdf || this.filterManager.effectElements[7].p._mdf || this.filterManager.effectElements[8].p._mdf || mask.prop._mdf) {\r\n        var dasharrayValue;\r\n        if (this.filterManager.effectElements[7].p.v !== 0 || this.filterManager.effectElements[8].p.v !== 100) {\r\n          var s = Math.min(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var e = Math.max(this.filterManager.effectElements[7].p.v, this.filterManager.effectElements[8].p.v) * 0.01;\r\n          var l = path.getTotalLength();\r\n          dasharrayValue = '0 0 0 ' + l * s + ' ';\r\n          var lineLength = l * (e - s);\r\n          var segment = 1 + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n          var units = Math.floor(lineLength / segment);\r\n          var j;\r\n          for (j = 0; j < units; j += 1) {\r\n            dasharrayValue += '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01 + ' ';\r\n          }\r\n          dasharrayValue += '0 ' + l * 10 + ' 0 0';\r\n        } else {\r\n          dasharrayValue = '1 ' + this.filterManager.effectElements[4].p.v * 2 * this.filterManager.effectElements[9].p.v * 0.01;\r\n        }\r\n        path.setAttribute('stroke-dasharray', dasharrayValue);\r\n      }\r\n    }\r\n  }\r\n  if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n    this.pathMasker.setAttribute('stroke-width', this.filterManager.effectElements[4].p.v * 2);\r\n  }\r\n\r\n  if (forceRender || this.filterManager.effectElements[6].p._mdf) {\r\n    this.pathMasker.setAttribute('opacity', this.filterManager.effectElements[6].p.v);\r\n  }\r\n  if (this.filterManager.effectElements[10].p.v === 1 || this.filterManager.effectElements[10].p.v === 2) {\r\n    if (forceRender || this.filterManager.effectElements[3].p._mdf) {\r\n      var color = this.filterManager.effectElements[3].p.v;\r\n      this.pathMasker.setAttribute('stroke', 'rgb(' + bmFloor(color[0] * 255) + ',' + bmFloor(color[1] * 255) + ',' + bmFloor(color[2] * 255) + ')');\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGTritoneFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var feColorMatrix = createNS('feColorMatrix');\r\n  feColorMatrix.setAttribute('type', 'matrix');\r\n  feColorMatrix.setAttribute('color-interpolation-filters', 'linearRGB');\r\n  feColorMatrix.setAttribute('values', '0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0');\r\n  feColorMatrix.setAttribute('result', 'f1');\r\n  filter.appendChild(feColorMatrix);\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n  feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n  filter.appendChild(feComponentTransfer);\r\n  this.matrixFilter = feComponentTransfer;\r\n  var feFuncR = createNS('feFuncR');\r\n  feFuncR.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncR);\r\n  this.feFuncR = feFuncR;\r\n  var feFuncG = createNS('feFuncG');\r\n  feFuncG.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncG);\r\n  this.feFuncG = feFuncG;\r\n  var feFuncB = createNS('feFuncB');\r\n  feFuncB.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFuncB);\r\n  this.feFuncB = feFuncB;\r\n}\r\n\r\nSVGTritoneFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var color1 = this.filterManager.effectElements[0].p.v;\r\n    var color2 = this.filterManager.effectElements[1].p.v;\r\n    var color3 = this.filterManager.effectElements[2].p.v;\r\n    var tableR = color3[0] + ' ' + color2[0] + ' ' + color1[0];\r\n    var tableG = color3[1] + ' ' + color2[1] + ' ' + color1[1];\r\n    var tableB = color3[2] + ' ' + color2[2] + ' ' + color1[2];\r\n    this.feFuncR.setAttribute('tableValues', tableR);\r\n    this.feFuncG.setAttribute('tableValues', tableG);\r\n    this.feFuncB.setAttribute('tableValues', tableB);\r\n    // var opacity = this.filterManager.effectElements[2].p.v/100;\r\n    // this.matrixFilter.setAttribute('values',(colorWhite[0]- colorBlack[0])+' 0 0 0 '+ colorBlack[0] +' '+ (colorWhite[1]- colorBlack[1]) +' 0 0 0 '+ colorBlack[1] +' '+ (colorWhite[2]- colorBlack[2]) +' 0 0 0 '+ colorBlack[2] +' 0 0 0 ' + opacity + ' 0');\r\n  }\r\n};\r\n\r\n/* global createNS */\r\n\r\nfunction SVGProLevelsFilter(filter, filterManager) {\r\n  this.filterManager = filterManager;\r\n  var effectElements = this.filterManager.effectElements;\r\n  var feComponentTransfer = createNS('feComponentTransfer');\r\n\r\n  if (effectElements[10].p.k || effectElements[10].p.v !== 0 || effectElements[11].p.k || effectElements[11].p.v !== 1 || effectElements[12].p.k || effectElements[12].p.v !== 1 || effectElements[13].p.k || effectElements[13].p.v !== 0 || effectElements[14].p.k || effectElements[14].p.v !== 1) {\r\n    this.feFuncR = this.createFeFunc('feFuncR', feComponentTransfer);\r\n  }\r\n  if (effectElements[17].p.k || effectElements[17].p.v !== 0 || effectElements[18].p.k || effectElements[18].p.v !== 1 || effectElements[19].p.k || effectElements[19].p.v !== 1 || effectElements[20].p.k || effectElements[20].p.v !== 0 || effectElements[21].p.k || effectElements[21].p.v !== 1) {\r\n    this.feFuncG = this.createFeFunc('feFuncG', feComponentTransfer);\r\n  }\r\n  if (effectElements[24].p.k || effectElements[24].p.v !== 0 || effectElements[25].p.k || effectElements[25].p.v !== 1 || effectElements[26].p.k || effectElements[26].p.v !== 1 || effectElements[27].p.k || effectElements[27].p.v !== 0 || effectElements[28].p.k || effectElements[28].p.v !== 1) {\r\n    this.feFuncB = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n  if (effectElements[31].p.k || effectElements[31].p.v !== 0 || effectElements[32].p.k || effectElements[32].p.v !== 1 || effectElements[33].p.k || effectElements[33].p.v !== 1 || effectElements[34].p.k || effectElements[34].p.v !== 0 || effectElements[35].p.k || effectElements[35].p.v !== 1) {\r\n    this.feFuncA = this.createFeFunc('feFuncA', feComponentTransfer);\r\n  }\r\n\r\n  if (this.feFuncR || this.feFuncG || this.feFuncB || this.feFuncA) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    feComponentTransfer = createNS('feComponentTransfer');\r\n  }\r\n\r\n  if (effectElements[3].p.k || effectElements[3].p.v !== 0 || effectElements[4].p.k || effectElements[4].p.v !== 1 || effectElements[5].p.k || effectElements[5].p.v !== 1 || effectElements[6].p.k || effectElements[6].p.v !== 0 || effectElements[7].p.k || effectElements[7].p.v !== 1) {\r\n    feComponentTransfer.setAttribute('color-interpolation-filters', 'sRGB');\r\n    filter.appendChild(feComponentTransfer);\r\n    this.feFuncRComposed = this.createFeFunc('feFuncR', feComponentTransfer);\r\n    this.feFuncGComposed = this.createFeFunc('feFuncG', feComponentTransfer);\r\n    this.feFuncBComposed = this.createFeFunc('feFuncB', feComponentTransfer);\r\n  }\r\n}\r\n\r\nSVGProLevelsFilter.prototype.createFeFunc = function (type, feComponentTransfer) {\r\n  var feFunc = createNS(type);\r\n  feFunc.setAttribute('type', 'table');\r\n  feComponentTransfer.appendChild(feFunc);\r\n  return feFunc;\r\n};\r\n\r\nSVGProLevelsFilter.prototype.getTableValue = function (inputBlack, inputWhite, gamma, outputBlack, outputWhite) {\r\n  var cnt = 0;\r\n  var segments = 256;\r\n  var perc;\r\n  var min = Math.min(inputBlack, inputWhite);\r\n  var max = Math.max(inputBlack, inputWhite);\r\n  var table = Array.call(null, { length: segments });\r\n  var colorValue;\r\n  var pos = 0;\r\n  var outputDelta = outputWhite - outputBlack;\r\n  var inputDelta = inputWhite - inputBlack;\r\n  while (cnt <= 256) {\r\n    perc = cnt / 256;\r\n    if (perc <= min) {\r\n      colorValue = inputDelta < 0 ? outputWhite : outputBlack;\r\n    } else if (perc >= max) {\r\n      colorValue = inputDelta < 0 ? outputBlack : outputWhite;\r\n    } else {\r\n      colorValue = (outputBlack + outputDelta * Math.pow((perc - inputBlack) / inputDelta, 1 / gamma));\r\n    }\r\n    table[pos] = colorValue;\r\n    pos += 1;\r\n    cnt += 256 / (segments - 1);\r\n  }\r\n  return table.join(' ');\r\n};\r\n\r\nSVGProLevelsFilter.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    var val;\r\n    var effectElements = this.filterManager.effectElements;\r\n    if (this.feFuncRComposed && (forceRender || effectElements[3].p._mdf || effectElements[4].p._mdf || effectElements[5].p._mdf || effectElements[6].p._mdf || effectElements[7].p._mdf)) {\r\n      val = this.getTableValue(effectElements[3].p.v, effectElements[4].p.v, effectElements[5].p.v, effectElements[6].p.v, effectElements[7].p.v);\r\n      this.feFuncRComposed.setAttribute('tableValues', val);\r\n      this.feFuncGComposed.setAttribute('tableValues', val);\r\n      this.feFuncBComposed.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncR && (forceRender || effectElements[10].p._mdf || effectElements[11].p._mdf || effectElements[12].p._mdf || effectElements[13].p._mdf || effectElements[14].p._mdf)) {\r\n      val = this.getTableValue(effectElements[10].p.v, effectElements[11].p.v, effectElements[12].p.v, effectElements[13].p.v, effectElements[14].p.v);\r\n      this.feFuncR.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncG && (forceRender || effectElements[17].p._mdf || effectElements[18].p._mdf || effectElements[19].p._mdf || effectElements[20].p._mdf || effectElements[21].p._mdf)) {\r\n      val = this.getTableValue(effectElements[17].p.v, effectElements[18].p.v, effectElements[19].p.v, effectElements[20].p.v, effectElements[21].p.v);\r\n      this.feFuncG.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncB && (forceRender || effectElements[24].p._mdf || effectElements[25].p._mdf || effectElements[26].p._mdf || effectElements[27].p._mdf || effectElements[28].p._mdf)) {\r\n      val = this.getTableValue(effectElements[24].p.v, effectElements[25].p.v, effectElements[26].p.v, effectElements[27].p.v, effectElements[28].p.v);\r\n      this.feFuncB.setAttribute('tableValues', val);\r\n    }\r\n\r\n    if (this.feFuncA && (forceRender || effectElements[31].p._mdf || effectElements[32].p._mdf || effectElements[33].p._mdf || effectElements[34].p._mdf || effectElements[35].p._mdf)) {\r\n      val = this.getTableValue(effectElements[31].p.v, effectElements[32].p.v, effectElements[33].p.v, effectElements[34].p.v, effectElements[35].p.v);\r\n      this.feFuncA.setAttribute('tableValues', val);\r\n    }\r\n  }\r\n};\r\n\r\n/* global createNS, rgbToHex, degToRads */\r\n\r\nfunction SVGDropShadowEffect(filter, filterManager) {\r\n  var filterSize = filterManager.container.globalData.renderConfig.filterSize;\r\n  filter.setAttribute('x', filterSize.x);\r\n  filter.setAttribute('y', filterSize.y);\r\n  filter.setAttribute('width', filterSize.width);\r\n  filter.setAttribute('height', filterSize.height);\r\n  this.filterManager = filterManager;\r\n\r\n  var feGaussianBlur = createNS('feGaussianBlur');\r\n  feGaussianBlur.setAttribute('in', 'SourceAlpha');\r\n  feGaussianBlur.setAttribute('result', 'drop_shadow_1');\r\n  feGaussianBlur.setAttribute('stdDeviation', '0');\r\n  this.feGaussianBlur = feGaussianBlur;\r\n  filter.appendChild(feGaussianBlur);\r\n\r\n  var feOffset = createNS('feOffset');\r\n  feOffset.setAttribute('dx', '25');\r\n  feOffset.setAttribute('dy', '0');\r\n  feOffset.setAttribute('in', 'drop_shadow_1');\r\n  feOffset.setAttribute('result', 'drop_shadow_2');\r\n  this.feOffset = feOffset;\r\n  filter.appendChild(feOffset);\r\n  var feFlood = createNS('feFlood');\r\n  feFlood.setAttribute('flood-color', '#00ff00');\r\n  feFlood.setAttribute('flood-opacity', '1');\r\n  feFlood.setAttribute('result', 'drop_shadow_3');\r\n  this.feFlood = feFlood;\r\n  filter.appendChild(feFlood);\r\n\r\n  var feComposite = createNS('feComposite');\r\n  feComposite.setAttribute('in', 'drop_shadow_3');\r\n  feComposite.setAttribute('in2', 'drop_shadow_2');\r\n  feComposite.setAttribute('operator', 'in');\r\n  feComposite.setAttribute('result', 'drop_shadow_4');\r\n  filter.appendChild(feComposite);\r\n\r\n  var feMerge = createNS('feMerge');\r\n  filter.appendChild(feMerge);\r\n  var feMergeNode;\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMerge.appendChild(feMergeNode);\r\n  feMergeNode = createNS('feMergeNode');\r\n  feMergeNode.setAttribute('in', 'SourceGraphic');\r\n  this.feMergeNode = feMergeNode;\r\n  this.feMerge = feMerge;\r\n  this.originalNodeAdded = false;\r\n  feMerge.appendChild(feMergeNode);\r\n}\r\n\r\nSVGDropShadowEffect.prototype.renderFrame = function (forceRender) {\r\n  if (forceRender || this.filterManager._mdf) {\r\n    if (forceRender || this.filterManager.effectElements[4].p._mdf) {\r\n      this.feGaussianBlur.setAttribute('stdDeviation', this.filterManager.effectElements[4].p.v / 4);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[0].p._mdf) {\r\n      var col = this.filterManager.effectElements[0].p.v;\r\n      this.feFlood.setAttribute('flood-color', rgbToHex(Math.round(col[0] * 255), Math.round(col[1] * 255), Math.round(col[2] * 255)));\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[1].p._mdf) {\r\n      this.feFlood.setAttribute('flood-opacity', this.filterManager.effectElements[1].p.v / 255);\r\n    }\r\n    if (forceRender || this.filterManager.effectElements[2].p._mdf || this.filterManager.effectElements[3].p._mdf) {\r\n      var distance = this.filterManager.effectElements[3].p.v;\r\n      var angle = (this.filterManager.effectElements[2].p.v - 90) * degToRads;\r\n      var x = distance * Math.cos(angle);\r\n      var y = distance * Math.sin(angle);\r\n      this.feOffset.setAttribute('dx', x);\r\n      this.feOffset.setAttribute('dy', y);\r\n    }\r\n    /* if(forceRender || this.filterManager.effectElements[5].p._mdf){\r\n            if(this.filterManager.effectElements[5].p.v === 1 && this.originalNodeAdded) {\r\n                this.feMerge.removeChild(this.feMergeNode);\r\n                this.originalNodeAdded = false;\r\n            } else if(this.filterManager.effectElements[5].p.v === 0 && !this.originalNodeAdded) {\r\n                this.feMerge.appendChild(this.feMergeNode);\r\n                this.originalNodeAdded = true;\r\n            }\r\n        } */\r\n  }\r\n};\r\n\r\n/* global createElementID, createNS */\r\n\r\nvar _svgMatteSymbols = [];\r\n\r\nfunction SVGMatte3Effect(filterElem, filterManager, elem) {\r\n  this.initialized = false;\r\n  this.filterManager = filterManager;\r\n  this.filterElem = filterElem;\r\n  this.elem = elem;\r\n  elem.matteElement = createNS('g');\r\n  elem.matteElement.appendChild(elem.layerElement);\r\n  elem.matteElement.appendChild(elem.transformedElement);\r\n  elem.baseElement = elem.matteElement;\r\n}\r\n\r\nSVGMatte3Effect.prototype.findSymbol = function (mask) {\r\n  var i = 0;\r\n  var len = _svgMatteSymbols.length;\r\n  while (i < len) {\r\n    if (_svgMatteSymbols[i] === mask) {\r\n      return _svgMatteSymbols[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nSVGMatte3Effect.prototype.replaceInParent = function (mask, symbolId) {\r\n  var parentNode = mask.layerElement.parentNode;\r\n  if (!parentNode) {\r\n    return;\r\n  }\r\n  var children = parentNode.children;\r\n  var i = 0;\r\n  var len = children.length;\r\n  while (i < len) {\r\n    if (children[i] === mask.layerElement) {\r\n      break;\r\n    }\r\n    i += 1;\r\n  }\r\n  var nextChild;\r\n  if (i <= len - 2) {\r\n    nextChild = children[i + 1];\r\n  }\r\n  var useElem = createNS('use');\r\n  useElem.setAttribute('href', '#' + symbolId);\r\n  if (nextChild) {\r\n    parentNode.insertBefore(useElem, nextChild);\r\n  } else {\r\n    parentNode.appendChild(useElem);\r\n  }\r\n};\r\n\r\nSVGMatte3Effect.prototype.setElementAsMask = function (elem, mask) {\r\n  if (!this.findSymbol(mask)) {\r\n    var symbolId = createElementID();\r\n    var masker = createNS('mask');\r\n    masker.setAttribute('id', mask.layerId);\r\n    masker.setAttribute('mask-type', 'alpha');\r\n    _svgMatteSymbols.push(mask);\r\n    var defs = elem.globalData.defs;\r\n    defs.appendChild(masker);\r\n    var symbol = createNS('symbol');\r\n    symbol.setAttribute('id', symbolId);\r\n    this.replaceInParent(mask, symbolId);\r\n    symbol.appendChild(mask.layerElement);\r\n    defs.appendChild(symbol);\r\n    var useElem = createNS('use');\r\n    useElem.setAttribute('href', '#' + symbolId);\r\n    masker.appendChild(useElem);\r\n    mask.data.hd = false;\r\n    mask.show();\r\n  }\r\n  elem.setMatte(mask.layerId);\r\n};\r\n\r\nSVGMatte3Effect.prototype.initialize = function () {\r\n  var ind = this.filterManager.effectElements[0].p.v;\r\n  var elements = this.elem.comp.elements;\r\n  var i = 0;\r\n  var len = elements.length;\r\n  while (i < len) {\r\n    if (elements[i] && elements[i].data.ind === ind) {\r\n      this.setElementAsMask(this.elem, elements[i]);\r\n    }\r\n    i += 1;\r\n  }\r\n  this.initialized = true;\r\n};\r\n\r\nSVGMatte3Effect.prototype.renderFrame = function () {\r\n  if (!this.initialized) {\r\n    this.initialize();\r\n  }\r\n};\r\n\r\n/* exported SVGEffects */\r\n\r\nfunction SVGEffects() {}\r\n\r\n/* global createTag, AnimationItem */\r\n/* exported animationManager */\r\n\r\nvar animationManager = (function () {\r\n  var moduleOb = {};\r\n  var registeredAnimations = [];\r\n  var initTime = 0;\r\n  var len = 0;\r\n  var playingAnimationsNum = 0;\r\n  var _stopped = true;\r\n  var _isFrozen = false;\r\n\r\n  function removeElement(ev) {\r\n    var i = 0;\r\n    var animItem = ev.target;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].animation === animItem) {\r\n        registeredAnimations.splice(i, 1);\r\n        i -= 1;\r\n        len -= 1;\r\n        if (!animItem.isPaused) {\r\n          subtractPlayingCount();\r\n        }\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n\r\n  function registerAnimation(element, animationData) {\r\n    if (!element) {\r\n      return null;\r\n    }\r\n    var i = 0;\r\n    while (i < len) {\r\n      if (registeredAnimations[i].elem === element && registeredAnimations[i].elem !== null) {\r\n        return registeredAnimations[i].animation;\r\n      }\r\n      i += 1;\r\n    }\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, element);\r\n    animItem.setData(element, animationData);\r\n    return animItem;\r\n  }\r\n\r\n  function getRegisteredAnimations() {\r\n    var i;\r\n    var lenAnims = registeredAnimations.length;\r\n    var animations = [];\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      animations.push(registeredAnimations[i].animation);\r\n    }\r\n    return animations;\r\n  }\r\n\r\n  function addPlayingCount() {\r\n    playingAnimationsNum += 1;\r\n    activate();\r\n  }\r\n\r\n  function subtractPlayingCount() {\r\n    playingAnimationsNum -= 1;\r\n  }\r\n\r\n  function setupAnimation(animItem, element) {\r\n    animItem.addEventListener('destroy', removeElement);\r\n    animItem.addEventListener('_active', addPlayingCount);\r\n    animItem.addEventListener('_idle', subtractPlayingCount);\r\n    registeredAnimations.push({ elem: element, animation: animItem });\r\n    len += 1;\r\n  }\r\n\r\n  function loadAnimation(params) {\r\n    var animItem = new AnimationItem();\r\n    setupAnimation(animItem, null);\r\n    animItem.setParams(params);\r\n    return animItem;\r\n  }\r\n\r\n  function setSpeed(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setSpeed(val, animation);\r\n    }\r\n  }\r\n\r\n  function setDirection(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setDirection(val, animation);\r\n    }\r\n  }\r\n\r\n  function play(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.play(animation);\r\n    }\r\n  }\r\n  function resume(nowTime) {\r\n    var elapsedTime = nowTime - initTime;\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.advanceTime(elapsedTime);\r\n    }\r\n    initTime = nowTime;\r\n    if (playingAnimationsNum && !_isFrozen) {\r\n      window.requestAnimationFrame(resume);\r\n    } else {\r\n      _stopped = true;\r\n    }\r\n  }\r\n\r\n  function first(nowTime) {\r\n    initTime = nowTime;\r\n    window.requestAnimationFrame(resume);\r\n  }\r\n\r\n  function pause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.pause(animation);\r\n    }\r\n  }\r\n\r\n  function goToAndStop(value, isFrame, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.goToAndStop(value, isFrame, animation);\r\n    }\r\n  }\r\n\r\n  function stop(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.stop(animation);\r\n    }\r\n  }\r\n\r\n  function togglePause(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.togglePause(animation);\r\n    }\r\n  }\r\n\r\n  function destroy(animation) {\r\n    var i;\r\n    for (i = (len - 1); i >= 0; i -= 1) {\r\n      registeredAnimations[i].animation.destroy(animation);\r\n    }\r\n  }\r\n\r\n  function searchAnimations(animationData, standalone, renderer) {\r\n    var animElements = [].concat([].slice.call(document.getElementsByClassName('lottie')),\r\n      [].slice.call(document.getElementsByClassName('bodymovin')));\r\n    var i;\r\n    var lenAnims = animElements.length;\r\n    for (i = 0; i < lenAnims; i += 1) {\r\n      if (renderer) {\r\n        animElements[i].setAttribute('data-bm-type', renderer);\r\n      }\r\n      registerAnimation(animElements[i], animationData);\r\n    }\r\n    if (standalone && lenAnims === 0) {\r\n      if (!renderer) {\r\n        renderer = 'svg';\r\n      }\r\n      var body = document.getElementsByTagName('body')[0];\r\n      body.innerText = '';\r\n      var div = createTag('div');\r\n      div.style.width = '100%';\r\n      div.style.height = '100%';\r\n      div.setAttribute('data-bm-type', renderer);\r\n      body.appendChild(div);\r\n      registerAnimation(div, animationData);\r\n    }\r\n  }\r\n\r\n  function resize() {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.resize();\r\n    }\r\n  }\r\n\r\n  function activate() {\r\n    if (!_isFrozen && playingAnimationsNum) {\r\n      if (_stopped) {\r\n        window.requestAnimationFrame(first);\r\n        _stopped = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  function freeze() {\r\n    _isFrozen = true;\r\n  }\r\n\r\n  function unfreeze() {\r\n    _isFrozen = false;\r\n    activate();\r\n  }\r\n\r\n  function setVolume(val, animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.setVolume(val, animation);\r\n    }\r\n  }\r\n\r\n  function mute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.mute(animation);\r\n    }\r\n  }\r\n\r\n  function unmute(animation) {\r\n    var i;\r\n    for (i = 0; i < len; i += 1) {\r\n      registeredAnimations[i].animation.unmute(animation);\r\n    }\r\n  }\r\n\r\n  moduleOb.registerAnimation = registerAnimation;\r\n  moduleOb.loadAnimation = loadAnimation;\r\n  moduleOb.setSpeed = setSpeed;\r\n  moduleOb.setDirection = setDirection;\r\n  moduleOb.play = play;\r\n  moduleOb.pause = pause;\r\n  moduleOb.stop = stop;\r\n  moduleOb.togglePause = togglePause;\r\n  moduleOb.searchAnimations = searchAnimations;\r\n  moduleOb.resize = resize;\r\n  // moduleOb.start = start;\r\n  moduleOb.goToAndStop = goToAndStop;\r\n  moduleOb.destroy = destroy;\r\n  moduleOb.freeze = freeze;\r\n  moduleOb.unfreeze = unfreeze;\r\n  moduleOb.setVolume = setVolume;\r\n  moduleOb.mute = mute;\r\n  moduleOb.unmute = unmute;\r\n  moduleOb.getRegisteredAnimations = getRegisteredAnimations;\r\n  return moduleOb;\r\n}());\r\n\r\n/* global createElementID, subframeEnabled, ProjectInterface, ImagePreloader, audioControllerFactory, extendPrototype, BaseEvent,\r\nCanvasRenderer, SVGRenderer, HybridRenderer, dataManager, expressionsPlugin, BMEnterFrameEvent, BMCompleteLoopEvent,\r\nBMCompleteEvent, BMSegmentStartEvent, BMDestroyEvent, BMEnterFrameEvent, BMCompleteLoopEvent, BMCompleteEvent, BMSegmentStartEvent,\r\nBMDestroyEvent, BMRenderFrameErrorEvent, BMConfigErrorEvent, markerParser */\r\n\r\nvar AnimationItem = function () {\r\n  this._cbs = [];\r\n  this.name = '';\r\n  this.path = '';\r\n  this.isLoaded = false;\r\n  this.currentFrame = 0;\r\n  this.currentRawFrame = 0;\r\n  this.firstFrame = 0;\r\n  this.totalFrames = 0;\r\n  this.frameRate = 0;\r\n  this.frameMult = 0;\r\n  this.playSpeed = 1;\r\n  this.playDirection = 1;\r\n  this.playCount = 0;\r\n  this.animationData = {};\r\n  this.assets = [];\r\n  this.isPaused = true;\r\n  this.autoplay = false;\r\n  this.loop = true;\r\n  this.renderer = null;\r\n  this.animationID = createElementID();\r\n  this.assetsPath = '';\r\n  this.timeCompleted = 0;\r\n  this.segmentPos = 0;\r\n  this.isSubframeEnabled = subframeEnabled;\r\n  this.segments = [];\r\n  this._idle = true;\r\n  this._completedLoop = false;\r\n  this.projectInterface = ProjectInterface();\r\n  this.imagePreloader = new ImagePreloader();\r\n  this.audioController = audioControllerFactory();\r\n  this.markers = [];\r\n  this.configAnimation = this.configAnimation.bind(this);\r\n  this.onSetupError = this.onSetupError.bind(this);\r\n  this.onSegmentComplete = this.onSegmentComplete.bind(this);\r\n};\r\n\r\nextendPrototype([BaseEvent], AnimationItem);\r\n\r\nAnimationItem.prototype.setParams = function (params) {\r\n  if (params.wrapper || params.container) {\r\n    this.wrapper = params.wrapper || params.container;\r\n  }\r\n  var animType = 'svg';\r\n  if (params.animType) {\r\n    animType = params.animType;\r\n  } else if (params.renderer) {\r\n    animType = params.renderer;\r\n  }\r\n  switch (animType) {\r\n    case 'canvas':\r\n      this.renderer = new CanvasRenderer(this, params.rendererSettings);\r\n      break;\r\n    case 'svg':\r\n      this.renderer = new SVGRenderer(this, params.rendererSettings);\r\n      break;\r\n    default:\r\n      this.renderer = new HybridRenderer(this, params.rendererSettings);\r\n      break;\r\n  }\r\n  this.imagePreloader.setCacheType(animType, this.renderer.globalData.defs);\r\n  this.renderer.setProjectInterface(this.projectInterface);\r\n  this.animType = animType;\r\n  if (params.loop === ''\r\n        || params.loop === null\r\n        || params.loop === undefined\r\n        || params.loop === true) {\r\n    this.loop = true;\r\n  } else if (params.loop === false) {\r\n    this.loop = false;\r\n  } else {\r\n    this.loop = parseInt(params.loop, 10);\r\n  }\r\n  this.autoplay = 'autoplay' in params ? params.autoplay : true;\r\n  this.name = params.name ? params.name : '';\r\n  this.autoloadSegments = Object.prototype.hasOwnProperty.call(params, 'autoloadSegments') ? params.autoloadSegments : true;\r\n  this.assetsPath = params.assetsPath;\r\n  this.initialSegment = params.initialSegment;\r\n  if (params.audioFactory) {\r\n    this.audioController.setAudioFactory(params.audioFactory);\r\n  }\r\n  if (params.animationData) {\r\n    this.setupAnimation(params.animationData);\r\n  } else if (params.path) {\r\n    if (params.path.lastIndexOf('\\\\') !== -1) {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('\\\\') + 1);\r\n    } else {\r\n      this.path = params.path.substr(0, params.path.lastIndexOf('/') + 1);\r\n    }\r\n    this.fileName = params.path.substr(params.path.lastIndexOf('/') + 1);\r\n    this.fileName = this.fileName.substr(0, this.fileName.lastIndexOf('.json'));\r\n    dataManager.loadAnimation(\r\n      params.path,\r\n      this.configAnimation,\r\n      this.onSetupError\r\n    );\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.onSetupError = function () {\r\n  this.trigger('data_failed');\r\n};\r\n\r\nAnimationItem.prototype.setupAnimation = function (data) {\r\n  dataManager.completeAnimation(\r\n    data,\r\n    this.configAnimation\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.setData = function (wrapper, animationData) {\r\n  if (animationData) {\r\n    if (typeof animationData !== 'object') {\r\n      animationData = JSON.parse(animationData);\r\n    }\r\n  }\r\n  var params = {\r\n    wrapper: wrapper,\r\n    animationData: animationData,\r\n  };\r\n  var wrapperAttributes = wrapper.attributes;\r\n\r\n  params.path = wrapperAttributes.getNamedItem('data-animation-path') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-animation-path').value\r\n    : wrapperAttributes.getNamedItem('data-bm-path') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-path').value\r\n      : wrapperAttributes.getNamedItem('bm-path')\r\n        ? wrapperAttributes.getNamedItem('bm-path').value\r\n        : '';\r\n  params.animType = wrapperAttributes.getNamedItem('data-anim-type') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-type').value\r\n    : wrapperAttributes.getNamedItem('data-bm-type') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-type').value\r\n      : wrapperAttributes.getNamedItem('bm-type') // eslint-disable-line no-nested-ternary\r\n        ? wrapperAttributes.getNamedItem('bm-type').value\r\n        : wrapperAttributes.getNamedItem('data-bm-renderer') // eslint-disable-line no-nested-ternary\r\n          ? wrapperAttributes.getNamedItem('data-bm-renderer').value\r\n          : wrapperAttributes.getNamedItem('bm-renderer')\r\n            ? wrapperAttributes.getNamedItem('bm-renderer').value\r\n            : 'canvas';\r\n\r\n  var loop = wrapperAttributes.getNamedItem('data-anim-loop') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-loop').value\r\n    : wrapperAttributes.getNamedItem('data-bm-loop') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-loop').value\r\n      : wrapperAttributes.getNamedItem('bm-loop')\r\n        ? wrapperAttributes.getNamedItem('bm-loop').value\r\n        : '';\r\n  if (loop === 'false') {\r\n    params.loop = false;\r\n  } else if (loop === 'true') {\r\n    params.loop = true;\r\n  } else if (loop !== '') {\r\n    params.loop = parseInt(loop, 10);\r\n  }\r\n  var autoplay = wrapperAttributes.getNamedItem('data-anim-autoplay') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-autoplay').value\r\n    : wrapperAttributes.getNamedItem('data-bm-autoplay') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-autoplay').value\r\n      : wrapperAttributes.getNamedItem('bm-autoplay')\r\n        ? wrapperAttributes.getNamedItem('bm-autoplay').value\r\n        : true;\r\n  params.autoplay = autoplay !== 'false';\r\n\r\n  params.name = wrapperAttributes.getNamedItem('data-name') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-name').value\r\n    : wrapperAttributes.getNamedItem('data-bm-name') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-name').value\r\n      : wrapperAttributes.getNamedItem('bm-name')\r\n        ? wrapperAttributes.getNamedItem('bm-name').value\r\n        : '';\r\n  var prerender = wrapperAttributes.getNamedItem('data-anim-prerender') // eslint-disable-line no-nested-ternary\r\n    ? wrapperAttributes.getNamedItem('data-anim-prerender').value\r\n    : wrapperAttributes.getNamedItem('data-bm-prerender') // eslint-disable-line no-nested-ternary\r\n      ? wrapperAttributes.getNamedItem('data-bm-prerender').value\r\n      : wrapperAttributes.getNamedItem('bm-prerender')\r\n        ? wrapperAttributes.getNamedItem('bm-prerender').value\r\n        : '';\r\n\r\n  if (prerender === 'false') {\r\n    params.prerender = false;\r\n  }\r\n  this.setParams(params);\r\n};\r\n\r\nAnimationItem.prototype.includeLayers = function (data) {\r\n  if (data.op > this.animationData.op) {\r\n    this.animationData.op = data.op;\r\n    this.totalFrames = Math.floor(data.op - this.animationData.ip);\r\n  }\r\n  var layers = this.animationData.layers;\r\n  var i;\r\n  var len = layers.length;\r\n  var newLayers = data.layers;\r\n  var j;\r\n  var jLen = newLayers.length;\r\n  for (j = 0; j < jLen; j += 1) {\r\n    i = 0;\r\n    while (i < len) {\r\n      if (layers[i].id === newLayers[j].id) {\r\n        layers[i] = newLayers[j];\r\n        break;\r\n      }\r\n      i += 1;\r\n    }\r\n  }\r\n  if (data.chars || data.fonts) {\r\n    this.renderer.globalData.fontManager.addChars(data.chars);\r\n    this.renderer.globalData.fontManager.addFonts(data.fonts, this.renderer.globalData.defs);\r\n  }\r\n  if (data.assets) {\r\n    len = data.assets.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.animationData.assets.push(data.assets[i]);\r\n    }\r\n  }\r\n  this.animationData.__complete = false;\r\n  dataManager.completeAnimation(\r\n    this.animationData,\r\n    this.onSegmentComplete\r\n  );\r\n};\r\n\r\nAnimationItem.prototype.onSegmentComplete = function (data) {\r\n  this.animationData = data;\r\n  if (expressionsPlugin) {\r\n    expressionsPlugin.initExpressions(this);\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.loadNextSegment = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments || segments.length === 0 || !this.autoloadSegments) {\r\n    this.trigger('data_ready');\r\n    this.timeCompleted = this.totalFrames;\r\n    return;\r\n  }\r\n  var segment = segments.shift();\r\n  this.timeCompleted = segment.time * this.frameRate;\r\n  var segmentPath = this.path + this.fileName + '_' + this.segmentPos + '.json';\r\n  this.segmentPos += 1;\r\n  dataManager.loadData(segmentPath, this.includeLayers.bind(this), function () {\r\n    this.trigger('data_failed');\r\n  }.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.loadSegments = function () {\r\n  var segments = this.animationData.segments;\r\n  if (!segments) {\r\n    this.timeCompleted = this.totalFrames;\r\n  }\r\n  this.loadNextSegment();\r\n};\r\n\r\nAnimationItem.prototype.imagesLoaded = function () {\r\n  this.trigger('loaded_images');\r\n  this.checkLoaded();\r\n};\r\n\r\nAnimationItem.prototype.preloadImages = function () {\r\n  this.imagePreloader.setAssetsPath(this.assetsPath);\r\n  this.imagePreloader.setPath(this.path);\r\n  this.imagePreloader.loadAssets(this.animationData.assets, this.imagesLoaded.bind(this));\r\n};\r\n\r\nAnimationItem.prototype.configAnimation = function (animData) {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.animationData = animData;\r\n    if (this.initialSegment) {\r\n      this.totalFrames = Math.floor(this.initialSegment[1] - this.initialSegment[0]);\r\n      this.firstFrame = Math.round(this.initialSegment[0]);\r\n    } else {\r\n      this.totalFrames = Math.floor(this.animationData.op - this.animationData.ip);\r\n      this.firstFrame = Math.round(this.animationData.ip);\r\n    }\r\n    this.renderer.configAnimation(animData);\r\n    if (!animData.assets) {\r\n      animData.assets = [];\r\n    }\r\n\r\n    this.assets = this.animationData.assets;\r\n    this.frameRate = this.animationData.fr;\r\n    this.frameMult = this.animationData.fr / 1000;\r\n    this.renderer.searchExtraCompositions(animData.assets);\r\n    this.markers = markerParser(animData.markers || []);\r\n    this.trigger('config_ready');\r\n    this.preloadImages();\r\n    this.loadSegments();\r\n    this.updaFrameModifier();\r\n    this.waitForFontsLoaded();\r\n    if (this.isPaused) {\r\n      this.audioController.pause();\r\n    }\r\n  } catch (error) {\r\n    this.triggerConfigError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.waitForFontsLoaded = function () {\r\n  if (!this.renderer) {\r\n    return;\r\n  }\r\n  if (this.renderer.globalData.fontManager.isLoaded) {\r\n    this.checkLoaded();\r\n  } else {\r\n    setTimeout(this.waitForFontsLoaded.bind(this), 20);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.checkLoaded = function () {\r\n  if (!this.isLoaded\r\n        && this.renderer.globalData.fontManager.isLoaded\r\n        && (this.imagePreloader.loadedImages() || this.renderer.rendererType !== 'canvas')\r\n        && (this.imagePreloader.loadedFootages())\r\n  ) {\r\n    this.isLoaded = true;\r\n    if (expressionsPlugin) {\r\n      expressionsPlugin.initExpressions(this);\r\n    }\r\n    this.renderer.initItems();\r\n    setTimeout(function () {\r\n      this.trigger('DOMLoaded');\r\n    }.bind(this), 0);\r\n    this.gotoFrame();\r\n    if (this.autoplay) {\r\n      this.play();\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resize = function () {\r\n  this.renderer.updateContainerSize();\r\n};\r\n\r\nAnimationItem.prototype.setSubframe = function (flag) {\r\n  this.isSubframeEnabled = !!flag;\r\n};\r\n\r\nAnimationItem.prototype.gotoFrame = function () {\r\n  this.currentFrame = this.isSubframeEnabled ? this.currentRawFrame : ~~this.currentRawFrame; // eslint-disable-line no-bitwise\r\n\r\n  if (this.timeCompleted !== this.totalFrames && this.currentFrame > this.timeCompleted) {\r\n    this.currentFrame = this.timeCompleted;\r\n  }\r\n  this.trigger('enterFrame');\r\n  this.renderFrame();\r\n  this.trigger('drawnFrame');\r\n};\r\n\r\nAnimationItem.prototype.renderFrame = function () {\r\n  if (this.isLoaded === false || !this.renderer) {\r\n    return;\r\n  }\r\n  try {\r\n    this.renderer.renderFrame(this.currentFrame + this.firstFrame);\r\n  } catch (error) {\r\n    this.triggerRenderFrameError(error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.play = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.isPaused = false;\r\n    this.audioController.resume();\r\n    if (this._idle) {\r\n      this._idle = false;\r\n      this.trigger('_active');\r\n    }\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.pause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === false) {\r\n    this.isPaused = true;\r\n    this._idle = true;\r\n    this.trigger('_idle');\r\n    this.audioController.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.togglePause = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  if (this.isPaused === true) {\r\n    this.play();\r\n  } else {\r\n    this.pause();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.stop = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.pause();\r\n  this.playCount = 0;\r\n  this._completedLoop = false;\r\n  this.setCurrentRawFrameValue(0);\r\n};\r\n\r\nAnimationItem.prototype.getMarkerData = function (markerName) {\r\n  var marker;\r\n  for (var i = 0; i < this.markers.length; i += 1) {\r\n    marker = this.markers[i];\r\n    if (marker.payload && marker.payload.name === markerName) {\r\n      return marker;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.goToAndStop = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      this.goToAndStop(marker.time, true);\r\n    }\r\n  } else if (isFrame) {\r\n    this.setCurrentRawFrameValue(value);\r\n  } else {\r\n    this.setCurrentRawFrameValue(value * this.frameModifier);\r\n  }\r\n  this.pause();\r\n};\r\n\r\nAnimationItem.prototype.goToAndPlay = function (value, isFrame, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  var numValue = Number(value);\r\n  if (isNaN(numValue)) {\r\n    var marker = this.getMarkerData(value);\r\n    if (marker) {\r\n      if (!marker.duration) {\r\n        this.goToAndStop(marker.time, true);\r\n      } else {\r\n        this.playSegments([marker.time, marker.time + marker.duration], true);\r\n      }\r\n    }\r\n  } else {\r\n    this.goToAndStop(numValue, isFrame, name);\r\n  }\r\n  this.play();\r\n};\r\n\r\nAnimationItem.prototype.advanceTime = function (value) {\r\n  if (this.isPaused === true || this.isLoaded === false) {\r\n    return;\r\n  }\r\n  var nextValue = this.currentRawFrame + value * this.frameModifier;\r\n  var _isComplete = false;\r\n  // Checking if nextValue > totalFrames - 1 for addressing non looping and looping animations.\r\n  // If animation won't loop, it should stop at totalFrames - 1. If it will loop it should complete the last frame and then loop.\r\n  if (nextValue >= this.totalFrames - 1 && this.frameModifier > 0) {\r\n    if (!this.loop || this.playCount === this.loop) {\r\n      if (!this.checkSegments(nextValue > this.totalFrames ? nextValue % this.totalFrames : 0)) {\r\n        _isComplete = true;\r\n        nextValue = this.totalFrames - 1;\r\n      }\r\n    } else if (nextValue >= this.totalFrames) {\r\n      this.playCount += 1;\r\n      if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n        this.setCurrentRawFrameValue(nextValue % this.totalFrames);\r\n        this._completedLoop = true;\r\n        this.trigger('loopComplete');\r\n      }\r\n    } else {\r\n      this.setCurrentRawFrameValue(nextValue);\r\n    }\r\n  } else if (nextValue < 0) {\r\n    if (!this.checkSegments(nextValue % this.totalFrames)) {\r\n      if (this.loop && !(this.playCount-- <= 0 && this.loop !== true)) { // eslint-disable-line no-plusplus\r\n        this.setCurrentRawFrameValue(this.totalFrames + (nextValue % this.totalFrames));\r\n        if (!this._completedLoop) {\r\n          this._completedLoop = true;\r\n        } else {\r\n          this.trigger('loopComplete');\r\n        }\r\n      } else {\r\n        _isComplete = true;\r\n        nextValue = 0;\r\n      }\r\n    }\r\n  } else {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n  }\r\n  if (_isComplete) {\r\n    this.setCurrentRawFrameValue(nextValue);\r\n    this.pause();\r\n    this.trigger('complete');\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.adjustSegment = function (arr, offset) {\r\n  this.playCount = 0;\r\n  if (arr[1] < arr[0]) {\r\n    if (this.frameModifier > 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(-1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[0] - arr[1];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[1];\r\n    this.setCurrentRawFrameValue(this.totalFrames - 0.001 - offset);\r\n  } else if (arr[1] > arr[0]) {\r\n    if (this.frameModifier < 0) {\r\n      if (this.playSpeed < 0) {\r\n        this.setSpeed(-this.playSpeed);\r\n      } else {\r\n        this.setDirection(1);\r\n      }\r\n    }\r\n    this.totalFrames = arr[1] - arr[0];\r\n    this.timeCompleted = this.totalFrames;\r\n    this.firstFrame = arr[0];\r\n    this.setCurrentRawFrameValue(0.001 + offset);\r\n  }\r\n  this.trigger('segmentStart');\r\n};\r\nAnimationItem.prototype.setSegment = function (init, end) {\r\n  var pendingFrame = -1;\r\n  if (this.isPaused) {\r\n    if (this.currentRawFrame + this.firstFrame < init) {\r\n      pendingFrame = init;\r\n    } else if (this.currentRawFrame + this.firstFrame > end) {\r\n      pendingFrame = end - init;\r\n    }\r\n  }\r\n\r\n  this.firstFrame = init;\r\n  this.totalFrames = end - init;\r\n  this.timeCompleted = this.totalFrames;\r\n  if (pendingFrame !== -1) {\r\n    this.goToAndStop(pendingFrame, true);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.playSegments = function (arr, forceFlag) {\r\n  if (forceFlag) {\r\n    this.segments.length = 0;\r\n  }\r\n  if (typeof arr[0] === 'object') {\r\n    var i;\r\n    var len = arr.length;\r\n    for (i = 0; i < len; i += 1) {\r\n      this.segments.push(arr[i]);\r\n    }\r\n  } else {\r\n    this.segments.push(arr);\r\n  }\r\n  if (this.segments.length && forceFlag) {\r\n    this.adjustSegment(this.segments.shift(), 0);\r\n  }\r\n  if (this.isPaused) {\r\n    this.play();\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.resetSegments = function (forceFlag) {\r\n  this.segments.length = 0;\r\n  this.segments.push([this.animationData.ip, this.animationData.op]);\r\n  if (forceFlag) {\r\n    this.checkSegments(0);\r\n  }\r\n};\r\nAnimationItem.prototype.checkSegments = function (offset) {\r\n  if (this.segments.length) {\r\n    this.adjustSegment(this.segments.shift(), offset);\r\n    return true;\r\n  }\r\n  return false;\r\n};\r\n\r\nAnimationItem.prototype.destroy = function (name) {\r\n  if ((name && this.name !== name) || !this.renderer) {\r\n    return;\r\n  }\r\n  this.renderer.destroy();\r\n  this.imagePreloader.destroy();\r\n  this.trigger('destroy');\r\n  this._cbs = null;\r\n  this.onEnterFrame = null;\r\n  this.onLoopComplete = null;\r\n  this.onComplete = null;\r\n  this.onSegmentStart = null;\r\n  this.onDestroy = null;\r\n  this.renderer = null;\r\n  this.renderer = null;\r\n  this.imagePreloader = null;\r\n  this.projectInterface = null;\r\n};\r\n\r\nAnimationItem.prototype.setCurrentRawFrameValue = function (value) {\r\n  this.currentRawFrame = value;\r\n  this.gotoFrame();\r\n};\r\n\r\nAnimationItem.prototype.setSpeed = function (val) {\r\n  this.playSpeed = val;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setDirection = function (val) {\r\n  this.playDirection = val < 0 ? -1 : 1;\r\n  this.updaFrameModifier();\r\n};\r\n\r\nAnimationItem.prototype.setVolume = function (val, name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.setVolume(val);\r\n};\r\n\r\nAnimationItem.prototype.getVolume = function () {\r\n  return this.audioController.getVolume();\r\n};\r\n\r\nAnimationItem.prototype.mute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.mute();\r\n};\r\n\r\nAnimationItem.prototype.unmute = function (name) {\r\n  if (name && this.name !== name) {\r\n    return;\r\n  }\r\n  this.audioController.unmute();\r\n};\r\n\r\nAnimationItem.prototype.updaFrameModifier = function () {\r\n  this.frameModifier = this.frameMult * this.playSpeed * this.playDirection;\r\n  this.audioController.setRate(this.playSpeed * this.playDirection);\r\n};\r\n\r\nAnimationItem.prototype.getPath = function () {\r\n  return this.path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetsPath = function (assetData) {\r\n  var path = '';\r\n  if (assetData.e) {\r\n    path = assetData.p;\r\n  } else if (this.assetsPath) {\r\n    var imagePath = assetData.p;\r\n    if (imagePath.indexOf('images/') !== -1) {\r\n      imagePath = imagePath.split('/')[1];\r\n    }\r\n    path = this.assetsPath + imagePath;\r\n  } else {\r\n    path = this.path;\r\n    path += assetData.u ? assetData.u : '';\r\n    path += assetData.p;\r\n  }\r\n  return path;\r\n};\r\n\r\nAnimationItem.prototype.getAssetData = function (id) {\r\n  var i = 0;\r\n  var len = this.assets.length;\r\n  while (i < len) {\r\n    if (id === this.assets[i].id) {\r\n      return this.assets[i];\r\n    }\r\n    i += 1;\r\n  }\r\n  return null;\r\n};\r\n\r\nAnimationItem.prototype.hide = function () {\r\n  this.renderer.hide();\r\n};\r\n\r\nAnimationItem.prototype.show = function () {\r\n  this.renderer.show();\r\n};\r\n\r\nAnimationItem.prototype.getDuration = function (isFrame) {\r\n  return isFrame ? this.totalFrames : this.totalFrames / this.frameRate;\r\n};\r\n\r\nAnimationItem.prototype.trigger = function (name) {\r\n  if (this._cbs && this._cbs[name]) {\r\n    switch (name) {\r\n      case 'enterFrame':\r\n      case 'drawnFrame':\r\n        this.triggerEvent(name, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameModifier));\r\n        break;\r\n      case 'loopComplete':\r\n        this.triggerEvent(name, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n        break;\r\n      case 'complete':\r\n        this.triggerEvent(name, new BMCompleteEvent(name, this.frameMult));\r\n        break;\r\n      case 'segmentStart':\r\n        this.triggerEvent(name, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n        break;\r\n      case 'destroy':\r\n        this.triggerEvent(name, new BMDestroyEvent(name, this));\r\n        break;\r\n      default:\r\n        this.triggerEvent(name);\r\n    }\r\n  }\r\n  if (name === 'enterFrame' && this.onEnterFrame) {\r\n    this.onEnterFrame.call(this, new BMEnterFrameEvent(name, this.currentFrame, this.totalFrames, this.frameMult));\r\n  }\r\n  if (name === 'loopComplete' && this.onLoopComplete) {\r\n    this.onLoopComplete.call(this, new BMCompleteLoopEvent(name, this.loop, this.playCount, this.frameMult));\r\n  }\r\n  if (name === 'complete' && this.onComplete) {\r\n    this.onComplete.call(this, new BMCompleteEvent(name, this.frameMult));\r\n  }\r\n  if (name === 'segmentStart' && this.onSegmentStart) {\r\n    this.onSegmentStart.call(this, new BMSegmentStartEvent(name, this.firstFrame, this.totalFrames));\r\n  }\r\n  if (name === 'destroy' && this.onDestroy) {\r\n    this.onDestroy.call(this, new BMDestroyEvent(name, this));\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerRenderFrameError = function (nativeError) {\r\n  var error = new BMRenderFrameErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\nAnimationItem.prototype.triggerConfigError = function (nativeError) {\r\n  var error = new BMConfigErrorEvent(nativeError, this.currentFrame);\r\n  this.triggerEvent('error', error);\r\n\r\n  if (this.onError) {\r\n    this.onError.call(this, error);\r\n  }\r\n};\r\n\r\n/* exported EffectsManager */\r\n\r\nfunction EffectsManager() {\r\n  this.effectElements = [];\r\n}\r\n\r\n\r\nvar lottie = {};\r\n\r\nfunction setLocationHref(href) {\r\n  locationHref = href;\r\n}\r\n\r\nfunction searchAnimations() {\r\n  if (standalone === true) {\r\n    animationManager.searchAnimations(animationData, standalone, renderer);\r\n  } else {\r\n    animationManager.searchAnimations();\r\n  }\r\n}\r\n\r\nfunction setSubframeRendering(flag) {\r\n  subframeEnabled = flag;\r\n}\r\n\r\nfunction setIDPrefix(prefix) {\r\n  idPrefix = prefix;\r\n}\r\n\r\nfunction loadAnimation(params) {\r\n  if (standalone === true) {\r\n    params.animationData = JSON.parse(animationData);\r\n  }\r\n  return animationManager.loadAnimation(params);\r\n}\r\n\r\nfunction setQuality(value) {\r\n  if (typeof value === 'string') {\r\n    switch (value) {\r\n      case 'high':\r\n        defaultCurveSegments = 200;\r\n        break;\r\n      default:\r\n      case 'medium':\r\n        defaultCurveSegments = 50;\r\n        break;\r\n      case 'low':\r\n        defaultCurveSegments = 10;\r\n        break;\r\n    }\r\n  } else if (!isNaN(value) && value > 1) {\r\n    defaultCurveSegments = value;\r\n  }\r\n  if (defaultCurveSegments >= 50) {\r\n    roundValues(false);\r\n  } else {\r\n    roundValues(true);\r\n  }\r\n}\r\n\r\nfunction inBrowser() {\r\n  return typeof navigator !== 'undefined';\r\n}\r\n\r\nfunction installPlugin(type, plugin) {\r\n  if (type === 'expressions') {\r\n    expressionsPlugin = plugin;\r\n  }\r\n}\r\n\r\nfunction getFactory(name) {\r\n  switch (name) {\r\n    case 'propertyFactory':\r\n      return PropertyFactory;\r\n    case 'shapePropertyFactory':\r\n      return ShapePropertyFactory;\r\n    case 'matrix':\r\n      return Matrix;\r\n    default:\r\n      return null;\r\n  }\r\n}\r\n\r\nlottie.play = animationManager.play;\r\nlottie.pause = animationManager.pause;\r\nlottie.setLocationHref = setLocationHref;\r\nlottie.togglePause = animationManager.togglePause;\r\nlottie.setSpeed = animationManager.setSpeed;\r\nlottie.setDirection = animationManager.setDirection;\r\nlottie.stop = animationManager.stop;\r\nlottie.searchAnimations = searchAnimations;\r\nlottie.registerAnimation = animationManager.registerAnimation;\r\nlottie.loadAnimation = loadAnimation;\r\nlottie.setSubframeRendering = setSubframeRendering;\r\nlottie.resize = animationManager.resize;\r\n// lottie.start = start;\r\nlottie.goToAndStop = animationManager.goToAndStop;\r\nlottie.destroy = animationManager.destroy;\r\nlottie.setQuality = setQuality;\r\nlottie.inBrowser = inBrowser;\r\nlottie.installPlugin = installPlugin;\r\nlottie.freeze = animationManager.freeze;\r\nlottie.unfreeze = animationManager.unfreeze;\r\nlottie.setVolume = animationManager.setVolume;\r\nlottie.mute = animationManager.mute;\r\nlottie.unmute = animationManager.unmute;\r\nlottie.getRegisteredAnimations = animationManager.getRegisteredAnimations;\r\nlottie.useWebWorker = function (flag) {\r\n  _useWebWorker = flag;\r\n};\r\nlottie.setIDPrefix = setIDPrefix;\r\nlottie.__getFactory = getFactory;\r\nlottie.version = '5.8.1';\r\n\r\nfunction checkReady() {\r\n  if (document.readyState === 'complete') {\r\n    clearInterval(readyStateCheckInterval);\r\n    searchAnimations();\r\n  }\r\n}\r\n\r\nfunction getQueryVariable(variable) {\r\n  var vars = queryString.split('&');\r\n  for (var i = 0; i < vars.length; i += 1) {\r\n    var pair = vars[i].split('=');\r\n    if (decodeURIComponent(pair[0]) == variable) { // eslint-disable-line eqeqeq\r\n      return decodeURIComponent(pair[1]);\r\n    }\r\n  }\r\n  return null;\r\n}\r\nvar standalone = '__[STANDALONE]__';\r\nvar animationData = '__[ANIMATIONDATA]__';\r\nvar renderer = '';\r\nvar queryString;\r\nif (standalone) {\r\n  var scripts = document.getElementsByTagName('script');\r\n  var index = scripts.length - 1;\r\n  var myScript = scripts[index] || {\r\n    src: '',\r\n  };\r\n  queryString = myScript.src.replace(/^[^\\?]+\\??/, ''); // eslint-disable-line no-useless-escape\r\n  renderer = getQueryVariable('renderer');\r\n}\r\nvar readyStateCheckInterval = setInterval(checkReady, 100);\r\n\nreturn lottie;\n}));"],"names":["self","module","exports","r","n","o","t","e","a","i","u","v","w","m","Array","b","x","_","M","S","A","C","s","getPatternPosition","length","h","getBCHTypeNumber","Math","floor","getBCHTypeInfo","getMaskFunction","c","l","d","getRSBlocks","put","getMode","getLength","getLengthInBits","write","dataCount","putBit","totalCount","max","getBuffer","f","getErrorCorrectPolynomial","g","mod","p","getAt","y","addData","push","isDark","getModuleCount","make","getLostPoint","createTableTag","createSvgTag","arguments","cellSize","margin","alt","title","text","id","scalable","k","join","trim","createDataURL","createImgTag","charAt","createASCII","substring","renderTo2dContext","fillStyle","fillRect","stringToBytes","stringToBytesFuncs","default","charCodeAt","createStringToBytes","read","String","fromCharCode","L","Q","H","multiply","gexp","abs","glog","SJIS","writeByte","writeShort","writeBytes","writeString","toByteArray","toString","match","setPixel","add","flush","contains","indexOf","size","apply","isArray","shift","Object","keys","forEach","assign","document","createElement","download","href","body","appendChild","click","removeChild","Promise","XMLHttpRequest","onload","FileReader","onloadend","result","readAsDataURL","response","open","responseType","send","svg","type","this","_svg","_type","prototype","draw","_drawDot","_drawClassy","_drawClassyRounded","_drawRounded","_drawExtraRounded","_drawSquare","call","getNeighbor","_rotateFigure","rotation","_element","setAttribute","PI","_basicDot","createElementNS","_basicSquare","_basicSideRounded","_basicCornerRounded","_basicCornerExtraRounded","_basicCornersRounded","_basicExtraRounded","width","height","_defs","_options","defineProperty","getElement","drawQR","min","shape","sqrt","hideXDots","hideYDots","_qr","image","loadImage","sent","_image","imageOptions","qrOptions","imageSize","errorCorrectionLevel","originalHeight","originalWidth","maxHiddenDots","maxHiddenAxisDots","dotSize","ceil","round","drawBackground","drawDots","hideBackgroundDots","drawCorners","drawImage","count","backgroundOptions","gradient","color","_createColor","options","additionalRotation","name","_backgroundClipPath","dotsOptions","_dotsClipPath","O","D","P","z","B","cornersSquareOptions","_cornersSquareClipPath","_cornersDotClipPath","q","I","cornersDotOptions","R","Image","crossOrigin","src","tan","colorStops","offset","data","typeNumber","mode","Number","map","Boolean","update","_clearContainer","innerHTML","_setupSvg","_svgDrawingPromise","then","_extension","_setupCanvas","_canvas","_canvasDrawingPromise","XMLSerializer","serializeToString","btoa","getContext","_getElement","toLowerCase","_container","test","append","applyExtension","deleteExtension","getRawData","Blob","toBlob","console","warn","extension","encodeURIComponent","toDataURL","__esModule","enumerable","get","hasOwnProperty","insertAt","head","getElementsByTagName","firstChild","insertBefore","styleSheet","cssText","createTextNode","concat","HTMLElement","constructor","super","attachShadow","shadowRoot","textContent","content","cloneNode","onClose","getElementById","getAttribute","addEventListener","connectedCallback","E","Z","handleAccordion","classList","querySelector","webWalletOption","mobileWalletOption","createRange","createContextualFragment","handleChangeView","onClickDownload","onClickBack","webWalletConnect","renderQRCode","checkWebWalletAvaliability","window","onWebWalletConnect","target","Element","parentElement","querySelectorAll","remove","toggle","undefined","F","includes","replace","singleAccount","selectedAccount","onClickLaunch","V","W","$","closed","j","T","U","G","N","addAudioForConnection","renderLottieAnimation","setTimeout","autoplay","loop","container","renderer","path","J","K","Y","X","ee","ne","te","documentElement","style","setProperty","innerHeight","ae","customElements","define","root","navigator","expressionsPlugin","svgNS","locationHref","initialDefaultFrame","_useWebWorker","subframeEnabled","idPrefix","isSafari","userAgent","bmPow","pow","bmSqrt","bmFloor","bmMin","BMMath","ProjectInterface","propertyNames","len","random","val","absArr","createSizedArray","defaultCurveSegments","degToRads","roundCorner","roundValues","flag","BMEnterFrameEvent","currentTime","totalTime","frameMultiplier","direction","BMCompleteEvent","BMCompleteLoopEvent","totalLoops","currentLoop","BMSegmentStartEvent","firstFrame","totalFrames","BMDestroyEvent","BMRenderFrameErrorEvent","nativeError","BMConfigErrorEvent","createElementID","_count","HSVtoRGB","RGBtoHSV","addSaturationToRGB","hsv","addBrightnessToRGB","addHueToRGB","rgbToHex","hex","colorMap","BaseEvent","triggerEvent","eventName","args","_cbs","callbacks","callback","removeEventListener","bind","splice","createTypedArray","createRegularArray","value","arr","createTypedArrayFactory","Float32Array","Int16Array","Uint8ClampedArray","createNS","createTag","DynamicPropertyContainer","addDynamicProperty","prop","dynamicProperties","_isAnimated","iterateDynamicProperties","_mdf","getValue","initDynamicPropertyContainer","getBlendMode","blendModeEnums","lineCapEnum","lineJoinEnum","Matrix","_cos","cos","_sin","sin","_tan","_rnd","reset","props","rotate","angle","mCos","mSin","_t","rotateX","rotateY","rotateZ","shear","sx","sy","skew","ax","ay","skewFromAxis","scale","sz","setTransform","translate","tx","ty","tz","transform","a2","b2","c2","d2","e2","f2","g2","h2","i2","j2","k2","l2","m2","n2","o2","p2","_p","_identityCalculated","a1","b1","c1","d1","e1","f1","g1","h1","i1","j1","k1","l1","m1","n1","o1","p1","isIdentity","_identity","equals","matr","clone","cloneFromProps","applyToPoint","applyToX","applyToY","applyToZ","getInverseMatrix","determinant","inverseMatrix","inversePoint","pt","applyToPointArray","inversePoints","pts","retPts","applyToTriplePoints","pt1","pt2","pt3","p0","p4","p5","p12","p13","applyToPointStringified","toCSS","cssValue","roundMatrixProperty","to2dCSS","pool","math","nodecrypto","global","chunks","digits","rngname","startdenom","significance","overflow","mask","seedrandom","seed","key","shortseed","mixkey","flatten","entropy","tostring","autoseed","arc4","ARC4","prng","int32","quick","double","pass","is_math_call","state","copy","keylen","me","slice","obj","depth","typ","smear","stringseed","randomBytes","out","Uint8Array","crypto","msCrypto","getRandomValues","browser","plugins","Date","screen","BezierFactory","ob","getBezierEasing","beziers","nm","str","bezEasing","BezierEasing","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","aA1","aA2","calcBezier","aT","getSlope","binarySubdivide","aX","aA","aB","mX1","mX2","currentX","currentT","newtonRaphsonIterate","aGuessT","currentSlope","points","_mSampleValues","_precomputed","mY1","mY2","_precompute","_getTForX","_calcSampleValues","mSampleValues","intervalStart","currentSample","lastSample","guessForT","initialSlope","extendPrototype","sources","destination","sourcePrototype","attr","createProxyFunction","ProxyFunction","bezFunction","pointOnLine2D","x1","y1","x2","y2","x3","y3","det1","pointOnLine3D","z1","z2","z3","diffDist","dist1","dist2","dist3","getBezierLength","pt4","ptCoord","perc","ptDistance","curveSegments","addedLength","point","lastPoint","lengthData","bezierLengthPool","newElement","percents","lengths","getSegmentsLength","shapeData","segmentsLength","segmentsLengthPool","pathV","pathO","pathI","_length","totalLength","BezierData","segmentLength","PointData","partial","partialLength","buildBezierData","storedData","bezierName","bezierData","getDistancePerc","initPos","lengthPos","lPerc","dir","getPointInSegment","percent","t1","u1","bezierSegmentPoints","getNewSegment","startPerc","endPerc","t0","u0","u0u0u0","t0u0u0_3","t0t0u0_3","t0t0t0","u0u0u1","t0u0u1_3","t0t0u1_3","t0t0t1","u0u1u1","t0u1u1_3","t0t1u1_3","t0t1t1","u1u1u1","t1u1u1_3","t1t1u1_3","t1t1t1","lastTime","vendors","requestAnimationFrame","cancelAnimationFrame","currTime","getTime","timeToCall","clearTimeout","bez","dataManager","workerFn","workerInstance","_counterId","processes","workerProxy","onmessage","postMessage","_workerSelf","createWorker","fn","Worker","blob","url","URL","createObjectURL","setupWorker","dataFunctionManager","completeLayers","layers","comps","layerData","jLen","kLen","completed","tt","td","hasMask","maskProps","masksProperties","convertPathsToAbsoluteValues","findCompLayers","refId","completeShapes","shapes","completeText","__used","JSON","parse","stringify","ks","it","checkVersion","minimum","animVersionString","animVersion","split","checkText","minimumVersion","updateTextLayer","textLayer","documentData","iterateLayers","animationData","assets","checkChars","chars","pathData","paths","__converted","checkPathProperties","checkColors","iterateShapes","checkShapes","completeClosingShapes","cl","completeData","__complete","singleShape","moduleOb","assetLoader","formatResponse","xhr","contentTypeHeader","getResponseHeader","responseText","loadAsset","fullPath","errorCallback","err","onreadystatechange","readyState","status","error","load","payload","animation","event","process","onComplete","onError","createProcess","loadAnimation","processId","location","origin","pathname","loadData","completeAnimation","anim","getFontProperties","fontData","styles","fStyle","fWeight","weight","FontManager","maxWaitingTime","emptyChar","combinedCharacters","surrogateModifiers","zeroWidthJoiner","trimFontOptions","font","familyArray","enabledFamilies","setUpNode","family","parentNode","fontFamily","node","innerText","position","left","top","fontSize","fontVariant","fontStyle","fontWeight","letterSpacing","offsetWidth","parent","checkLoadedFonts","fonts","loadedCount","loaded","fOrigin","monoCase","sansCase","now","initTime","checkLoadedFontsBinded","setIsLoadedBinded","createHelper","def","tHelper","fontProps","fFamily","fClass","addFonts","defs","isLoaded","list","fontArr","_pendingFonts","loadedSelector","shouldLoadFont","fPath","rel","sc","helper","cache","addChars","found","ch","getCharData","char","_warned","measureText","fontName","getFontByName","index","doubleSize","getComputedTextLength","singleSize","fName","isModifier","firstCharCode","secondCharCode","sum","isZeroWidthJoiner","isCombinedCharacter","setIsLoaded","Font","typekitLoaded","fontPrototype","PropertyFactory","initFrame","mathAbs","interpolateValue","frameNum","caching","newValue","offsetTime","propType","pv","keyData","nextKeyData","keyframeMetadata","fnc","iterationIndex","lastIndex","keyframes","keyframesMetadata","endValue","nextKeyTime","keyTime","to","ti","ind","__fnct","segmentPerc","distanceInLine","lastFrame","_lastKeyframeIndex","_lastAddedLength","_lastPoint","outX","outY","inX","inY","keyValue","sh","quaternionToEuler","slerp","createQuaternion","omega","cosom","sinom","scale0","scale1","az","aw","bx","by","bz","bw","acos","quat","qx","qy","qz","qw","heading","atan2","attitude","asin","bank","values","c3","s1","s2","s3","getValueAtCurrentTime","comp","renderedFrame","endTime","_caching","renderResult","setVValue","multipliedValue","mult","processEffectsSequence","elem","globalData","frameId","effectsSequence","lock","_isFirstFrame","finalValue","kf","addEffect","effectFunction","ValueProperty","vel","MultiDimensionalProperty","KeyframedValueProperty","st","KeyframedMultidimensionalProperty","arrLen","getProp","TransformPropertyFactory","defaultVector","applyToMatrix","mat","sk","sa","rz","ry","rx","or","px","py","pz","processKeys","forceRender","_isDirty","precalculateMatrix","frameRate","pre","appliedTransformations","autoOriented","v1","v2","getValueAtTime","autoOrient","_addDynamicProperty","TransformProperty","getTransformProperty","ShapePath","_maxLength","setPathData","setLength","pointPool","doubleArrayLength","setXYAt","pos","setTripleAt","vX","vY","oX","oY","iX","iY","reverse","newPath","vertices","outPoints","inPoints","init","cnt","ShapePropertyFactory","interpolateShape","previousValue","keyPropS","keyPropE","isHold","vertexValue","interpolateShapeCurrentTime","resetShape","localShapeCollection","shapesEqual","shape1","shape2","shapePool","releaseShapes","addShape","ShapeProperty","shapeCollectionPool","newShapeCollection","KeyframedShapeProperty","EllShapeProperty","cPoint","EllShapePropertyFactory","convertEllToPath","s0","_cw","_v","StarShapeProperty","StarShapePropertyFactory","ir","is","convertToPath","convertStarToPath","convertPolygonToPath","os","rad","roundness","perimSegment","numPts","longFlag","longRad","shortRad","longRound","shortRound","longPerimSegment","shortPerimSegment","currentAng","ox","oy","RectShapeProperty","RectShapePropertyFactory","convertRectToPath","v0","getShapeProp","getConstructorFunction","getKeyframedConstructorFunction","ShapeModifiers","modifiers","registerModifier","factory","getModifier","ShapeModifier","TrimModifier","RoundCornersModifier","PuckerAndBloatModifier","RepeaterModifier","ShapeCollection","DashProperty","dataProps","dashStr","dashArray","dashoffset","GradientProperty","cLength","_cmdf","_omdf","_collapsable","checkCollapsable","_hasOpacity","initModifierProperties","addShapeToModifier","setAsAnimated","sValue","eValue","pathsData","calculateShapeEdges","shapeLength","totalModifierLength","segments","segmentOb","shapeSegments","shapeS","shapeE","releasePathsData","release","processShapes","shapePaths","_s","totalShapeLength","edges","newShapesData","addShapes","lastShape","pop","addPaths","newPaths","addSegment","shapePath","newShape","addSegmentFromArray","shapeSegment","currentLengthData","segmentCount","segment","rd","processPath","clonedPath","currentV","currentI","currentO","closerV","distance","newPosPerc","amount","centerPoint","pathLength","tr","so","eo","pMatrix","rMatrix","sMatrix","tMatrix","matrix","applyTransforms","inv","scaleX","scaleY","elemsData","_currentCopies","_elements","_groups","unshift","resetElements","elements","_processed","cloneElements","newElements","changeGroupRender","renderFlag","_render","items","itemsTransform","cont","hasReloaded","copies","group","ix","reloadShapes","elems","transformData","op","offsetModulo","roundOffset","pProps","rProps","sProps","iteration","mProps","comparePoints","buildShapeString","pathNodes","_o","_i","shapeString","audioControllerFactory","AudioController","audioFactory","audios","_volume","_isMuted","addAudio","audio","pause","resume","setRate","rateValue","createAudio","assetPath","Howl","isPlaying","play","seek","playing","rate","setVolume","setAudioFactory","_updateVolume","mute","unmute","getVolume","volume","ImagePreloader","proxyImage","canvas","ctx","imageLoaded","loadedAssets","totalImages","loadedFootagesCount","totalFootages","imagesLoadedCb","footageLoaded","getAssetsPath","assetData","assetsPath","originalPath","imagePath","testImageLoaded","img","intervalId","setInterval","getBBox","_imageLoaded","clearInterval","createImageData","setAttributeNS","_elementHelper","createImgData","createFootageData","footageData","_footageLoaded","loadAssets","cb","images","_createImageData","setPath","setAssetsPath","getAsset","destroy","loadedImages","loadedFootages","setCacheType","elementHelper","ImagePreloaderFactory","featureSupport","maskType","filtersFactory","createFilter","filId","skipCoordinates","fil","createAlphaToLuminanceFilter","feColorMatrix","TextAnimatorProperty","textData","renderType","_hasMaskedPath","_frameId","_textData","_renderType","_elem","_animatorsData","_pathData","_moreOptions","alignment","renderedLetters","lettersChangedFlag","TextAnimatorDataProperty","animatorProps","defaultData","textAnimatorAnimatables","sw","fc","fh","fs","fb","TextSelectorProp","getTextSelectorProp","LetterProps","TextProperty","keysIndex","canResize","minimumFontSize","currentData","ascent","boxWidth","defaultBoxWidth","justifyOffset","lh","lineWidths","ls","of","ps","fillColorAnim","strokeColorAnim","strokeWidthAnim","yOffset","finalSize","finalText","finalLineHeight","copyData","searchProperty","completeTextData","searchProperties","maskManager","getMaskProperty","getMeasures","xPos","yPos","pathInfo","currentLength","currentPoint","pointInd","segmentInd","prevPoint","tanAngle","animators","matrixHelper","mHelper","renderedLettersCount","letters","tLength","pi","letterValue","yOff","firstLine","offf","xPathPos","yPathPos","elemOpacity","letterSw","letterSc","letterFc","letterO","initPathPos","initSegmentInd","initPointInd","currentLine","letterM","letterP","defaultPropsArray","animatorJustifyOffset","animatorFirstCharOffset","justifyOffsetMult","isNewLine","getMult","anIndexes","totalChars","line","extra","an","animatorOffset","rot","atan","updated","setCurrentData","searchKeyframes","getKeyframeValue","_finalValue","currentValue","currentIndex","textKeys","buildFinalText","charCode","charactersArray","shouldCombine","substr","newLineFlag","charData","fontManager","anchorGrouping","currentSize","currentPos","lineWidth","maxLineWidth","trackingOffset","currentHeight","boxHeight","lastSpaceIndex","currentChar","uncollapsedSpaces","animatorData","letterData","based","indexes","rn","newInd","currentInd","updateDocumentData","newData","dData","recalculate","canResizeFont","_canResize","setMinimumFontSize","_fontValue","TextSelectorPropFactory","_currentTextLength","finalS","finalE","xe","sm","textProperty","easer","tot","smoothness","threshold","newCharsFlag","divisor","poolFactory","initialLength","_create","_release","element","pooling","create","cloned","shapeCollection","markerParser","parsePayloadLines","lines","keysCount","Error","_markers","markers","_marker","markerData","time","tm","duration","dr","cm","__","BaseRenderer","SVGRenderer","animationItem","config","svgElement","ariaLabel","titleElement","titleId","description","descElement","descId","maskElement","layerElement","renderConfig","preserveAspectRatio","imagePreserveAspectRatio","contentVisibility","progressiveLoad","hideOnTransparent","viewBoxOnly","viewBoxSize","className","focusable","filterSize","pendingElements","destroyed","rendererType","MaskElement","viewData","solidPath","rect","expansor","feMorph","properties","currentMasks","layerId","maskRef","lastPath","filterID","expan","lastOperator","filterId","lastRadius","createLayerSolidPath","invRect","drawPath","maskedElement","addRenderableComponent","HierarchyElement","FrameElement","TransformElement","RenderableElement","RenderableDOMElement","ProcessedElement","SVGStyleData","level","lvl","hd","pElem","msElem","SVGShapeData","transformers","caches","lStr","SVGTransformData","SVGStrokeStyleData","styleOb","SVGFillStyleData","SVGGradientFillStyleData","initGradientData","SVGGradientStrokeStyleData","ShapeGroupData","prevViewData","gr","checkLayers","num","ip","buildItem","checkPendingElements","createItem","layer","createImage","createComp","createSolid","createNull","createShape","createText","createCamera","createFootage","AudioElement","FootageElement","buildAllItems","includeLayers","newLayers","setProjectInterface","pInterface","projectInterface","initItems","buildElementParenting","parentName","hierarchy","setAsParent","setHierarchy","addPendingElement","searchExtraCompositions","xt","initExpressions","registerComposition","setupGlobalData","animData","fontsContainer","getAssetData","imageLoader","imagePreloader","audioController","fr","compSize","NullElement","SVGShapeElement","SVGTextLottieElement","IImageElement","SVGCompElement","ISolidElement","configAnimation","wrapper","maskId","updateContainerSize","appendElementInPos","setMatte","checkParenting","renderFrame","currentFrame","prepareFrame","getBaseElement","nextElement","hide","display","show","isFirstFrame","finalMat","finalTransform","mProp","getMaskelement","pathString","pathShapeValue","initHierarchy","_isParent","prepareProperties","isVisible","initTransform","_matMdf","_opMdf","ao","renderTransform","globalToLocal","transforms","ptNew","initRenderable","isInRange","hidden","isTransparent","renderableComponents","component","removeRenderableComponent","prepareRenderableFrame","checkLayerLimits","checkTransparency","renderRenderable","sourceRectAtTime","getLayerSize","initElement","initBaseData","initRendererElement","createContainerElements","createRenderableComponents","createContent","baseElement","renderElement","renderInnerContent","innerElem","destroyBaseElement","stops","setGradientData","setGradientOpacity","pathElement","gradientId","gfill","stop","gf","cst","opacityId","opFill","lc","lj","ml","ms","ost","SVGElementsRenderer","_identityMatrix","_matrixHelper","createRenderFunction","renderFill","renderGradient","renderGradientStroke","renderStroke","renderPath","renderContentTransform","styleData","itemData","pathStringTransformed","redraw","iterations","lLen","styleElem","hasOpacity","attr1","attr2","cValues","oValues","ang","dist","ShapeTransformManager","sequences","sequenceList","transform_key_count","BaseElement","SVGBaseElement","IShapeElement","ITextElement","ICompElement","sourceRect","_isPlaying","_canPlay","_currentTime","_placeholder","supports3d","textSpans","shapesData","stylesList","shapeModifiers","itemsData","processedElements","animatedContents","SVGTintFilter","filter","filterManager","matrixFilter","effectElements","feMergeNode","feMerge","SVGFillFilter","SVGGaussianBlurEffect","feGaussianBlur","SVGStrokeEffect","initialized","SVGTritoneFilter","feComponentTransfer","feFuncR","feFuncG","feFuncB","SVGProLevelsFilter","createFeFunc","feFuncA","feFuncRComposed","feFuncGComposed","feFuncBComposed","SVGDropShadowEffect","feOffset","feFlood","feComposite","originalNodeAdded","addTransformSequence","sequence","processSequence","processSequences","getNewKey","checkMasks","layerInterface","LayerExpressionInterface","registerMaskInterface","effectsInterface","EffectsExpressionInterface","createEffectsInterface","registerEffectsInterface","compInterface","CompExpressionInterface","shapeInterface","ShapeExpressionInterface","textInterface","TextExpressionInterface","setBlendMode","blendModeValue","bm","sr","effectsManager","EffectsManager","getType","matteElement","transformedElement","_sizeChanged","gg","layerElementParent","masker","maskGroup","maskGrouper","feCTr","feFunc","alphaRect","ln","cp","clipId","cpGroup","renderableEffectsManager","SVGEffects","addShapeToModifiers","isShapeInAnimatedModifiers","isAnimatedWithShape","renderModifiers","searchProcessedElement","addProcessedElement","textAnimator","buildNewText","createPathShape","shapeStr","_fontSize","applyTextPropertiesToMatrix","lineNumber","buildColor","colorData","emptyProp","timeRemapped","setElements","getElements","destroyElements","pr","volumeValue","textContainer","buildTextContents","textArray","textContents","currentTextContent","tSpan","usesGlyphs","cachedSpansLength","tElement","justify","textBox","bbox","renderedLetter","textSpan","initSecondaryElement","identityMatrix","buildExpressionInterface","searchShapes","filterUniqueShapes","tempShapes","areAnimated","setShapesAsAnimated","createStyleElement","elementData","addToAnimatedContents","createGroupElement","createTransformElement","transformProperty","createShapeElement","ownTransformers","setElementStyles","render","currentTransform","modifier","processedPos","ownStyles","ownModifiers","renderShape","animatedContent","colorBlack","colorWhite","opacity","kBlurrinessToSigma","sigma","dimensions","sigmaX","sigmaY","edgeMode","initialize","groupPath","elemChildren","children","childNodes","removeAttribute","pathMasker","dasharrayValue","getTotalLength","lineLength","units","color1","color2","color3","tableR","tableG","tableB","getTableValue","inputBlack","inputWhite","gamma","outputBlack","outputWhite","colorValue","table","outputDelta","inputDelta","col","_svgMatteSymbols","SVGMatte3Effect","filterElem","findSymbol","replaceInParent","symbolId","nextChild","useElem","setElementAsMask","symbol","animationManager","registeredAnimations","playingAnimationsNum","_stopped","_isFrozen","removeElement","ev","animItem","isPaused","subtractPlayingCount","registerAnimation","AnimationItem","setupAnimation","setData","getRegisteredAnimations","lenAnims","animations","addPlayingCount","activate","params","setParams","setSpeed","setDirection","nowTime","elapsedTime","advanceTime","first","goToAndStop","isFrame","togglePause","searchAnimations","standalone","animElements","getElementsByClassName","div","resize","freeze","unfreeze","currentRawFrame","frameMult","playSpeed","playDirection","playCount","animationID","timeCompleted","segmentPos","isSubframeEnabled","_idle","_completedLoop","onSetupError","onSegmentComplete","animType","CanvasRenderer","rendererSettings","HybridRenderer","parseInt","autoloadSegments","initialSegment","lastIndexOf","fileName","trigger","wrapperAttributes","attributes","getNamedItem","prerender","loadNextSegment","segmentPath","loadSegments","imagesLoaded","checkLoaded","preloadImages","updaFrameModifier","waitForFontsLoaded","triggerConfigError","gotoFrame","setSubframe","triggerRenderFrameError","setCurrentRawFrameValue","getMarkerData","markerName","marker","numValue","isNaN","frameModifier","goToAndPlay","playSegments","nextValue","_isComplete","checkSegments","adjustSegment","setSegment","end","pendingFrame","forceFlag","resetSegments","onEnterFrame","onLoopComplete","onSegmentStart","onDestroy","getPath","getDuration","lottie","setLocationHref","setSubframeRendering","setIDPrefix","prefix","setQuality","inBrowser","installPlugin","plugin","getFactory","checkReady","readyStateCheckInterval","getQueryVariable","variable","vars","queryString","pair","decodeURIComponent","useWebWorker","__getFactory","version","scripts","myScript"],"sourceRoot":""}